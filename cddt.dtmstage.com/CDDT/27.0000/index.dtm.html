

<!DOCTYPE html>
<html class="dtm @dv dtm--index dtm--orderpage @f dtm--front">

	<head>

		<title>Toppik - #1 HAIR FILLING SOLUTION
</title>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, maximum-scale=1.0">
	    <meta name="description" content="At Toppik, we are committed to delivering results you can see in the mirror. Discover how Toppik continues to enhance our customers' appearance and lives.">
	    <meta name="keywords" content="get Toppik, buy Toppik, order Toppik, shop Toppik, purchase Toppik, Toppik deals, Toppik online, toppik, toppick, toppic, top pik, buy toppik, toppik hair fiber, toppik tv, toppic as seen on tv, topikk, get toppik, get topikk, getoppik, gettopik, gettoppic, get topix, topik, www toppik com, toppik hair fibres, topp ik, toppik tv deal, gettoppik, get toppik hair fibers, gettoopik, toppik com, toppik hair fibers, order toppik, to pik, toppik on tv, toppik 39.99, toppix hair, get toppic, get toppek, get toppick, get toppix, gettippik, gettoppick, gettoppikk, gettoppix, Toppiks.com, Toppiksystem.com, TryTopic.com, Trytoppik.com, trytopik.com,  +www.toppik.com, topicks com, toppika com, get topic com, www get toppik com, www gettoppic com, get tpppik com, getoppik com, gettoopik com, gettoppick com, gettoppit com, gettpppik com, gettoppik.com, TryTopiks.com, gettoppic.com, trytoppic.com, trytoppiks.com, topicx com, www topik com, www get topik now com, www get toppic com, www getoppik com, www gettippik com, www gettopic com, www gettoppick com, www gettoppik com, www gettoppix com, get toppic com, get yoppik com, gettoppikcom, gettoppix com, www.toppik.com,  +toppik.com, gettopic.com, gettopics.com, toppikdeal, toppikdeal com, toppikdeal.com, Topiksystem.com, Toppek.com, Toppik4less.com, TryTopics.com, gettopik.com, gettopiks.com, gettoppiks.com, get toppik com, www toppik, toppik.com, www get toppix com, get toppick com, get toppik now com, get toppik vom, get toppix com, gettippik com, gettoppik cim, gettoppuk com, toppik deal site, www.toppikdeal.com,  alopecia, what is alopecia, alopecia areata, alopecia treatment, alopecia hair loss, alopecia areata treatment, alopecia universalis, alopecia pills, androgenic alopecia, alopcia toppik
">
		
		<meta name="theme-color" content="#ffffff">

		<!-- // Open Graph Metadata -->
		<meta property="og:title" content="Toppik - #1 HAIR FILLING SOLUTION
">
		<meta property="og:type" content="website">
		<meta property="og:description" content="At Toppik, we are committed to delivering results you can see in the mirror. Discover how Toppik continues to enhance our customers' appearance and lives.">
		<meta property="og:url" content="https://cddt.dtmstage.com/CDDT/27.0000/Index.dtm">
		<meta property="og:image" content="https://cddt.dtmstage.com/shop/500x500-20.jpg">

		<!-- // Twitter Metadata -->
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:title" content="Toppik - #1 HAIR FILLING SOLUTION
">
		<meta name="twitter:description" content="At Toppik, we are committed to delivering results you can see in the mirror. Discover how Toppik continues to enhance our customers' appearance and lives.">
		<meta name="twitter:image" content="https://cddt.dtmstage.com/shop/500x500-20.jpg">
		<meta name="twitter:domain" content="https://cddt.dtmstage.com/CDDT/27.0000/Index.dtm">

	    

	        <meta name="robots" content="noindex, nofollow">

	    

		<link rel="apple-touch-icon" sizes="180x180" href="https://cddt.dtmstage.com/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="https://cddt.dtmstage.com/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="194x194" href="https://cddt.dtmstage.com/favicon-194x194.png">
		<link rel="icon" type="image/png" sizes="192x192" href="https://cddt.dtmstage.com/android-chrome-192x192.png">
		<link rel="icon" type="image/png" sizes="16x16" href="https://cddt.dtmstage.com/favicon-16x16.png">
		<link rel="manifest" href="https://cddt.dtmstage.com/site.webmanifest">
		<link rel="mask-icon" href="https://cddt.dtmstage.com/safari-pinned-tab.svg" color="#a190cb">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="/mstile-144x144.png">
		<meta name="theme-color" content="#ffffff">

	    <!-- ************** AUTHOR NO. BELOW ************** -->

	    <meta name="author" content="Toppik">

	    <!-- ************** AUTHOR NO. ABOVE ************** -->

		

<link rel="preload" href="https://cddt.dtmstage.com/fonts/archia-regular-webfont.woff2" as="font" crossorigin="anonymous" type="font/woff2" />

<link rel="preload" href="https://use.typekit.net/erh0tiw.css" as="style">
<link rel="stylesheet" href="https://use.typekit.net/erh0tiw.css">

<link rel="preload" href="https://cddt.dtmstage.com/css/Site25/shell.css" as="style">
<link rel="stylesheet" href="https://cddt.dtmstage.com/css/Site25/shell.css">
<link href="https://cddt.dtmstage.com/Shared/css/jquery-ui.custom.min.css?v=6.0.1722.1545" rel="stylesheet" />


    <link rel="preload" href="https://cddt.dtmstage.com/css/Site25/page.css" as="style">
    <link rel="stylesheet" href="https://cddt.dtmstage.com/css/Site25/page.css">  

    
        <link rel="preload" href="https://cddt.dtmstage.com/css/Site25/index.css" as="style">
        <link rel="stylesheet" href="https://cddt.dtmstage.com/css/Site25/index.css">
    

    <script defer src="https://cddt.dtmstage.com/js/Site25/app.es5.js"></script>

    <script defer src="https://cddt.dtmstage.com/js/app.expando.js"></script>
    <script defer src="https://cddt.dtmstage.com/js/dtm.js"></script>
    <script defer src="https://cddt.dtmstage.com/js/express-checkout.js"></script>

        <script defer src="https://cddt.dtmstage.com/shared/js/fancybox/3.5.7/jquery.fancybox.min.js"></script>
        
        <link rel="stylesheet" href="https://cddt.dtmstage.com/shared/js/fancybox/3.5.7/jquery.fancybox.min.css"  media="print" onload="this.media='all'; this.onload=null;"/>
        

	</head>

	<body class="dtm__in dtm__in--dv">

		

<svg class="svg-symbols">
	<symbol id="logo" viewBox="0 0 232.6 124.6">
		<polygon points="221.7,96.5 220.9,96.5 220.9,90 218.4,90 218.4,89.3 224.1,89.3 224.1,90 221.7,90 "/>
		<polygon points="231.8,89.3 229.1,93.2 226.5,89.3 225.6,89.3 225.6,96.5 226.4,96.5 226.4,90.7 229.1,94.5 229.1,94.5 231.8,90.7 
			231.8,96.5 232.6,96.5 232.6,89.3 "/>
		<path d="M163,25.9c0.2-6.4,4.1-19.2,11.4-25.9l0.4,0.4c-6.2,8.9-6.8,17.3-7.1,25.5H163z"/>
		<path d="M35.6,31.7c0,3.1,0,10.2,0,10.2h-1.4c0,0,0-4.9-0.8-6c-0.8-1.1-2-1.8-3.4-2c-3-0.4-6.1-0.6-9.2-0.5v62l4.4,0.1V97H10.5v-1.5
			l4.5-0.1v-62c-2.6,0-7.5-0.2-9.4,0.4c-1.1,0.2-2,0.8-2.6,1.7c-1.3,1.4-1.5,6.5-1.5,6.5H0V31.7H35.6"/>
		<path d="M168.9,31.1v64.2l4.4,0.1v1.5h-14.6v-1.4l4.3-0.2V33.2h-3.8v-1.5C159.1,31.7,165.8,31.8,168.9,31.1"/>
		<path d="M53.6,30.5c15.7,0,19.1,25.4,19.1,34.6c0,7.9-2.9,33.2-19.5,33S33.7,71.6,33.7,63.7C33.7,54.3,37.5,30.5,53.6,30.5
				M53.4,32.3c-4.4,0-8.1,3.4-10,7.7c-3.2,7.5-3.2,16.2-3.3,24.1c-0.1,5.1,1.1,16.4,2.2,20.7c2.2,8.6,5.7,11.6,11.3,11.7
			c6.9,0.1,9.5-7.4,10.7-13.3c1.3-6.2,1.9-12.6,1.8-19c-0.2-8.6-0.3-15.5-3.1-24C61.5,35.7,58.1,32.3,53.4,32.3"/>
		<path d="M96.5,30.5c2,0,4,0.5,5.7,1.4c2,1.2,3.7,2.8,5,4.8c5.5,8.1,7.3,19.5,6.8,29.1c-0.6,10-2.4,20.6-9.6,28.5
			c-2.6,2.9-6.6,4.3-10.4,3.4c-5.6-1.4-7.8-7.7-9-13.2c0-0.1-0.2,0.1-0.2,0c0.1,1.4,0.3,2.9,0.2,4.6c-0.1,7.5,0.2,33.8,0.2,33.8
			l4.2,0.3v1.4H75.1v-1.4l4.3-0.2V33.2h-4.1v-1.5c2.8,0,6.7,0.1,9.5-0.6c0.1,2.7,0,8.9-0.4,13.4c0,0,0.2,0,0.2,0.2
			C86,37.3,89.6,30.7,96.5,30.5 M96.3,32.4c-4.7,0.1-7.5,5-8.6,8.1c-3.8,10.8-3.8,24.5-2.4,36.9c0.5,4.7,1.9,9.3,4,13.6
			c2.9,5.9,8.1,6,11,3.6c3.7-3,5.6-9.9,6.7-16.7c0.7-6.3,1-12.5,1-18.8c-0.3-7.4-1-13.9-3.4-20.6C103.4,34.9,100.1,32.4,96.3,32.4"/>
		<path d="M138.2,30.5c2,0,4,0.5,5.7,1.4c2,1.2,3.7,2.8,5,4.8c5.5,8.1,7.3,19.5,6.8,29.1c-0.6,10-2.4,20.6-9.6,28.5
			c-2.6,2.9-6.6,4.3-10.4,3.4c-5.6-1.4-7.8-7.7-9-13.2c0-0.1-0.2,0.1-0.2,0c0.1,1.4,0.3,2.9,0.3,4.6c-0.1,7.5,0.2,33.8,0.2,33.8
			l4.2,0.3v1.4h-14.3v-1.4l4.2-0.2V33.2h-4v-1.5c2.8,0,6.7,0.1,9.5-0.6c0.1,2.7,0,8.9-0.4,13.4c0,0,0.2,0,0.2,0.2
			C127.7,37.3,131.4,30.7,138.2,30.5 M138,32.4c-4.7,0.1-7.5,5-8.6,8.1c-3.8,10.8-3.8,24.5-2.4,36.9c0.5,4.7,1.9,9.3,4,13.5
			c2.9,5.9,8.1,6,11,3.6c3.7-3,5.6-9.9,6.7-16.7c0.6-6.3,1-12.5,0.9-18.8c-0.4-7.4-1-13.9-3.4-20.6C145.1,34.9,141.8,32.4,138,32.4"/>
		<path d="M178.1,97v-1.5l4.5-0.2v-62l-4.5-0.2v-1.5h14.7v1.5l-4.5,0.2v28.4c0,0-0.1,2.9-0.2,3.4l0.3,0.2c0,0,1-2,1.4-2.8
			s13.5-24.8,13.9-25.8c0.3-1,0.2-2-0.3-2.9c-0.6-0.6-3.7-0.7-3.9-0.7v-1.5h12.9v1.5c-0.9,0-1.7,0-2.6,0.1c-1,0.3-1.9,0.9-2.4,1.8
			c-0.6,1-10.8,19.4-11,19.6l-0.4,0.4c0.1,0.1,0.1,0.3,0.2,0.4c0.1,0.2,15.2,39.8,15.2,39.8l4.1,0.2V97h-15.3v-1.5l4.5-0.2L193,63.8
			c-0.2-0.5-0.3-0.9-0.4-1.4l-0.2-0.2l-0.2,0.6c-0.1,0.4-4,7.1-4,7.1v25.3l4.7,0.3V97H178.1z"/>
	</symbol>
</svg>



<header id="nav" class="view nav section @print-only-hide">
    <span class="skip-link">
        <a href="index.dtm.html#main" class="skip-link__button" id="skip-link"><span>Skip To Main Content?</span></a>
    </span>
    
    <div class="promo-banner">
        <div class="view__in section__in">
            <div class="promo-banner__text">
                Spend $20 and use code <b>BOOST10</b> to <b>save 10%</b>
                <button type="button" data-modal-dialog-id="promo-disclaimer-container" data-modal-dialog-actor="open" class="promo-banner__link" aria-haspopup="true">See details</button>
            </div>
        </div>
    </div>
    
    <div class="view__in nav__group nav__in section__in">
        <div class="nav__logo logo-text">
            <a href="index.dtm.html#main" class="logo-text__group">
        <svg class="logo-text__logo" aria-label="Toppik"><use href="#logo" /></svg>
        <span class="logo-text__text">Conceals. Enhances. Perfects.</span>
    </a>
        </div>
        
        <button type="button" class="nav__label" aria-label="Toggle Menu">
            <span></span>
        </button>
        <div class="nav__underlay nav__underlay--for-drawer" role="presentation"></div>
        <nav aria-label="Website page links" class="nav__pane">
            <div class="nav__group">
                <div class="nav__list nav__tier-first">
                    <div class="nav__logo logo-text logo-text--stack">
                        <a href="index.dtm.html#main" class="logo-text__group">
        <svg class="logo-text__logo" aria-label="Toppik"><use href="#logo" /></svg>
        <span class="logo-text__text">Conceals. Enhances. Perfects.</span>
    </a>
                    </div>
                    
                            <a class="nav__link" href="index.dtm.html#main" id="nav-home">
                                <span>Home</span>
                            </a>
                            
                            <a class="nav__link" href="https://cddt.dtmstage.com/CDDT/27.0000/How-To-Use.dtm" id="nav-how-to-use">
                                <span>How To Use</span>
                            </a>
                            
                            <a class="nav__link" href="index.dtm.html#customer-reviews" id="nav-customer-reviews">
                                <span>Real Results</span>
                            </a>
                            
                            <a class="nav__link" href="index.dtm.html#technology" id="nav-technology">
                                <span>Technology</span>
                            </a>
                            
                            <a class="nav__link" href="index.dtm.html#order" id="nav-order-now">
                                <span>Order Now</span>
                            </a>
                            
                </div>
            </div>
        </nav>
        
    </div>
</header>

<template data-modal-dialog-template>
    <section id="promo-disclaimer-container" aria-labelledby="promo-disclaimer-title" data-modal-dialog-title="Disclaimer for free spray Promotion" data-modal-dialog-container class="view content section">
        <div id="promo-disclaimer" class="view__anchor"></div>
        <div class="view__in content__text section__in">
            <h2 id="promo-disclaimer-title" class="content__title">OFFER DETAILS</h2>
            <p>*Offer valid through October 30th, 2023 (11:59pm EST) while supplies last. Spend $20 and use code BOOST10 to save 10% on your order. Valid on first payment of subscriptions, standard pricing resumes on second shipment. Cannot be combined with other offers. Free shipping. Can be redeemed at GetToppik.com. Offer not valid where other Toppik products are sold.</p>
        </div>
    </section>
</template>



<main aria-labelledby="main-title" class="view hero">
	<div id="main" class="view__anchor"></div>
	<div class="hero__background"></div>
	<div class="view__in section__in hero__in">
		<div class="hero__text">
			<h1 class="hero__standfirst">#1 Hair Filling Solution</h1>
			<h2 class="hero__title">CONCEALS. ENHANCES. PERFECTS.</h2>
			<p>Whether you're looking to conceal your roots, enhance your
			style or perfect your hairline, Toppik Hair Building Fibers are
			the perfect finishing touch and are available in 9 shades for
			all hair types and textures.</p>
		</div>
	</div>
</main>

<section aria-labelledby="media-title" class="view section main-offer">
	<div id="main-offer" class="view__anchor"></div>
	<div class="view__in section__in">
		<h2 class="callout">EXCLUSIVE WEB ONLY OFFER!</h2>

		<div class="main-offer__group">
			<div class="main-offer__price-payment-order">
				<div class="sr main-offer__price">
					<div class="sr__text">Now Only $24.95</div>
					  	<div class="offer" aria-hidden="true" role="presentation">
						<span class="offer__standfirst">NOW ONLY</span>
						<div class="offer__group">
							<span class="offer__currency">$</span>
							<span class="offer__amt">24</span>
							<span class="offer__follow">
								<span class="offer__cent">95</span>
								<span class="offer__disclaimer"></span>
							</span>
						</div>
					</div>
				</div>
				<a href="index.dtm.html#order" id="main-offer-order" class="button">Order Now</a>
				

<div class="payment">
    <div class="payment__group">

        
        <div style="--aspect-ratio: 120/190" class="payment__item payment__item--visa">
            <img src="https://cddt.dtmstage.com/shared/images/payment/Visa.svg?v=6.0.1722.1545" alt="Visa">
        </div>
        
        <div style="--aspect-ratio: 120/190" class="payment__item payment__item--mastercard">
            <img src="https://cddt.dtmstage.com/shared/images/payment/Mastercard.svg?v=6.0.1722.1545" alt="Mastercard">
        </div>
        
        <div style="--aspect-ratio: 120/190" class="payment__item payment__item--amex">
            <img src="https://cddt.dtmstage.com/shared/images/payment/Amex.svg?v=6.0.1722.1545" alt="Amex">
        </div>
        
        <div style="--aspect-ratio: 120/190" class="payment__item payment__item--discover">
            <img src="https://cddt.dtmstage.com/shared/images/payment/Discover.svg?v=6.0.1722.1545" alt="Discover">
        </div>
        
        <div style="--aspect-ratio: 120/190" class="payment__item payment__item--paypal">
            <img src="https://cddt.dtmstage.com/shared/images/payment/paypal.svg?v=6.0.1722.1545" alt="PayPal">
        </div>
        
    </div>
</div>





			</div>

			<div class="main-offer__products">
				<figure class="main-offer__fibers">
					<picture >
						<img src="https://cddt.dtmstage.com/images/products/fibers.png" height="257" width="149" alt="Hair Building Fibers"/>
					</picture>
					<figcaption>12g Fibers</figcaption>
				</figure>

				<div class="main-offer__available">
				<span class="main-offer__available--text">AVAILABLE IN</span> 
				<b>9 SHADES</b></div>

				<div class="main-offer__plus">
				<span class="main-offer__plus--icon"><b>+</b></span> 
				</div>

				<div class="main-offer__value">
					<span class="main-offer__value--price">$20</span>
					<span class="main-offer__value--text">VALUE</span>
				</div>

				<figure class="main-offer__organizer">
					<div class="burst burst--tv">
						<small>Special</small> 
						<span>TV</span> 
						<small>Offer!</small>
					</div>
					<picture>
						<img src="https://cddt.dtmstage.com/images/products/hairstyle-organizer.png" height="199" width="340" alt="Toppik Hairstyle Organizer"/>
					</picture>
					<figcaption>
						<b>FREE</b> Hair Perfecting Duo Kit
					</figcaption>
				</figure>
			</div>

			<div class="main-offer__info">
				<div class="main-offer__shipping">
					<b>FREE SHIPPING! </b> with subscription
				</div>

				<div class="main-offer__mbg">
					<b>30 DAY</b> 
					<span>MONEY BACK GUARANTEE</span> 
					<small>Less S&H</small>
				</div>
			</div>
		</div>
	</div>
</section>

<section aria-labelledby="features-benefits-title" class="view content content--media-player-text section bg bg--media-player">
	<div id="features-benefits" class="view__anchor"></div>
	<div class="view__in section__in">
		<div class="content__group">
			<div class="content__text">
				<h2 class="content__title">Full Hair, Full Confidence</h2>
				<ul class="stats-text">
					<li><b>93%</b> <span>agree Toppik makes them look younger and more attractive*</span></li>
					<li><b>90%</b> <span>agree that Toppik is natural looking*</span></li>
					<li><b>96%</b> <span>would recommend Toppik to others**</span></li>
				</ul>
			</div>
			<div class="content__video">
				<div class="view media-player">
					<div id="video" class="view__anchor"></div>
					<noscript>
						<style>
							.media__player {
								display: none;
							}
						</style>
					</noscript>
					
					<div class="media-player__player">
						<div class="media-player__video contain contain--video" data-media-player-src-iframe="https://player.vimeo.com/video/622514432">
							<iframe src="https://player.vimeo.com/video/622514432?autopause=0" frameborder="0" allow="fullscreen" allowfullscreen title="Commercial"></iframe>
						</div>
						
							<nav aria-label="Video playlist" class="media-player__group">
							
								<button id="video-button-watch-the-show" class="button button--accent button--can-scale media-player__button" data-media-player-video-id="622514432">Watch The Show</button>
								
								<button id="video-button-how-it-works" class="button button--accent button--can-scale media-player__button" data-media-player-video-id="473169509">How It Works</button>
								
							</nav>
							
					</div>
					
				</div>
			</div>
		</div>
	</div>
</section>

<section aria-labelledby="results-title" class="view section content content--results bg bg--results">
	<div id="results" class="view__anchor"></div>
	<div class="view__in section__in">
		<div class="section__block content__header">
			<h2 id="results-title" class="content__title">Real Natural-Looking Results</h2>
			<p>At Toppik, we are committed to delivering results you can actually see in the mirror. Discover how Toppik continues to enhance, not only our customers' appearance, but also their lives.</p>
		</div>

		<div class="section__block">
			<div class="slide slide--result">
				<div id="baf" class="slide__into" tabindex="0">
					<div class="slide__item baf">
						<figure class="baf__before">
							<picture data-src-img="/images/bas/15.0000/before-1.jpg">
								<img src="https://cddt.dtmstage.com/shared/images/blank.png" height="311" width="311" alt=""/>
							</picture>
							<figcaption>Before</figcaption>
						</figure>

						<figure class="baf__after">
							<picture data-src-img="/images/bas/15.0000/after-1.jpg">
								<img src="https://cddt.dtmstage.com/shared/images/blank.png" height="311" width="311" alt=""/>
							</picture>
							<figcaption>After</figcaption>
						</figure>
					</div>

					<div class="slide__item baf">
						<figure class="baf__before">
							<picture data-src-img="/images/bas/15.0000/before-2.jpg">
								<img src="https://cddt.dtmstage.com/shared/images/blank.png" height="311" width="311" alt=""/>
							</picture>
							<figcaption>Before</figcaption>
						</figure>

						<figure class="baf__after">
							<picture data-src-img="/images/bas/15.0000/after-2.jpg">
								<img src="https://cddt.dtmstage.com/shared/images/blank.png" height="311" width="311" alt=""/>
							</picture>
							<figcaption>After</figcaption>
						</figure>
					</div>

					<div class="slide__item baf">
						<figure class="baf__before">
							<picture data-src-img="/images/bas/15.0000/before-3.jpg">
								<img src="https://cddt.dtmstage.com/shared/images/blank.png" height="311" width="311" alt=""/>
							</picture>
							<figcaption>Before</figcaption>
						</figure>

						<figure class="baf__after">
							<picture data-src-img="/images/bas/15.0000/after-3.jpg">
								<img src="https://cddt.dtmstage.com/shared/images/blank.png" height="311" width="311" alt=""/>
							</picture>
							<figcaption>After</figcaption>
						</figure>
					</div>

					<div class="slide__item baf">
						<figure class="baf__before">
							<picture data-src-img="/images/bas/15.0000/before-4.jpg">
								<img src="https://cddt.dtmstage.com/shared/images/blank.png" height="311" width="311" alt=""/>
							</picture>
							<figcaption>Before</figcaption>
						</figure>

						<figure class="baf__after">
							<picture data-src-img="/images/bas/15.0000/after-4.jpg">
								<img src="https://cddt.dtmstage.com/shared/images/blank.png" height="311" width="311" alt=""/>
							</picture>
							<figcaption>After</figcaption>
						</figure>
					</div>
				</div>
				<nav aria-label="Before and after photos previous and next slides" class="slide__nav">
                    <button
                        id="result-slide-prev"
                        aria-label="Select the previous slide"
                        class="slide__prev"
                        type="button">
                        <svg class="icon icon-chevron"><use href="#icon-chevron"></use></svg>
                    </button>
                    <button
                        id="result-slide-next"
                        aria-label="Select the next slide"
                        class="slide__next"
                        type="button">
                        <svg class="icon icon-chevron"><use href="#icon-chevron"></use></svg>
                    </button>
                </nav>
			</div>
		</div>
	</div>
</section>

<section aria-labelledby="shades-title" class="view content content--shades section">
	<div id="shades" class="view__anchor"></div>
	<div class="view__in section__in">
		<div class="section__block content__header">
			<h2 id="shades-title" class="content__title">Available in 9 shades</h2>
			<p>that can be mixed to match virtually any hair color, Hair Building Fibers work for all hair types and textures. Also great for part lines, covering extension tracks and touching up roots between hair color appointments. Easily washes out with shampoo.</p>
		</div>

		<div class="section__block shades">
			

<div class="shades">
    <div class="shades__group">
    
        <picture data-src-img="/images/colors/15.0000/black.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Black">
        </picture>
        <picture data-src-img="/images/colors/15.0000/dark-brown.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Dark Brown">
        </picture>
        <picture data-src-img="/images/colors/15.0000/medium-brown.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Medium Brown">
        </picture>
        <picture data-src-img="/images/colors/15.0000/light-brown.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Light Brown">
        </picture>
        <picture data-src-img="/images/colors/15.0000/medium-blonde.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Medium Blonde">
        </picture>
        <picture data-src-img="/images/colors/15.0000/light-blonde.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Light Blonde">
        </picture>
        <picture data-src-img="/images/colors/15.0000/auburn.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Auburn">
        </picture>
        <picture data-src-img="/images/colors/15.0000/gray.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Gray">
        </picture>
        <picture data-src-img="/images/colors/15.0000/white.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="White">
        </picture>
    </div>
</div>
		</div>

		<div class="section__block content__footer">
			<a href="index.dtm.html#order" id="shades-order-btn" class="button">Click Here to Order Now</a>
		</div>
	</div>
</section>



<section aria-labelledby="reviews-title" class="view review section">
    <div id="customer-reviews" class="view__anchor"></div>
    <div class="review__background-filter">
        <div class="review__background"></div>
    </div>

    <div class="view__in section__in review__in">
        <div class="review__content">
        
            <h2 id="reviews-title" class="review__title">Toppik Rave Reviews</h2>
        
            <div class="slide slide--review">
                <div id="reviews-slide" class="slide__into" tabindex="0">
                    
                    <div id="review-0" class="slide__item">
                        
                        <figure class="review__quote">
                            <picture class="review__stars" data-src-img="/images/stars.svg">
                              <noscript>
                                <img src="https://cddt.dtmstage.com/images/stars.svg" alt="5 stars">
                              </noscript>
                            </picture>
                            <blockquote>Since I discovered Toppik, I can wear ponytails, I can side part, pull it back, whatever. I never thought there was an instant solution. Wearing Toppik and not having to be concerned about my thinner areas just makes me all the more confident.</blockquote>
                            <figcaption>Cassie</figcaption>
                        </figure>
                        
                    </div>
                    
                    <div id="review-1" class="slide__item">
                        
                        <figure class="review__quote">
                            <picture class="review__stars" data-src-img="/images/stars.svg">
                              <noscript>
                                <img src="https://cddt.dtmstage.com/images/stars.svg" alt="5 stars">
                              </noscript>
                            </picture>
                            <blockquote>Love it!!! It really makes my hair feel full and beautiful. I highly recommend this product to everyone this product everyone that wants fuller hair and more confidence.</blockquote>
                            <figcaption>Annabella</figcaption>
                        </figure>
                        
                    </div>
                    
                    <div id="review-2" class="slide__item">
                        
                        <figure class="review__quote">
                            <picture class="review__stars" data-src-img="/images/stars.svg">
                              <noscript>
                                <img src="https://cddt.dtmstage.com/images/stars.svg" alt="5 stars">
                              </noscript>
                            </picture>
                            <blockquote>My overall experience was great and different. It covers all my little receding hairline and bald spots which makes me look 10 times younger.</blockquote>
                            <figcaption>Damien</figcaption>
                        </figure>
                        
                    </div>
                    
                    <div id="review-3" class="slide__item">
                        
                        <figure class="review__quote">
                            <picture class="review__stars" data-src-img="/images/stars.svg">
                              <noscript>
                                <img src="https://cddt.dtmstage.com/images/stars.svg" alt="5 stars">
                              </noscript>
                            </picture>
                            <blockquote>I love the product! I use it daily, and don't see myself ever stopping. It's so affordable, not damaging, and easy to use.</blockquote>
                            <figcaption>Charity</figcaption>
                        </figure>
                        
                    </div>
                    
                </div>
                
                <nav aria-label="Reviews previous and next slides" class="slide__nav">
                    <button
                        id="review-slide-prev"
                        aria-label="Select the previous slide"
                        class="slide__prev"
                        type="button">
                        <svg class="icon icon-chevron"><use href="#icon-chevron"></svg>
                    </button>
                    <button
                        id="review-slide-next"
                        aria-label="Select the next slide"
                        class="slide__next"
                        type="button">
                        <svg class="icon icon-chevron"><use href="#icon-chevron"></svg>
                    </button>
                </nav>
                <nav aria-label="Reviews thumbnail" class="review__thumbnails slide__thumbnails">
                    
                            <a href="index.dtm.html#review-0" class="slide__thumbnail slide__dot" data-slide-index="0" aria-label="Navigate to review set 0"></a>
                            
                            <a href="index.dtm.html#review-1" class="slide__thumbnail slide__dot" data-slide-index="1" aria-label="Navigate to review set 1"></a>
                            
                            <a href="index.dtm.html#review-2" class="slide__thumbnail slide__dot" data-slide-index="2" aria-label="Navigate to review set 2"></a>
                            
                            <a href="index.dtm.html#review-3" class="slide__thumbnail slide__dot" data-slide-index="3" aria-label="Navigate to review set 3"></a>
                            
                </nav>
                
            </div>
            
        </div>
        </div>
    </div>
</section>


<section aria-labelledby="technology-title" class="view content content--title-image-caption section">
	<div id="technology" class="view__anchor"></div>
	<div class="view__in section__in">
		<div class="section__block content__header">
			<h2 id="technology-title" class="content__title">Durable, stays in place all day from shampoo to shampoo</h2>
			<p>Made from the highest grade of natural Keratin, Toppik Hair Building Fibers are nearly identical to human hair, which allows the fibers to blend naturally and bind undetectably to even the finest of hair.</p>
			<p>The fibers are also "colorfast", which means they won't run or rub off on clothes or pillows.</p>
		</div>

		<div class="section__block">
			<div class="content__group">
				<figure>
					<picture data-src-img="/images/resistant/sweat.jpg">
						<img src="https://cddt.dtmstage.com/shared/images/blank.png" alt="Sweating" height="251" width="251">
					</picture>
					<figcaption><b>SWEAT</b> <b>RESISTANT</b></figcaption>
				</figure>
	
				<figure>
					<picture data-src-img="/images/resistant/wind.jpg">
						<img src="https://cddt.dtmstage.com/shared/images/blank.png" alt="Windy" height="251" width="251">
					</picture>
					<figcaption><b>WIND</b> <b>RESISTANT</b></figcaption>
				</figure>
	
				<figure>
					<picture data-src-img="/images/resistant/rain.jpg">
						<img src="https://cddt.dtmstage.com/shared/images/blank.png" alt="Rain" height="251" width="251">
					</picture>
					<figcaption><b>RAIN</b> <b>RESISTANT</b></figcaption>
				</figure>
			</div>
		</div>
	</div>
</section>

<nav aria-label="Quick actions and areas of interest" class="fp-nav fp-nav--is-hidden">
    <a href="index.dtm.html#order" title="Order Now" class="fp-nav__a fp-nav__a--order">
        <span>Order<br>Now</span>
    </a>
    <a href="index.dtm.html#video" title="Watch The Commercial" class="fp-nav__a">
        <span>Watch<br>The Show</span>
    </a>
</nav>



		<section aria-label="Instagram photos" class="view section">
			<div id="instagram" class="view__anchor"></div>
			<div class="view__in">
				<div class="slide slide--instagram">
					<div class="slide__into">
						<div class="slide__item contain contain--instagram-picture" data-src-img="/images/instafeed/ig-1.jpg">
							<img src="https://cddt.dtmstage.com/shared/images/blank.png" width="320" height="320" alt="">
						</div>
						<div class="slide__item contain contain--instagram-picture" data-src-img="/images/instafeed/ig-2.jpg">
							<img src="https://cddt.dtmstage.com/shared/images/blank.png" width="320" height="320" alt="">
						</div>
						<div class="slide__item contain contain--instagram-picture" data-src-img="/images/instafeed/ig-3.jpg">
							<img src="https://cddt.dtmstage.com/shared/images/blank.png" width="320" height="320" alt="">
						</div>
						<div class="slide__item contain contain--instagram-picture" data-src-img="/images/instafeed/ig-4.jpg">
							<img src="https://cddt.dtmstage.com/shared/images/blank.png" width="320" height="320" alt="">
						</div>
						<div class="slide__item contain contain--instagram-picture" data-src-img="/images/instafeed/ig-5.jpg">
							<img src="https://cddt.dtmstage.com/shared/images/blank.png" width="320" height="320" alt="">
						</div>
						<div class="slide__item contain contain--instagram-picture" data-src-img="/images/instafeed/ig-6.jpg">
							<img src="https://cddt.dtmstage.com/shared/images/blank.png" width="320" height="320" alt="">
						</div>
						<div class="slide__item contain contain--instagram-picture" data-src-img="/images/instafeed/ig-7.jpg">
							<img src="https://cddt.dtmstage.com/shared/images/blank.png" width="320" height="320" alt="">
						</div>
					</div>
				</div>
			</div>
		</section>

		
<script>
    var gender = '';
    var emailOptVD = '';
    var termsVD = '';
</script>
<section aria-label="Checkout" class="view form section">
    <div id="order" class="view__anchor"></div>
    <div class="ft">
        <div class="ft__first">THIS OFFER IS NOT AVAILABLE IN STORES</div>
        <div class="ft__second">Fill out the form below to order your <strong>Toppik</strong> now!</div>
    </div>
    <form autcomplete="on" action="https://cddt.dtmstage.com/CDDT/27.0000/Index.dtm" method="post">
        <div class="view__in section__in">


            <div class="form">
                <div class="form__group form__group-section">
                    <div class="form__span-item">
                        <div class="callout">EXCLUSIVE WEB ONLY OFFER!</div>
                    </div>
                    <div class="view form__span-item">
                        <script>_AdaErrors = true;</script>
                        <div id="vse-errors" class="view__anchor"></div>
                        <div role="alert" class="vse" data-vse-scroll>
                            
                        </div>
                    </div>

                    <input type="hidden" name="ActionCode1" id="ActionCode1" value="TDBRS30" />
                    <input type="hidden" name="ActionQuantity1" id="ActionQuantity1" value="1" />
                    <div class="form__span-item form form--frame">
                        <div class="form__fieldset">
                            <h2 class="form__title">STEP 1: Select your offer</h2>
                            <div class="form__frame">
                                <div class="offer-group">
                                    <div class="offer-group__group">
                                        <div class="option option--set">
                                            <span class="corner-callout">
                                                <span>Best</span> 
                                                <span>Value</span>
                                            </span>
                                            <div class="option__group">
                                                <div class="option__text">
                                                    <label for="subscriptionStep1" id="subscriptionOffers" class="form">
                                                        <span class="option__input form__checkbox-label">
                                                            <input type="radio" id="subscriptionStep1" value="full" name="offer" checked="checked">
                                                            <span class="form__label">
                                                                <span class="form__checkbox"></span>
                                                                <span class="form__label-text">
                                                                    <span class="option__title">Full Hair Essentials</span>
                                                                    <span class="option__gifts">Includes Free Gifts!</span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </label>
                                                    <div class="option__copy">
                                                        <div class="option__includes">
                                                            <strong>Your Order Includes</strong>
                                                            <ul>
                                                                <li>Hair Building Fibers (12g) color of your choice</li>
                                                                <li>FREE Spray Applicator</li>
                                                                <li>FREE Hairline Optimizer</li>
                                                            </ul>
                                                        </div>
                                                        <span class="option__offer option__group">
                                                            <span class="option__price-desc">Price: <span class="option__strike">$45.00</span></span>
                                                            <span class="option__price">
                                                                <span class="sr">
                                                                    <span class="sr__text">$24.95</span>
                                                                    <span class="offer" aria-hidden="true" role="presentation">
                                                                        <span class="offer__group">
                                                                            <span class="offer__currency">$</span>
                                                                            <span class="offer__amt">24</span>
                                                                            <span class="offer__follow">
                                                                                <span class="offer__cent">95</span>
                                                                                <span class="offer__disclaimer"></span>
                                                                            </span>
                                                                        </span>
                                                                    </span>
                                                                </span>
                                                            </span>
                                                            <span class="option__shipping">+ FREE SHIPPING!</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="option__product-caption">
                                                    <picture class="option__product option__fibers" data-src-img="/images/products/fibers.png">
                                                        <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="120" height="202" alt="Hair Building Fibers (12g) plus a FREE Hair Perfecting Duo Kit. A $20 value.">
                                                    </picture>
                                                    <div class="option__organizer">
                                                        <span class="option__caption">Subscribe &amp; Save!</span>
                                                        <picture class="option__product" data-src-img="/images/products/hairstyle-organizer.png">
                                                            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="340" height="199" alt="Hair Building Fibers (12g) plus a FREE Hair Perfecting Duo Kit. A $20 value.">
                                                        </picture>
                                                        <span class="option__bonus-caption-group">
                                                            <span class="option__bonus-caption">
                                                                <b>FREE</b> Spray Applicator
                                                            </span>
                                                            <span class="option__bonus-caption">
                                                                <b>FREE</b> Hairline Optimizer
                                                            </span>
                                                        </span>
                                                        <div class="burst burst--tv burst--text-wrap">
                                                            <div class="burst__wrap">
                                                                <div class="burst__text-wrap">
                                                                    <span class="char1">F</span>
                                                                    <span class="char2">R</span>
                                                                    <span class="char3">E</span>
                                                                    <span class="char4">E</span>
                                                                    <span class="char5"> </span>
                                                                    <span class="char6">G</span>
                                                                    <span class="char7">I</span>
                                                                    <span class="char8">F</span>
                                                                    <span class="char9">T</span>
                                                                    <span class="char10">S</span>
                                                                </div>
                                                            </div>
                                                            <small>Special</small> 
                                                            <span>TV</span> 
                                                            <small>Offer!</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="offer-group__burst">
                                            <span class="burst burst--option">OR</span>
                                        </div>

                                        <div class="option option--single">
                                            <div class="option__group">
                                                <div class="option__text">
                                                    <label for="oneTimeOption" id="singleOffers" class="form">
                                                        <span class="option__input form__checkbox-label">
                                                            <input type="radio" id="oneTimeOption" name="offer" value="1" onclick="assembleProductCode()">
                                                            <span class="form__label">
                                                                <span class="form__checkbox"></span>
                                                                <span class="form__label-text">
                                                                    <span class="option__title">1 Time Order</span>
                                                                    <span class="option__gifts">No Free Gifts</span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </label>
                                                    <div class="option__copy">
                                                        <div class="option__includes">
                                                            <strong>Your Order Includes</strong>
                                                            <ul>
                                                                <li>Hair Building Fibers (12g) color of your choice</li>
                                                            </ul>
                                                        </div>
                                                        <span class="option__offer option__group option__one-time-offer">
                                                            <span class="option__price-desc">Price: </span>
                                                            <span class="option__price">
                                                                <span class="sr">
                                                                    <span class="sr__text">$24.95</span>
                                                                    <span class="offer" aria-hidden="true" role="presentation">
                                                                        <span class="offer__group">
                                                                            <span class="offer__currency">$</span>
                                                                            <span class="offer__amt">24</span>
                                                                            <span class="offer__follow">
                                                                                <span class="offer__cent">95</span>
                                                                                <span class="offer__disclaimer"></span>
                                                                            </span>
                                                                        </span>
                                                                    </span>
                                                                </span>
                                                            </span>
                                                            <span class="option__shipping">+ $4.95 S&H</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="option__product-caption">
                                                    <picture class="option__product" data-src-img="/images/14.0000/products/fibers-12g.png">
                                                        <img src="https://cddt.dtmstage.com/shared/images/blank.png" alt="Hair Building Fibers (12g)" width="120" height="202">
                                                    </picture>
                                                    <span class="option__caption">One time purchase
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form__span-item form form--frame subscriptionOptions">
                        <div class="form__fieldset">
                            <h2 class="form__title">STEP 2: Select your subscription type</h2>
                            <div class="form__frame">
                                <div class="offer-group">
                                    <div class="offer-group__group">
                                        <label for="subscriptionOption30" class="form option option--subscription">
                                            <span class="form__checkbox-label">
                                                <input
                                                    type="radio"
                                                    id="subscriptionOption30"
                                                    name="offerOption"
                                                    value="30"
                                                    aria-labelledby="subscriptionOption30Label" 
                                                    checked="checked"/>
                                                <span class="form__label">
                                                    <span class="form__checkbox"></span>
                                                    <span id="subscriptionOption30Label">Ship Every 30 Days</span>
                                                </span>
                                            </span>
                                        </label>
                                        <label for="subscriptionOption60" class="form option option--subscription">
                                            <span class="form__checkbox-label">
                                                <input
                                                    type="radio"
                                                    id="subscriptionOption60"
                                                    name="offerOption"
                                                    value="60"
                                                    aria-labelledby="subscriptionOption60Label" />
                                                <span class="form__label">
                                                    <span class="form__checkbox"></span>
                                                    <span id="subscriptionOption60Label">Ship Every 60 Days</span>
                                                </span>
                                            </span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form__span-item bg bg--shade form form--frame">
                        <div class="form__fieldset">
                            <h2 class="form__title colorStep">STEP 3: Select your color</h2>
                            <div class="form__frame">
                                

<div class="shades shades--radiogroup">
    <div class="shades__group">
    
        <label for="TBLKS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/black.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Black">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TBLKSLabel"
                    value="TBLKS"
                    id="TBLKS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TBLKSLabel">Black</span>
            </span>
        </label>
        <label for="TDBRS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/dark-brown.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Dark Brown">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TDBRSLabel"
                    value="TDBRS"
                    id="TDBRS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TDBRSLabel">Dark Brown</span>
            </span>
        </label>
        <label for="TMBRS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/medium-brown.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Medium Brown">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TMBRSLabel"
                    value="TMBRS"
                    id="TMBRS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TMBRSLabel">Medium Brown</span>
            </span>
        </label>
        <label for="TLBRS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/light-brown.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Light Brown">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TLBRSLabel"
                    value="TLBRS"
                    id="TLBRS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TLBRSLabel">Light Brown</span>
            </span>
        </label>
        <label for="TMBLS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/medium-blonde.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Medium Blonde">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TMBLSLabel"
                    value="TMBLS"
                    id="TMBLS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TMBLSLabel">Medium Blonde</span>
            </span>
        </label>
        <label for="TLBLS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/light-blonde.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Light Blonde">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TLBLSLabel"
                    value="TLBLS"
                    id="TLBLS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TLBLSLabel">Light Blonde</span>
            </span>
        </label>
        <label for="TAUBS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/auburn.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Auburn">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TAUBSLabel"
                    value="TAUBS"
                    id="TAUBS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TAUBSLabel">Auburn</span>
            </span>
        </label>
        <label for="TGRYS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/gray.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="Gray">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TGRYSLabel"
                    value="TGRYS"
                    id="TGRYS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TGRYSLabel">Gray</span>
            </span>
        </label>
        <label for="TWHTS" class="form form--checkbox-label-stack shades__picture-checkbox">
            <span class="form__checkbox-label">
                
        <picture data-src-img="/images/colors/15.0000/white.png">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="142" height="140" alt="White">
        </picture>
                <input 
                    type="radio" 
                    name="shadeOption" 
                    onclick="assembleProductCode()" 
                    aria-labelledby="TWHTSLabel"
                    value="TWHTS"
                    id="TWHTS">
                <span class="form__label">
                    <span class="form__checkbox"></span>
                </span>
                <span id="TWHTSLabel">White</span>
            </span>
        </label>
    </div>
</div>
                            </div>
                        </div>
                    </div>
                    
                        <div class="form__span-item form form--frame promoCode">
                            <div class="form__fieldset">
                                <h2 class="form__title">STEP 4: Enter Promo Code</h2>
                                <div class="form__frame">
                                    <div data-validate-promo-code class="form form--field-button message message--promo-code">
                                        <div class="message__select">
                                            <div class="form__contain form__field-button">
                                                <input type="text" name="promoCode" id="promoCode" placeholder="Enter promo code" class="form__field ddlPromo dtm__restyle" data-required="true" aria-labelledby="promoCodeHeader" >
                                                <button type="button" onclick="submitEmailLead(); return false;" id="emailSubscribeButton" data-validate-form-type="submit" data-validate-form-page-code="Checkout" class="button form__button ddlPromoButton" onclick="_firstRun = false; handleCartChange();">
                                                    <span>Apply</span>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="message__group" role="alert">
                                            <span class="message__invalid">Please enter a valid promo code.</span>
                                            <div id="promo-code-validation-status" class="message__valid"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                      
                    <div class="form__span-item form form--frame">
                        <div class="form__fieldset">
                            <h2 class="form__title reviewOrderTitle">STEP 5: Review Your Order</h2>
                            <div class="c-brand--form order-table reviewTable form__frame">
                                

<div id="reviewOrder" >
    <div class="FormHeadlineL"><strong>STEP 4:</strong> Review Your Order</div>

    <style>
        .alignTextRight {
            text-align: right;
        }

        .alignTextLeft {
            text-align: left;
        }

        .disableToggleClick {
            pointer-events: none;
        }
    </style>

    <table id="orderReview" class="orderItemsTable reviewTable">
        <thead class="reviewTableHead">
            <tr>
                
                <th>Description</th>
                
                <th>Quantity</th>
                
                <th>Price</th>
                
            </tr>
        </thead>
        <tbody class="reviewTableBody">
        </tbody>
        <tfoot class="reviewTableFoot alignTextRight">
            
            <tr>
                <td colspan="2">Sub Total:</td>
                <td>
                    <label class="subtotal"></label>
                </td>
            </tr>
            
            <tr>
                <td colspan="2">SHIPPING</td>
                <td>
                    <label class="phtotal"></label>
                </td>
            </tr>
            
            <tr id="retailDeliveryFee" style="display: none;">
                <td colspan="2" id="retailDeliveryFeeName"></td>
                <td>
                    <span class="" id="retailDeliveryFeeTotal">$0.00</span>
                </td>
            </tr>
            
            <tr>
                <td colspan="2">
                    <label for="zc">
                        State Tax:&nbsp;&nbsp;

                  <input type="text" class="zc" id="zc" name="zc" value="" placeholder="Enter Zip Code" /></label>
                </td>
                <td>
                    <span class="taxtotal">$0.00</span></td>
            </tr>
            
            <tr>
                <td colspan="2"><b>Order Total</b></td>
                <td>
                    <span class="summary-total"></span></td>
            </tr>
            
        </tfoot>
    </table>

    <div id="orderFormReviewTableItems">

        
    </div>
</div>

<script type="text/javascript">
    var _firstIndex = '';
    var _firstRun = true;

    var cartItems = [];
    var modifierArray = [];

    function getCartUrl(type) {
        var m = '' == '' ? '' : 'mid=';
        var a = '' == '' ? '' : 'a=';
        var s = '' == '' ? '' : 's=';
        var c = '' == '' ? '' : 'clickId=';

        var arr = [m, a, s, c]

        for (var i = 0; i < arr.length; i++) {
            if (arr[i] == '') {
                arr.splice(i, 1);
                i--;
            }
        }

        var qs = (m + a + s + c) == '' ? '' : ('?' + arr.join('&'));

        var url = '/Cart/' + type + '/Index' + qs;
        return url;
    }



    function loadAllItemStates() {
        handleCartChange();

        var preloadedItems = [];
        var enableEditableQuantity = false;
               

        if (preloadedItems.length > 0) {
            handleCartChange();
        } else if (!enableEditableQuantity) {
            handleCartChange();
        }

        $.each($('[data-condition-missing][data-condition-value]:not([data-condition])'), function () {
            var code = $(this).attr('data-condition-missing');
            var regex = new RegExp("^" + code + "$");
            var cartItem = _dtmShoppingCart.SearchItems(regex);
            if ((preloadedItems.length == 0 && cartItem.length <= 0) || (preloadedItems.length > 0 && preloadedItems.indexOf(code) <= 0)) {
                setDataCondition(this);
            }
        });
    }

    function checkboxToggleXor(removeItems) {

        for (var i = 0; i < removeItems.length; i++) {

            $('#' + removeItems[i] + '').prop('checked', false);
        }

    }

    function radioToggleXor(removeItems) {

        for (var i = 0; i < removeItems.length; i++) {

            $('input[value=' + removeItems[i] + ']').prop('checked', false);
        }

    }

    function validateTextBoxInput(element, maxQuantity) {
        var value = $(element).val();
        var valueInt = parseInt(value);
        var newValue = 0;

        if (valueInt > maxQuantity) {
            newValue = maxQuantity;
        }
        else if (isNaN(valueInt) || valueInt <= 0) {
            newValue = 0;
        }
        else {
            newValue = valueInt;
        }
        $(element).val(newValue);
    }

    function isSelectorModified(selector) {

        var isDataSelect = $(selector).is('select') && typeof $(selector).attr('data-select') !== "undefined";
        var isModified = false;

        if (isDataSelect) {
            var selectedOption = $(selector).find(':selected');
            isModified = ($(selector).attr('data-code-modifier') != null &&
                $(selector).attr('data-code-modifier').length > 0 &&
                $(selectedOption).attr('data-code-alt') != null &&
                $(selectedOption).attr('data-code-alt').length > 0 &&
                ($('#' + $(selector).attr('data-code-modifier')).is(':checked') || $('[name=' + $(selector).attr('data-code-modifier') + '][value=true]').is(':checked')));
        } else {
            isModified = ($(selector).attr('data-code-modifier') != null &&
                $(selector).attr('data-code-modifier').length > 0 &&
                $(selector).attr('data-code-alt') != null &&
                $(selector).attr('data-code-alt').length > 0 &&
                ($('#' + $(selector).attr('data-code-modifier')).is(':checked') || $('[name=' + $(selector).attr('data-code-modifier') + '][value=true]').is(':checked')));
        }

        return isModified;
    }

    function AddToModifierArray(modifierName) {

        var alreadyExists = false;
        if (modifierArray.length > 0) {
            modifierArray.forEach(function (ele) {
                if (ele == modifierName) {
                    alreadyExists = true;
                }
            });
        }
        if (!alreadyExists) {
            modifierArray.push(modifierName);
        }
    }

    function handleModifierChangeAction(name, type) {

        var modifiableSelectors = $('[data-code-modifier=' + name + ']');
        var datacode = "";
        var bonusArray = [];
        var removeItems = [];
        var firstSelectorQuantity = 0;
        var quantity = 0;

        switch (type) {
            case 'checkbox':
                var isModified = $('[name=' + name + ']').is(':checked');

                break;

            case 'radio':
                var isModified = $('[name=' + name + ']:checked').val() == 'true';

                break;
        }


        if (modifiableSelectors.length > 0) {

            for (var i = 0; i < modifiableSelectors.length; i++) {

                var element = $(modifiableSelectors[i]);
                var isSelect = element.is('select') && typeof element.attr('data-select') === "undefined";
                var isDataSelect = element.is('select') && typeof element.attr('data-select') !== "undefined";
                var isRadioOrCB = 'radio,checkbox'.indexOf(element.attr('type')) >= 0;

                if (i == 0) {

                    if (isSelect) {
                        firstSelectorQuantity = isSelect ? element.val() : 1;
                    }
                    else if (isDataSelect) {
                        firstSelectorQuantity = element.attr('data-qty-id') != null ? $('#' + element.attr('data-qty-id')).val() : 1;
                    }
                    else if (isRadioOrCB) {
                        if (element.is(':checked')) {

                            firstSelectorQuantity = element.attr('data-qty-id') != null ? $('#' + element.attr('data-qty-id')).val() : 1;
                        }
                    }

                    if (firstSelectorQuantity > 0) {

                        element = isDataSelect ? element.find(":selected") : element;
                        dataCode = isModified ? element.attr('data-code-alt') : isDataSelect ? element.val() : element.attr('data-code');

                        var bonusAddRemoveArrays = bonusItemHandler(isModified, firstSelectorQuantity, $(modifiableSelectors[i]));

                        bonusArray = bonusArray.concat(bonusAddRemoveArrays.bonusItems);
                        removeItems = removeItems.concat(bonusAddRemoveArrays.removeItems);

                        if (isDataSelect) {
                            removeItem = isModified ? element.val() : element.attr('data-code-alt');
                            removeItems.push(removeItem);
                        }


                    } else {
                        dataCode = "";
                    }

                }
                else {

                    if (isSelect) {
                        quantity = isSelect ? element.val() : 1;
                    }
                    else if (isDataSelect) {
                        quantity = element.attr('data-qty-id') != null ? $('#' + element.attr('data-qty-id')).val() : 1;
                    }
                    else if (isRadioOrCB) {
                        if (element.is(':checked')) {

                            quantity = element.attr('data-qty-id') != null ? $('#' + element.attr('data-qty-id')).val() : 1;
                        } else {
                            quantity = 0;
                        }
                    }
                    if (quantity > 0) {

                        var bonusAddRemoveArrays = bonusItemHandler(isModified, quantity, $(modifiableSelectors[i]));
                        element = isDataSelect ? element.find(":selected") : element;

                        var selector = isModified ? element.attr('data-code-alt') : isDataSelect ? element.val() : element.attr('data-code');

                        if (dataCode == "") {
                            dataCode = selector;
                            firstSelectorQuantity = quantity;
                        } else {
                            bonusArray.push({ Id: selector, Qty: quantity })
                        }

                        bonusArray = bonusArray.concat(bonusAddRemoveArrays.bonusItems);
                        removeItems = removeItems.concat(bonusAddRemoveArrays.removeItems);

                        if (isDataSelect) {
                            removeItem = isModified ? element.val() : element.attr('data-code-alt');
                            removeItems.push(removeItem);
                        }

                    }
                }
            }
        }

        if (firstSelectorQuantity > 0) {
            handleCartChange(dataCode, firstSelectorQuantity, null, removeItems, bonusArray, event);
        }
    }

    function bonusItemHandler(isModified, quantity, selector) {

        var bonusItemsArray = [];
        var removeItemsArray = [];


        if (isModified) {
            //Add bonusItems
            if (selector.attr('data-match-alt') != null && selector.attr('data-match-alt').length > 0) {
                var tempBonusArray = selector.attr('data-match-alt').split(',');
                tempBonusArray.forEach(function (ele) {
                    bonusItemsArray.push({ Id: ele, Qty: quantity });
                });
            }

            //removebonusItems
            if (selector.attr('data-match') != null && selector.attr('data-match').length > 0) {
                var tempBonusArray = selector.attr('data-match').split(',');
                tempBonusArray.forEach(function (ele) {
                    removeItemsArray.push(ele);
                });
            }

            removeItemsArray.push(selector.attr('data-code'));
        }
        else {
            //Add bonusItems
            if (selector.attr('data-match') != null && selector.attr('data-match').length > 0) {
                var tempBonusArray = selector.attr('data-match').split(',');
                tempBonusArray.forEach(function (ele) {
                    bonusItemsArray.push({ Id: ele, Qty: quantity });
                });
            }

            //removebonusItems
            if (selector.attr('data-match-alt') != null && selector.attr('data-match-alt').length > 0) {
                var tempBonusArray = selector.attr('data-match-alt').split(',');
                tempBonusArray.forEach(function (ele) {
                    removeItemsArray.push(ele);
                });
            }

            if (selector.attr('data-code-alt') != null && selector.attr('data-code-alt').length > 0) {
                removeItemsArray.push(selector.attr('data-code-alt'));
            }
        }

        return {
            bonusItems: bonusItemsArray,
            removeItems: removeItemsArray
        };
    }

    function CreateModifierChangeAction(modifierArray) {

        if (modifierArray.length > 0) {

            modifierArray.forEach(function (ele) {

                var modifierName = ele;

                $(document).on('change', '[name=' + modifierName + '], #' + modifierName + '', function () {

                    var type = $(this).attr('type');

                    handleModifierChangeAction(modifierName, type);
                });

            });
        }
    }

    function getXorList(element) {

        var xor = $(element).attr('data-code-xor');
        var isDataCheckbox = $(element).attr('data-checkbox');
        isDataCheckbox = (typeof isDataCheckbox !== typeof undefined);
        var listItems = [];

        if (xor != null && xor.length > 0) {
            var allXORs = xor.split(',');
            for (var i = 0; i < allXORs.length; i++) {
                var singleXOR = allXORs[i];
                setToggleButton(singleXOR, 'Remove');
                listItems.push(singleXOR);
            };
        }

        if (isDataCheckbox) {
            checkboxToggleXor(listItems);
        }

        return listItems;
    }

    function dataMatchProductQuantity(mainItem, bonusItems, dataMatchTrue, event) {

        if (dataMatchTrue) {
            if ((typeof bonusItems != "undefined" && bonusItems != null && bonusItems.length > 0) && (typeof mainItem != "undefined" && mainItem != null && mainItem.length > 0)) {
                var datacode = mainItem;

                var bonusItems = bonusItems.split(',');
                var removeBonusItems = bonusItems.slice();


                var qty = $('[data-cart-code=' + datacode + 'Quantity]').children('[name^=ActionQuantity]').val();
                qty = parseInt(qty);

                if (!isNaN(qty)) {


                    if (qty > 0) {

                        var firstBonusItem = "";
                        var extraBonusItems = [];

                        for (var i = 0; i < bonusItems.length; i++) {

                            if (i == 0) {
                                firstBonusItem = bonusItems[i];
                            }
                            else {
                                extraBonusItems.push({ Id: bonusItems[i], Qty: qty });
                            }
                        }
                        if (firstBonusItem != "") {
                            handleCartChange(firstBonusItem, qty, null, [], extraBonusItems, event);
                        }
                    }
                    else {
                        handleCartChange(datacode, qty, null, removeBonusItems, null, event);
                    }
                }
            }

        }
        else {
            handleCartChange();
        }

    }

    function OnVSCookieLoaded() {
        $('input.zc').keyup(function () {
            updateZip(this.value, getState(), getCountry());
        });

        $('select.shipOptions').change(function () {
            handleCartChange();
        });

        $('#BillingZip, #ShippingZip').keyup(function () {

            var isShipCheckboxChecked = $('#ShippingIsDifferentThanBilling').is(':checked');

            if (this.id == 'ShippingZip') {
                lastChangeType = 'Shipping';
            } else {
                lastChangeType = '';
            }

            if (isShipCheckboxChecked) {
                $('.zc').val($('#ShippingZip').val());
                updateZip($('#ShippingZip').val(), getState(), getCountry());
            }
            else {
                $('.zc').val(this.value);
                updateZip(this.value, getState(), getCountry());
            }
        });

        $('#BillingState, #ShippingState, #BillingCountry, #ShippingCountry').keyup(function () {
            updateZip(getZip(), getState(), getCountry());
        });

        $("[name*='ActionToggle']").click(function () {
            var type = $(this).attr('data-toggle-type') || 'set';
            var toggleTargetIndex = $(this).attr('name').replace('ActionToggle', '');
            var toggleValue = $(this).attr('data-toggle-value') || '1';

            var actionCode = $('[name="ActionCode' + toggleTargetIndex + '"]') || [];
            var actionQuantity = $('[name="ActionQuantity' + toggleTargetIndex + '"]') || [];
            if (toggleTargetIndex == '' || actionCode.length == 0 || actionQuantity.length == 0) {
                console.error('Invalid ActionToggle configuration for ' + toggleTarget);
                return;
            }
            var currentValue = actionQuantity.val();

            if (type == 'add') {
                newValue = currentValue + 1;
            } else {
                if (currentValue == toggleValue) {
                    newValue = 0;
                } else {
                    newValue = toggleValue;
                }
            }
            actionQuantity.val(newValue);
            handleCartChange();
        });

        $('input[name*="ActionCode"][data-default]').each(function (i, item) {
            if ('radio,checkbox'.indexOf($(item).attr('type')) >= 0) {
                var id = $(item).attr('id');
                var name = $(item).attr('name');
                var index = id.replace('ActionCode', '');
                var value = $(item).val();

                var labelFor = $('label[for="' + id + '"]');
                if (labelFor.length > 0) {
                    labelFor.attr('for', 'Action' + index);
                } else {
                    labelFor = $('#ActionCode0').parents('label');
                    if (labelFor.length > 0) {
                        labelFor.attr('for', 'Action' + index);
                    }
                }

                $(this)
                    .attr('id', 'Action' + index)
                    .attr('name', 'Action' + index);
                $(this).before('<input id="' + id + '" name="' + name + '" type="hidden" value="' + value + '" data-default="' + $(item).attr('data-default') + '" data-upgrade="' + $(item).attr('data-upgrade') + '">')
            }
        });

        $('input[data-default]').click(function () {
            var index = ($(this).attr('id') || '').replace('Action', '');
            var currentValue = $(this).val();
            var defaultValue = $(this).attr('data-default');
            var toggleValue = $(this).attr('data-upgrade');
            var newValue;
            if ($(this).is(":checked")) {
                newValue = toggleValue;
            } else {
                newValue = defaultValue;
            }
            $(this).val(newValue);
            if ($('#ActionCode' + index).length > 0) {
                $('#ActionCode' + index).val(newValue);
                handleCartChange();
            } else {
                $('a[data-code="' + currentValue + '"]').attr('data-code', newValue);
                _dtmShoppingCart.UpgradeItem(currentValue, newValue);
            }
        });



        $("[name*='ActionQuantity']").each(function (i, item) {
            var index = (item.name || '').replace(/[^0-9]/g, '');
            if (_firstIndex == '') {
                _firstIndex = index;
            }
            $(item)
                .attr('data-index', index)
                .attr('class', ($(item).attr('class') ? $(item).attr('class') : '') + ' ddl')
                .change(handleCartChange);

            if ($('[name="ActionCode' + index + '"]').length == 0 || 'radio,checkbox'.indexOf($('[name="ActionCode' + index + '"]').attr('type')) >= 0 || $('[name="ActionCode' + index + '"]').is('select')) {
                $('[name="ActionCode' + index + '"]').change(handleCartChange);
            }
            if ($('[name="MatchProductQuantity' + index + '"]').length == 0 || 'radio,checkbox'.indexOf($('[name="MatchProductQuantity' + index + '"]').attr('type')) >= 0) {
                $('[name="MatchProductQuantity' + index + '"]').change(handleCartChange);
            }
        });

        
        loadAllItemStates();
        
        // check if the promo code button exists
        if ($('.ddlPromoButton').length > 0) {
            // append the handle cart change functionality to the button
            $('.ddlPromoButton').attr({ 'onclick': '_firstRun = false; handleCartChange();' });
            $('.ddlPromoButton').on('keyup keypress', function (e) {
                var keyCode = e.keyCode || e.which;
                if (keyCode === 13) {
                    e.preventDefault();
                    return false;
                }
            });
        } else {
            // otherwise, create the button and append it to the promo field
            $('.ddlPromo').after("<input type='button' class='ddlPromoButton' onclick='_firstRun = false; handleCartChange();' value='Apply Code' />");
        }
        

        $("#ShippingIsDifferentThanBilling").on("click", function () {
            var selector = $('#ShippingIsDifferentThanBilling').is(':checked') ? '#ShippingZip' : '#BillingZip';
            var zip = $(selector).val() != undefined ? $(selector).val() : '';

            updateZip(zip, getState(), getCountry());
            handleCartChange();
        });

        $('[name^="ActionAttribute"]').change(function () {
            var index = ($(this).attr('name') || '').replace('ActionAttribute', '');
            var allValues = new Array();
            $.each($('[name="ActionAttribute' + index + '"]'), function () {
                allValues.push($(this).val());
            });
            if ($('[name^="ActionAttribute' + index + '"]').length == allValues.length) {
                handleCartChange();
            }
        });
    }
    function getToggleButtonQty(groupName, defaultValue) {
        var qty = defaultValue;
        var toggleButton = $("[data-group-name='" + groupName + "'][data-code-toggle=true][data-qty-id]");
        if ($(toggleButton).length > 0) {
            var hasQtyId = $(toggleButton).attr("data-qty-id").length > 0;
            var overrideQty = qty;
            if (hasQtyId) {
                var qtyId = $(toggleButton).attr("data-qty-id");
                overrideQty = $("#" + qtyId).val();
            }
            qty = overrideQty;
        }
        if (defaultValue == 0) {
            qty = 0;
        }
        return qty;
    }

    function setToggleButtonQty(groupName, value) {
        var toggleButton = $("[data-group-name='" + groupName + "'][data-code-toggle=true][data-qty-id]");
        if ($(toggleButton).length > 0) {
            var hasQtyId = $(toggleButton).attr("data-qty-id").length > 0;
            if (hasQtyId) {
                var qtyId = $(toggleButton).attr("data-qty-id");
                $("#" + qtyId).val(value);
            }
        }
    }
    function loadItemState(productCode, qty) {
        var getEle = function (pc) {
            var ret = null;

            if ($('[name*=ActionCode][value="' + productCode + '"]').length != 0) {
                ret = $('[name*=ActionCode][value="' + productCode + '"]');
            }
            else if ($('[name*=ActionCode][data-default="' + productCode + '"]').length != 0) {
                ret = $('[name*=ActionCode][data-default="' + productCode + '"]');
            }
            else if ($('[name*=ActionCode][data-upgrade="' + productCode + '"]').length != 0) {
                ret = $('[name*=ActionCode][data-upgrade="' + productCode + '"]');
            }
            else if ($('[name*=ActionCheckbox][data-target="' + productCode + '"]').length != 0) {
                ret = $('[name*=ActionCheckbox][data-target="' + productCode + '"]');
            }
            else if ($('[name*=ActionCheckbox][data-new="' + productCode + '"]').length != 0) {
                ret = $('[name*=ActionCheckbox][data-new="' + productCode + '"]');
            }
            return ret;
        }

        var ele = getEle(productCode);
        var index = ($(ele).attr('name') || '').replace('ActionCode', '');
        var id = productCode;
        var originalId = id;
        var isMod = false;

        var modEle = $('[data-code][data-code-toggle=true][data-code-alt=' + id + '][data-code-modifier]');
        if (modEle.length == 0) {
            modEle = $('select[data-code-modifier] option[data-code-alt=' + id + '], select[data-code-modifier] option[value=' + id + ']');
            if (modEle.length > 0) {
                modEle = $(modEle).parent();
            }
        }

        if (modEle.length > 0 && $('#' + modEle.attr('data-code-modifier')).length > 0) {
            $('#' + modEle.attr('data-code-modifier')).prop('checked', true);
            if (modEle.attr('data-code').length > 0) {
                originalId = modEle.attr('data-code');
            }
            else {
                originalId = $('select[data-code-modifier] option[data-code-alt=' + id + ']').attr('value');
                isMod = true;
                if (originalId == null) {
                    originalId = $('select[data-code-modifier] option[value=' + id + ']').attr('value');
                    isMod = false;
                }
                var cbox = $('#' + $(modEle).attr('data-code-modifier'));
                if (isMod) {
                    $(cbox).attr('checked', true);
                }
                else {
                    $(cbox).attr('checked', false);
                }

            }

            if (originalId == '') {
                originalId = id;
            }
        }

        var selEle = $('select[data-code-modifier] option[data-code-alt=' + id + '], select[data-code-modifier] option[value=' + id + ']');
        if (selEle.length > 0) {
            $(modEle).val(originalId);

            if (typeof $(modEle).attr('data-qty-id') !== "undefined") {
                var selectableEle = $('#' + $(modEle).attr('data-qty-id'));
                $(selectableEle).val(qty);
            }
        }

        var actionEle = $('[name*=ActionCode] option[value="' + id + '"]');
        if (actionEle.length != 0) {
            actionEle.parent().val(id);
        }

        if (ele == null) {
            console.log("No matching elements, item state not loaded for " + id);
            return;
        }
        else if (ele.length > 1) {
            console.log("Too many matching elements, item state not loaded for " + id);
            return;
        }

        var preventCheck = false, preventClick = false;
        if (ele.attr('data-default') == id) {
            if ($('#ActionQuantity' + index).length != 0) {
                $('#ActionQuantity' + index).val(qty);
                preventClick = true;
                preventCheck = true;
            }
        } else if (ele.attr('data-upgrade') == id) {
            ele.val(id);

            if ($('#ActionQuantity' + index).length != 0) {
                $('#ActionQuantity' + index).val(qty);
                preventClick = true;
            }
        } else if (ele.attr('name').indexOf("ActionCheckbox") >= 0) {

            index = ($(ele).attr('name') || '').replace('ActionCheckbox', '');

            if (ele.data('new') == id) {
                ele.prop('checked', true);
            }
            if (ele.data('target') == id) {
                ele.prop('checked', false);
                if ($('#ActionCode' + index).val() != ele.data('target')) {
                    $('#ActionCode' + index).val(ele.data('target'));
                }
            }

            if ($('#ActionQuantity' + index).length != 0) {
                $('#ActionQuantity' + index).val(qty);
                preventClick = true;
            }
        } else if (ele.attr('type') == 'checkbox') {
            ele.prop('checked', true);
        }


        var checkableEle = null;
        var action = $('#Action' + index);


        // Action
        if ($(action).length > 0 && $('[name="Action' + index + '"]').length == 0 || 'radio,checkbox'.indexOf(action.attr('type')) >= 0) {
            action.val(id);
            checkableEle = action;
        }

        else {
            var radioWithModifier = $('input[type=radio][data-code-modifier][data-code-alt=' + id + ']');
            var checkboxWithModifier = $('input[type=checkbox][data-code-modifier][data-code-alt=' + id + ']');
            var radioFromGroup = $('input[type=radio][value=' + id + ']');
            var radioSolo = $('input[type=radio][data-code=' + id + ']');
            var selectFromGroup = $('select option[value= ' + id + ']').parent();
            var checkboxGroup = $('input[type=checkbox][value=' + id + ']');
            var singleCheckbox = $('input[type=checkbox][data-code=' + id + '], input[type=checkbox][data-code-alt=' + id + '] ');
            var isSingleCheckbox = singleCheckbox.length > 0;
            var isRadioWithModifier = $(radioWithModifier).length > 0;
            var isCheckboxWithModifier = $(checkboxWithModifier).length > 0;
            var isRadioSelect = $(radioFromGroup).length > 0 && $('[data-group-name=' + $(radioFromGroup).attr('name') + '][data-code-toggle=true]').length > 0;
            var isRegularSelect = $(selectFromGroup).length > 0 && $('[data-group-name=' + $(selectFromGroup).attr('name') + '][data-code-toggle=true]').length > 0;
            var isCheckboxSelect = $(checkboxGroup).length > 0 && $('[data-group-name=' + $(checkboxGroup).attr('name') + '][data-code-toggle=true]').length > 0;
            var isRadioSolo = $(radioSolo).length > 0;
            var isDataCodeSelect = $('select[data-code=' + id + '], select[data-code-alt=' + id + '] ').length > 0;


            var selectItem = radioFromGroup;
            //Toggle Button + Data Group + Check/Selectable Item
            if (isRegularSelect || isRadioSelect || isCheckboxSelect) {
                if (isRegularSelect) {
                    selectItem = selectFromGroup;
                    selectFromGroup.val(id);
                }
                else if (isRadioSelect) {
                    checkableEle = radioFromGroup;
                }
                else if (isCheckboxSelect) {
                    selectItem = checkboxGroup;
                    checkboxGroup.prop("checked", true);
                }

                var groupName = $(selectItem).attr('name');
                var toggleButton = $('[data-group-name=' + $(selectItem).attr('name') + '][data-code-toggle=true]');

                if ($(toggleButton).length > 0) {
                    registerEvent("ToggleButtonInitialized", function () {
                        setToggleButton(groupName, 'Add');
                    });
                }
            }

            //Select w/ Data-code + qty
            if (isDataCodeSelect) {
                var selector = $('select[data-code=' + id + '], select[data-code-alt=' + id + '] ');
                selector.val(qty);

                var hasModifier = selector.attr('data-code-modifier') != null;

                if (hasModifier) {
                    var modifierName = selector.attr('data-code-modifier');
                    var ifModifierCheckbox = 'checkbox'.indexOf($('[name=' + modifierName + ']').attr('type')) >= 0;
                    var ifModifierRadio = 'radio'.indexOf($('[name=' + modifierName + ']').attr('type')) >= 0;
                    var modifierSelected = $('select[data-code-alt=' + id + '] ');

                    if (modifierSelected.length > 0) {

                        if (ifModifierCheckbox) {
                            $('[name=' + modifierName + ']').attr('checked', true);
                        }
                        else if (ifModifierRadio) {
                            $('[name=' + modifierName + '][value="true"]').attr('checked', true);
                        }
                    }
                    else {
                        if (ifModifierRadio) {
                            $('[name=' + modifierName + '][value=false]').attr('checked', true);
                        } else if (ifModifierCheckbox) {
                            $('[name=' + modifierName + ']').attr('checked', false);
                        }
                    }
                }

            }

            //Radio w/ Data-code only
            else if (isRadioSolo) {
                checkableEle = radioSolo;

                //Radio w/ Radio-Modifier , setting False Radio
                if (radioSolo.attr('data-code-modifier') != null && radioSolo.attr('data-code-modifier').length > 1) {
                    var modifierName = radioSolo.attr('data-code-modifier');
                    if ($('input[type=radio][name=' + modifierName + '][value=false]').length > 0) {
                        $('input[type=radio][name=' + modifierName + '][value=false]').prop('checked', true);
                    }
                }
            }

            //Radio w/ Data-code and Data-Code-Modifier only (Alt code is selected) 
            else if (isRadioWithModifier) {
                var modId = radioWithModifier.attr('data-code-modifier');
                checkableEle = radioWithModifier;
                var ifModifierCheckbox = 'checkbox'.indexOf($('[name=' + modId + '],[id=' + modId + ']').attr('type')) >= 0;
                var ifModifierRadio = 'radio'.indexOf($('[name=' + modId + ']').attr('type')) >= 0;

                if (ifModifierCheckbox) {
                    $('#' + modId + '').attr('checked', true);
                }
                if (ifModifierRadio) {
                    if ($('input[type=radio][name=' + modId + '][value=true]').length > 0) {
                        $('input[type=radio][name=' + modId + '][value=true]').prop('checked', true);
                    }
                }
                preventClick = true;

            }
            //Checkbox w/ Data-code and Data-Code-Modifier only (Alt code is selected) 
            else if (isCheckboxWithModifier) {
                var modId = checkboxWithModifier.attr('data-code-modifier');

                checkableEle = checkboxWithModifier;
                preventClick = true;
                $('#' + modId + '').attr('checked', true);

            }
            else if (isSingleCheckbox) {
                checkableEle = singleCheckbox;
                preventClick = true;
            }
        }

        if (checkableEle != null) {
            if (!preventCheck) {
                checkableEle.attr('checked', 'checked');
            }
            if (!preventClick) {
                checkableEle.trigger('click');
            }
        }

        //Multiple Data-Codes + Multiple Selects

        var dcMultiSelect = $('[data-code*=' + id + '][data-select-id*=","][data-code-toggle=true]');
        var dcMultiSelectCodes = dcMultiSelect.attr('data-code');
        var dcMultiSelectId = dcMultiSelect.attr('data-select-id');
        var usesDcMultiSelect = false;

        if ($(dcMultiSelect).length > 0 && $('#' + $(dcMultiSelect).attr('data-select-id')).length > 0) {

            if (dcMultiSelectCodes.indexOf(',') > -1) {

                var dcMultiSelectCodesArray = dcMultiSelectCodes.replace(' ', '').split(',');

                for (var i = 0; i < dcMultiSelectCodesArray.length; i++) {

                    if (id == dcMultiSelectCodesArray[i]) {
                        usesDcMultiSelect = true;
                    }

                }
            }
            else if (id == dcMultiSelectCodes) {
                usesDcMultiSelect = true;
            }

            if (usesDcMultiSelect) {

                var selectableEle;

                if (dcMultiSelectId.indexOf(',') > -1) {
                    var dcMultiSelectors = dcMultiSelectId.split(',');

                    for (var i = 0; i < dcMultiSelectors.length; i++) {

                        if ($('#' + dcMultiSelectors[i]).length > 0) {
                            var dcMultiSelectProduct = $('#' + dcMultiSelectors[i]).attr('data-select-product');

                            if (dcMultiSelectProduct == id) {
                                selectableEle = $('#' + dcMultiSelectors[i]);
                            }
                        }
                    }

                    if (selectableEle.length > 0) {
                        $(selectableEle).val(qty);
                    }

                    registerEvent("ToggleButtonInitialized", function () {
                        setToggleButton(id, 'Add');
                    });


                }
            }
        }

        // Data-Code + Select
        var dcSelect = $('[data-code=' + id + '][data-select-id][data-code-toggle=true]');
        if ($(dcSelect).length <= 0) {
            dcSelect = $('[data-code-alt=' + id + '][data-select-id][data-code-toggle=true]');
        }

        if ($(dcSelect).length > 0 && $('#' + $(dcSelect).attr('data-select-id')).length > 0) {

            var selectableEle = $('#' + $(dcSelect).attr('data-select-id'));

            $(selectableEle).val(qty);

            registerEvent("ToggleButtonInitialized", function () {
                setToggleButton(id, 'Add');
            });

        }

        // Regular Data Code w/ Toggle Button
        var toggleButton = $('[data-code=' + originalId + ']');

        if (toggleButton.length > 0) {
            registerEvent("ToggleButtonInitialized", function () {
                setToggleButton(originalId, 'Add');
            });
        }

        // Regular Action Code / Quantity
        if ($('[name="ActionCode' + index + '"]').length == 0 || 'radio,checkbox'.indexOf(ele.attr('type')) >= 0) {
            if (!ele.is(':checked')) {
                ele.attr('checked', 'checked');
                ele.trigger('click');
            }

            if ($('#ActionQuantity' + index).length > 0) {
                $('#ActionQuantity' + index).val(qty);
            }
        }
        else {
            $('#ActionQuantity' + index).val(qty);
        }

        // Set Data-Conditions
        $.each($('[data-condition="' + id + '"][data-condition-value]:not([data-condition-missing])'), function () {
            setDataCondition(this);
        });

        //Set qty value for Select with radio/checkbox
        var qtySelect = $('[data-code=' + id + '][data-qty-id][type=radio],[data-code=' + id + '][data-qty-id][type=checkbox]');
        if ($(qtySelect).length <= 0) {
            qtySelect = $('[data-code-alt=' + id + '][data-qty-id][type=radio],[data-code-alt=' + id + '][data-qty-id][type=checkbox]');
        }

        if ($(qtySelect).length > 0 && $('#' + $(qtySelect).attr('data-qty-id')).length > 0) {
            var selectableEle = $('#' + $(qtySelect).attr('data-qty-id'));

            $(selectableEle).val(qty);
        }

    }

    function setDataCondition(obj) {
        var conditionMet = true;
        var type =
            $(obj).is('input[type="checkbox"]') ? "Checkbox" :
                $(obj).is('input[type="radio"]') ? "Radio" :
                    "Text";
        var conditionValue = $(obj).attr('data-condition-value');

        if ($(this).attr('data-condition-qty') != null && $(obj).attr('data-condition-qty').length >= 0) {
            conditionMet = qty == parseInt($(obj).attr('data-condition-qty'));
        }

        if (conditionMet) {
            switch (type) {
                case "Checkbox":
                    if (conditionValue.toLowerCase() == "true") {
                        if (!$(obj).is(':checked')) {
                            $(obj).trigger('click');
                        }
                    }
                    else if (conditionValue.toLowerCase() == "false") {
                        if ($(obj).is(':checked')) {
                            $(obj).trigger('click');
                        }
                    }
                    else {
                        console.log('Condition Value for Checkboxes must be set to "true" or "false"');
                    }
                    break;
                case "Radio":
                    $(obj).attr('checked', 'checked');
                    $(obj).trigger('click');
                    break;
                case "Text":
                    $(obj).val(conditionValue);
                    break;
            }
        }
    }

    function handleCartChange() {
        if (typeof (onCartChangeBegin) == "function") {
            onCartChangeBegin();
        }

	 
        $.get(getCartUrl('ClearCart'), { t: new Date().getTime(), covid: 'fb638b29-2a62-ee11-8b98-a0369f1303c7', zipcode: getZip(), state: getState(), country: getCountry() }, function () {
		
            var html = '';

            var payload = { t: new Date().getTime(), covid: 'fb638b29-2a62-ee11-8b98-a0369f1303c7', zipcode: getZip(), state: getState(), country: getCountry() };
            var uniqueItems = getItems();
            var qtyCounter = uniqueItems.length;

            var toggleItems = [];
            var toggleButtonCaller = null;

            if (typeof (evt) !== 'undefined') {
                var ev = typeof (event) === 'undefined' ? evt : evt || event;
                if (ev != null && ev.currentTarget != null && $(ev.currentTarget).attr('data-code') != null) {
                    toggleButtonCaller = ev.currentTarget;
                    var tempdatacode = $(toggleButtonCaller).attr('data-code');
                    //Toggle Button Click
                    if ($(ev.currentTarget).attr('data-code-toggle') != null && $(ev.currentTarget).attr('data-code-toggle') == 'true') {
                        var isModified = ($(toggleButtonCaller).attr('data-code-modifier') != null && $(toggleButtonCaller).attr('data-code-modifier').length > 0
                            && $(toggleButtonCaller).attr('data-code-alt') != null && $(toggleButtonCaller).attr('data-code-alt').length > 0
                            && $('#' + $(toggleButtonCaller).attr('data-code-modifier')).is(':checked'));
                        //var tempdatacode = $(toggleButtonCaller).attr('data-code');
                        tempdatacode = isModified ? $(toggleButtonCaller).attr('data-code-alt') : tempdatacode;
                        var regex;
                        if (tempdatacode.indexOf(',') > -1) {
                            tempdatacode = tempdatacode.replace(',', ')$|^(');
                            regex = new RegExp("^(" + tempdatacode + ")$");
                        }
                        else {
                            regex = new RegExp("^" + tempdatacode + "$");
                        }



                        var active = _dtmShoppingCart.SearchItems(regex).length > 0;
                        var $toggleButtonCaller = $(toggleButtonCaller).find('[data-code-label]').length > 0
                            ? $(toggleButtonCaller).find('[data-code-label]')
                            : $(toggleButtonCaller);

                        $toggleButtonCaller.html(active ? 'Removing...' : 'Adding...');
                    }

                    else if (overrideQty == null) {
                        var qtyOverride = $(toggleButtonCaller).attr('data-qty-override');
                        if (qtyOverride != null) {
                            overrideQty = qtyOverride;
                        }
                        else {
                            var actionCode = $('[name*="ActionCode"][value="' + tempdatacode + '"]');
                            if (actionCode != null && actionCode.length > 0) {
                                var actionQty = $('[name*="ActionQuantity' + $(actionCode).attr('id').replace('ActionCode', '') + '"]');
                                if (actionQty != null) {
                                    overrideQty = $(actionQty).val();
                                }
                            }
                        }

                    }
                }
            }

            for (var index = 0; index < uniqueItems.length; index++) {
                var item = uniqueItems[index];
                if (item.id != '' && item.id != 'none') {
                    payload['Item' + index] = item.id;
                    payload['Qty' + index] = item.qty;
                    payload['Atr' + index] = item.atr;


                    var isGroup = false;
                    $("[data-group-name][data-code-toggle=true]").each(function (i, v) {
                        var groupName = $(this).attr('data-group-name');

                        $('select[name=' + groupName + '] option[value=' + item.id + ']').parent().each(function (j, z) {
                            isGroup = true;
                            if (item.qty == 0) {
                                setToggleButton(groupName, 'Remove');
                            }
                            toggleItems.push(groupName);
                        });

                        $('input[type=radio][name=' + groupName + '][value=' + item.id + ']').each(function (j, z) {
                            isGroup = true;
                            if (item.qty == 0) {
                                setToggleButton(groupName, 'Remove');
                            }
                            toggleItems.push(groupName);
                        });

                        $('input[type=checkbox][name=' + groupName + '][value=' + item.id + ']').each(function (j, z) {
                            isGroup = true;
                            if (item.qty == 0) {
                                setToggleButton(groupName, 'Remove');
                            }
                            toggleItems.push(groupName);
                        });
                    });

                    if (item.qty == 0) {
                        if (!isGroup) {

                            setToggleButton(item.id, 'Remove');

                            toggleItems.push(item.id);
                        }
                    }

                }
            }

               

            $('.ddlPromo').each(function (index, item) {

                //if digits or not a space,number, hyphen or letter, then don't let keypress work.
                $(item).keydown(function (event) {
                    var inputValue = event.which;

                    if ((inputValue > 64 && inputValue < 91) // uppercase
                        || (inputValue >= 96 && inputValue < 123) // lowercase + numpad numbers
                        || (inputValue >= 48 && inputValue <= 57) // numbers
                        || inputValue == 9 //tab
                        || inputValue == 8// backspace
                        || inputValue == 46 // delete key
                        || (inputValue >= 37 && inputValue <= 40)) // arrows
                    {
                        return;
                    }
                    event.preventDefault();
                });

                //if value contains symbol , clear field
                $(item).on("input", function (e) {
                    var value = $(item).val();
                    var regex = new RegExp("[^A-Za-z0-9]");
                    if (regex.test(value)) {
                        $(item).val("");
                    }
                });

                var id = $(item).val();
                payload['PromoCode'] = id;
            });

            $('.cartParam').each(function (index, item) {
                var id;
                var paramName = $(item).data('paramname') || item.name;
                if ('radio'.indexOf($(item).attr('type')) >= 0) {
                    id = $('[name=' + item.name + ']:checked').val();
                }
                else if ('checkbox'.indexOf($(item).attr('type')) >= 0) {
                    id = $('[name=' + item.name + ']').is(':checked');
                }
                else {
                    id = $(item).val();
                }
                if (payload["param_" + paramName] == null || payload["param_" + paramName] == '') {
                    payload["param_" + paramName] = id;
                }
            });


            $.post(getCartUrl('Edit'),
                payload,
                function (data) {
                    var retailDeliveryFee = 'RDFFEE';
                    $("#retailDeliveryFee").hide();

                    
                    $('.reviewTableBody').html('');
                    $('#orderFormReviewTableItems').html('');
                    $('.futurechargerow').remove();
       

                    var totalQty = 0;

					

                    for (var i = 0; i < data.items.length; i++) {
                        var excludeFromCartCount = false;
                        var dataItem = data.items[i];
                        if (dataItem.props && dataItem.props.length > 0) {
                            for (var pi = 0; pi < dataItem.props.length; pi++) {
                                var prop = dataItem.props[pi];
                                dataItem.props[prop["Key"]] = prop["Value"];

                                if (prop["Key"] == "ExcludeFromCartCount" && prop["Value"] == 'true') {
                                    excludeFromCartCount = true;
                                }
                                if (dataItem.code === retailDeliveryFee) {
                                    $('#retailDeliveryFeeName').html(dataItem.name);
                                    $("#retailDeliveryFee").show();
                                }
                            }
                        }
                        if (!excludeFromCartCount) {
                            totalQty += dataItem.qty;
                        }
                        
                        var tr = renderTr(dataItem, i);
                        $('.reviewTableBody').append(tr);
                                       

                    }

                    
                    var subtotal = data.totalPrice.toFixed(2);

					 

                    if (data.zipdata && data.zipdata.Fees) {

                        subtotal = (subtotal - parseFloat(data.zipdata.Fees)).toFixed(2);
                    }

                    $('.subtotal').html('$' + subtotal);
                    $('.phtotal').html('$' + data.totalShipping.toFixed(2));
                    $('.summary-total').html('$' + data.total.toFixed(2));
                    $('.cartTotalQty').html(totalQty > 0 ? '(' + totalQty + ')' : '');
                    $('.cartTotalQtyNumbersOnly').html(totalQty > 0 ? '' + totalQty + '' : '');
                    setTax(data.zipdata);

                    if (payload['PromoCode'] && typeof hidePromoErrors === "undefined") {
                        displayError(data.errors);
                    }

                    if (payload['PromoCode'] && typeof (onApplyPromo) == "function") {
                        var promoCode = payload['PromoCode'];
                        var hasPromo = promoCode == data.promoCode;
                        var promoItem = getItemWithKeyValue(data.items, 'id', data.promoCodeTarget);
                        if (hasPromo && promoItem != null) {
                            var fireOnApplyPromo = false;
                            $('.ddlPromo').each(function (i, item) {
                                var current = $(item).attr('data-current');
                                if (typeof (current) == "undefined" || current != promoCode) {
                                    $(item).attr('data-current', promoCode);
                                    fireOnApplyPromo = true;
                                }
                            });
                            if (fireOnApplyPromo) {
                                onApplyPromo(promoCode, promoItem);
                            }
                        }
                    }

					
                    function getFutureChargesLabels(startingLabelIndex) {
                    

                     if ("true" == "true") {
                         var thirtyDayMultiplier = 0;
                         var days = (thirtyDayMultiplier + 1) * 30;
                         var displayDays = (days * (startingLabelIndex - 1));

                         switch (startingLabelIndex) {
                             case 1:
                                 var firstFutureChargeLabel = "" != "" ? "1 " + displayDays + " " : "1st Payment in " + displayDays + " days";
                                 return firstFutureChargeLabel;
                             case 2:
                                 var secondFutureChargeLabel = "" != "" ? "2 " + displayDays + " " : "2nd Payment in " + displayDays + " days";
                                 return secondFutureChargeLabel;
                             case 3:
                                 var thirdFutureChargeLabel = "" != "" ? "3 " + displayDays + " " : "3rd Payment in " + displayDays + " days";
                                 return thirdFutureChargeLabel;
                             default:
                                 var thFutureChargeLabel = "" != "" ? startingLabelIndex + " " + displayDays + " " : startingLabelIndex + "th Payment in " + displayDays + " days";
                                 return thFutureChargeLabel;
                         }
                     }
                     else {
                         switch (startingLabelIndex) {
                             case 1:
                                 var firstFutureChargeLabel = "" != "" ? "1 " : "1st Payment";
                                 return firstFutureChargeLabel;
                             case 2:
                                 var secondFutureChargeLabel = "" != "" ? "2 " : "2nd Payment";
                                 return secondFutureChargeLabel;
                             case 3:
                                 var thirdFutureChargeLabel = "" != "" ? "3 " : "3rd Payment";
                                 return thirdFutureChargeLabel;
                             default:
                                 var thFutureChargeLabel = "" != "" ? startingLabelIndex + " " : startingLabelIndex + "th Payment";
                                    return thFutureChargeLabel;
                            }
                        }
                    }
                    function getFirstPaymentLabel(price, shipping, tax) {

                        

                     var shippingString = (shipping > 0) ? " + $" + shipping.toFixed(2) : "";
                     var taxString = (tax > 0) ? " + $" + tax.toFixed(2) : "";
                     if (shipping > 0 || tax > 0) {
                         return "Your 1st payment is " + "$" + price.toFixed(2) + shippingString + taxString;
                     }
                     return "Your 1st payment is " + price.toFixed(2);
                    }
                    function getExtendedPaySummaryLabels(startingLabelIndex) {
                        switch (startingLabelIndex) {
                            case 2:
                                label = "Your 2nd payment is $";
                                break;
                            case 3:
                                label = "Your 3rd payment is $";
                                break;
                            default:
                                label = "Your " + startingLabelIndex + "th payment is $";
                                break;
                        }
                        return label;
                    }
                    if (typeof (onCartChangeComplete) == "function") {
                        onCartChangeComplete();
                    }

                    if (_dtmShoppingCart != null) {
                        setTimeout(function () { }, 800);

                        var rbgroups = [];

                        for (var i = 0; i < toggleItems.length; i++) {
                            var toggleItem = toggleItems[i];
                            var code = toggleItem;
                            var regex = new RegExp("^" + toggleItem + "$");
                            var active = _dtmShoppingCart.SearchItems(regex).length > 0;
                            var isGroup = $('input[type=radio][name=' + toggleItem + ']').length > 0;
                            code = $('input[type=radio][value=' + toggleItem + '][name]:checked').length > 0 ? $('input[type=radio][value=' + toggleItem + '][name]:checked').attr('name') : code;

                            if (isGroup) {

                                var selectedItem = $('input[type=radio][name=' + toggleItem + ']:checked').val();
                                var cartRegex = new RegExp("^" + selectedItem + "$");
                                var cartItem = _dtmShoppingCart.SearchItems(cartRegex);
                                var hasItem = cartItem.length > 0;
                                if (hasItem) {
                                    setToggleButtonQty(code, cartItem.TotalQuantity);
                                }
                            }

                            setToggleButton(code, active ? 'Add' : 'Remove');
                        };

                        $('[data-code-toggle=true][data-code]').not('[data-code-modifier]').each(function (index, item) {
                            var code = $(this).attr('data-code');

                            if (code.indexOf(',') > -1) {

                                var allDataCodes = code.split(',');
                                var datacodes = code.replace(',', ')$|^(');
                                var regex = new RegExp("^(" + datacodes + ")$");
                                var active = _dtmShoppingCart.SearchItems(regex).length > 0;


                                setToggleButton(code, active ? 'Add' : 'Remove');


                            }
                            else {
                                var isCB = 'checkbox'.indexOf($(this).attr('type')) >= 0;

                                var code = $(this).attr('data-code');
                                var regex = new RegExp("^" + code + "$");
                                var active = _dtmShoppingCart.SearchItems(regex).length > 0;
                                if (isCB) {
                                    $(this).prop("checked", active);
                                }
                                setToggleButton(code, active ? 'Add' : 'Remove');
                            }
                        });

                        $("[data-code-toggle=true][data-group-name]").each(function (i, item) {
                            var groupName = $(this).attr('data-group-name');
                            var isDataCheckbox = $(this).attr('data-checkbox') != null && $(this).attr('data-checkbox').length > 0;
                            var altCodes = "";
                            var hasQtySelect = $(this).attr('data-qty-id');
                            var selector = ($(item)[0].hasAttribute('data-select')) ?
                                ('[name="' + groupName + '"] option[value != ""]') :
                                ('[name="' + groupName + '"]');

                            var removeItems = [];
                            var dataCodes = $(selector)
                                .map(function () { return this.value; })
                                .get().join(')$|^(');

                            var hasModifier = $(this).attr('data-code-modifier') != null && $(this).attr('data-code-modifier').length > 0;

                            if (hasModifier) {
                                altCodes = $('[name="' + groupName + '"]')
                                    .map(function () { return $(this).attr('data-code-alt'); })
                                    .get().join(')$|^(');
                            }

                            var regex = hasModifier ? new RegExp("^(" + dataCodes + ")$|^(" + altCodes + ")$") : new RegExp("^(" + dataCodes + ")$");
                            var active = _dtmShoppingCart.SearchItems(regex).length > 0;
                            setToggleButton(groupName, active ? 'Add' : 'Remove');

                            if (active && typeof hasQtySelect !== typeof undefined) {
                                setToggleButtonQty(groupName, _dtmShoppingCart.SearchItems(regex).TotalQuantity);
                            }

                            if (isDataCheckbox) {
                                $('[name="' + groupName + '"]').each(function (idx, cbx) {

                                    var modifier = hasModifier ? $(cbx).attr('data-code-modifier') : null;
                                    var isModified = modifier != null ? $('#' + modifier + '').is(':checked') : false;
                                    var code = isModified ? $(cbx).attr('data-code-alt') : $(cbx).val();
                                    var regex = new RegExp("^" + code + "$");
                                    var active = _dtmShoppingCart.SearchItems(regex).length > 0;
                                    $(cbx).prop("checked", active);

                                });
                            }

                        });

                        $('[data-code-toggle=true][data-code][data-code-modifier][data-code-alt]').each(function (index, item) {
                            var oldCode = $(this).attr('data-code');
                            var alt = $(this).attr('data-code-alt');
                            var modifier = $(this).attr('data-code-modifier');

                            var isChecked = $('#' + modifier).is(':checked');
                            var code = !isChecked ? $(this).attr('data-code') : $(this).attr('data-code-alt');

                            var regex = new RegExp("^" + code + "$");
                            var active = _dtmShoppingCart.SearchItems(regex).length > 0;
                            setToggleButton(oldCode, active ? 'Add' : 'Remove');
                        });
                    }

                    $('[data-code-toggle=true]').removeClass('disableToggleClick');

                    //Check if cart has any multipay items
                    var hasMultipay = false;
                    for (var i = 0; i < data.items.length; i++) {
                        var item = data.items[i];
                        if (item && item.numpay && item.numpay > 1) {
                            hasMultipay = true;
                            break;
                        }
                    }

                    
                    //Toggle shipping Fields
                    toggleShippingFields(hasMultipay);
                    
                    data.hasMultipay = hasMultipay;
                    _dtmShoppingCart.HasMultipay = hasMultipay;
                    triggerEvent("CartChange", data);

                }, "json")
                .fail(function () {
                    if (typeof (onCartChangeComplete) == "function") {
                        onCartChangeComplete();
                    }
                    $('[data-code-toggle=true]').removeClass('disableToggleClick');
                });
            
        });
		
    }

    function displayError(errorArray) {
        if (errorArray && errorArray.length > 0) {
            var ele = $('form').find('span[style="color: #FF0000; font-weight: bold"]');

            if (ele.length == 0 && $('.vse').length > 0) {
                ele = $('.vse');
            }

            if (_firstRun) {
                if (ele.children().length) {
                    $.each(ele.find('li'), function (index, item) {
                        data.errors.push($(item).text());
                    });
                }
            }

            var html = '<div class="validation-summary-errors"><span>The following errors have occured:</span>' + '<ul>';
            for (var i = 0; i < errorArray.length; i++) {
                if (html.indexOf(errorArray[i]) < 0) {
                    html += '<li>' + errorArray[i] + '</li>';
                }
            }
            html += '</ul></div>';
            if (!_firstRun) {
                ele.html(html);
                _dtmShoppingCart.ScrollToErrors(ele);
            } else {
                _firstRun = false;
            }
        } else if (!_firstRun) {
            var ele = $('form').find('span[style="color: #FF0000; font-weight: bold"]');
            if (ele.length == 0 && $('.vse').length > 0) {
                ele = $('.vse');
            }
            ele.html('');
        }
    }

    function setToggleButton(code, mode) {
        triggerEvent("ChangeToggleButtonState", {
            key: code,
            state: mode
        });
    }

    function registerEvent(evType, fn, element, useCapture) {
        var elm = element || window;
        if (elm.addEventListener) {
            elm.addEventListener(evType, fn, useCapture || false);
        }
        else if (elm.attachEvent) {
            var r = elm.attachEvent(evType, fn);
        }
        else {
            elm[evType] = fn;
        }
    }

    function triggerEvent(eventName, data, element) {
        try {
            var event;
            var payload = (data && typeof (data.detail) != "undefined")
                ? data
                : (data ? { detail: data } : { detail: '' });
            if (typeof window.CustomEvent === 'function') {
                event = new CustomEvent(eventName, payload || { detail: '' });
            } else if (document.createEvent) {
                event = document.createEvent('HTMLEvents');
                event.detail = payload.detail;
                event.initEvent(eventName, true, true);
            } else if (document.createEventObject) {
                event = document.createEventObject();
                event.detail = payload.detail;
                event.eventType = eventName;
            }
            event.eventName = eventName;
            var el = element || window;
            if (el.dispatchEvent) {
                el.dispatchEvent(event);
            } else if (el.fireEvent && htmlEvents[eventName]) {
                el.fireEvent(event.eventType, event);
            } else if (el[eventName]) {
                el[eventName]();
            } else if (el['on' + eventName]) {
                el['on' + eventName]();
            }
        } catch (error) {
            console.log('Error executing ' + name + ' Event');
        }
    }

    function getItemWithKeyValue(items, key, value) {
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            if (item[key] == value) {
                return item;
            }
        }
        return null;
    }

    function renderTr(dataItem, i) {
        if (!dataItem.props["HideProduct"]) {
            var tr = '<tr>';
            
            tr += '<td data-eflex--category-label="Item">' + dataItem.name + '</td>';
            
            tr += '<td data-cart-code="' + dataItem.code + 'Quantity" data-eflex--category-label="Quantity">' + dataItem.qty + '</td>';
            
            tr += '<td data-cart-code="' + dataItem.code + 'Price" data-eflex--category-label="Price">$' + (dataItem.price * dataItem.qty).toFixed(2) + '</td>';
            
            tr += '</tr>';
            return tr;
        }
        return '';
    }

    function updateTr(dataItem, i) {
        var qtyTd = $("[data-cart-code='" + dataItem.code + "Quantity']");
        if (qtyTd.length != 0) {
            var Quantity = qtyTd.children("[name*='ActionQuantity']")[0];
            $(Quantity).val(dataItem.qty);
            if (qtyTd.attr('data-cart-noedit')) {
                qtyTd.html(dataItem.qty);
                qtyTd.append(Quantity);
            }

        
            $("[data-cart-code='" + dataItem.code + "Price']").html('$' + (dataItem.price * dataItem.qty).toFixed(2) + '');
            
        } else {
            i = $('#orderFormReviewTableItems').children("input").length;
            var tr = renderTr(dataItem, i);
            $('.reviewTableBody').append(tr);
        }


    }

    function updateCartItems(dataItems) {
        $(dataItems).each(function (index, item) {
            var exists = false;
            $(cartItems).each(function (i, cartItem) {
                if (cartItem.code == item.code) {
                    cartItem.added = true;
                    exists = true;
                    return;
                }
            });
            if (!exists) { cartItems.push({ code: item.code, added: true }) };
        });

        $(cartItems).each(function (index, cartItem) {
            var exists = false;
            $(dataItems).each(function (i, item) {
                if (cartItem.code == item.code) {
                    exists = true;
                    return;
                }
            });
            cartItem.added = exists;
        });
    }

    function updateRemovedTr() {

        $(cartItems).each(function (index, item) {
            if (!item.added) {
                var qtyTd = $("[data-cart-code='" + item.code + "Quantity']");
                var Quantity = qtyTd.children("[name*='ActionQuantity']")[0];
                $(Quantity).val('0');
                if (qtyTd.attr('data-cart-noedit')) {
                    qtyTd.html('0');
                    qtyTd.append(Quantity);
                }
        
                $("[data-cart-code='" + item.code + "Price']").html('$' + (0).toFixed(2) + '');
            
            }
        });
    }
    function setTax(data) {
        if (data != null) {

            var zip = $('.zc').val();
            var shipZip = $('#ShippingZip').val();
            var billZip = $('#BillingZip').val();
            var shipCity = $('#ShippingCity').val();
            var billCity = $('#BillingCity').val();
            var shipState = $('#ShippingState').val();
            var billState = $('#BillingState').val();
            var shipCountry = $('#ShippingCountry').val();
            var billCountry = $('#BillingCountry').val();

            if ($('#ShippingIsDifferentThanBilling').is(':checked') && lastChangeType == 'Shipping') {
                if (data.City != '' && data.City != null && shipCity == "") {
                    $('#ShippingCity').val(data.City);
                }
                if (data.CountryCode != '' && data.CountryCode != null && shipCountry == "") {
                    $('#ShippingCountry').val(data.CountryCode);
                }
                if (data.StateCode != '' && data.StateCode != null && shipState == "") {
                    $('#ShippingState').val(data.StateCode);
                }
                if (shipZip == "") {
                    $('#ShippingZip').val(zip);
                }
            } else {
                if (data.City != '' && data.City != null && billCity == "") {
                    $('#BillingCity').val(data.City);
                }
                if (data.CountryCode != '' && data.CountryCode != null && billCountry == "") {
                    $('#BillingCountry').val(data.CountryCode);
                }
                if (data.StateCode != '' && data.StateCode != null && billState == "") {
                    $('#BillingState').val(data.StateCode);
                }
                if (billZip == "") {
                    $('#BillingZip').val(zip);
                }
            }

            var fees = 0;
            if (data.Fees) {
                fees = data.Fees;
            }

            if (data.DeliveryFee != null) {
                $('.taxtotal').html('$' + ((data.Amount + fees) - data.DeliveryFee).toFixed(2));
                $('.summary-total').html('$' + data.TaxTotal.toFixed(2));
                $('#retailDeliveryFeeTotal').html('$' + data.DeliveryFee.toFixed(2));
            }
            else {
                $('.taxtotal').html('$' + (data.Amount + fees).toFixed(2));
            }
            $('.summary-total').html('$' + data.TaxTotal.toFixed(2));
        }
    }

    function getZip() {
        return $('#zc').val();
    }

    function getState() {
        return $('#ShippingIsDifferentThanBilling').is(':checked') ? $('#ShippingState').val() : $('#BillingState').val();
    }
    function getCountry() {
        return $('#ShippingIsDifferentThanBilling').is(':checked') ? $('#ShippingCountry').val() : $('#BillingCountry').val();
    }

    var currentzipcode = '', lastChangeType = '';
    function updateZip(zipcode, state, country) {
        if (zipcode != '' && zipcode != currentzipcode && zipcode.length >= 5) {
            currentzipcode = zipcode;
            $('.zc').val(zipcode);
            handleCartChange();
        }
    }
    
    function getItems(items) {
        var uniqueItems = new Array();
        $("[name*='ActionQuantity']").each(function (index, item) {
            var id;
            var itemIndex = (item.getAttribute('data-index') ? item.getAttribute('data-index') : (item.id || '').replace('ActionQuantity', ''));
            if ($('[name="ActionCode' + itemIndex + '"]').length == 0 || 'radio,checkbox'.indexOf($('[name="ActionCode' + itemIndex + '"]').attr('type')) >= 0) {
                if ($('[name="ActionCode' + itemIndex + '"][data-upgrade]').length != 0) {
                    id = $('[name="ActionCode' + itemIndex + '"]').val();
                } else {
                    id = $('[name="ActionCode' + itemIndex + '"]:checked').val();
                }
            } else {
                id = $('[name="ActionCode' + itemIndex + '"]').val();
                if ($('[name="ActionCode' + itemIndex + '"]').attr('data-checkbox')) {
                    var checkBoxName = $('[name="ActionCode' + itemIndex + '"]').attr('name').replace('Code', 'Checkbox');
                    var checkBoxEle = $('[name="' + checkBoxName + '"]');

                    if (checkBoxEle.attr('data-new') == id) {
                        checkBoxEle.prop('checked', true);
                    }
                }
            }
            if (id != null && id != '' && id != 'none') {
                var qty = $(item).val();
                var atr;
                if ($('[name="ActionAttribute' + itemIndex + '"]').length == 0 || 'radio,checkbox'.indexOf($('[name="ActionAttribute' + itemIndex + '"]').attr('type')) >= 0) {
                    if ($('[name="ActionAttribute' + itemIndex + '"]').length == 1) {
                        atr = $('[name="ActionAttribute' + itemIndex + '"]:checked').val();
                    } else {
                        var allValues = new Array();
                        $.each($('[name="ActionAttribute' + itemIndex + '"]:checked'), function () {
                            allValues.push($(this).val());
                        });
                        atr = allValues.join(',');
                    }
                } else {
                    if ($('[name="ActionAttribute' + itemIndex + '"]').length == 1) {
                        atr = $('[name="ActionAttribute' + itemIndex + '"]').val();
                    } else {
                        var allValues = new Array();
                        $.each($('[name="ActionAttribute' + itemIndex + '"]'), function () {
                            allValues.push($(this).val());
                        });
                        atr = allValues.join(',');
                    }
                }
                if (uniqueItems[id]) {
                    for (var ui = 0; ui < uniqueItems.length; ui++) {
                        var uitem = uniqueItems[ui];
                        if (uitem.id == id) {
                            uitem.qty += parseInt(qty);
                            break;
                        }
                    }
                } else {
                    uniqueItems[id] = true;
                    uniqueItems[uniqueItems.length] = { id: id, qty: parseInt(qty), atr: atr };
                }

                if ($('[name="MatchProductQuantity' + itemIndex + '"]').length == 0 || 'radio,checkbox'.indexOf($('[name="MatchProductQuantity' + itemIndex + '"]').attr('type')) >= 0) {
                    var match = $('[name="MatchProductQuantity' + itemIndex + '"]:checked').val();
                } else {
                    var match = $('[name="MatchProductQuantity' + itemIndex + '"]').val();
                }
                if (typeof match != "undefined" && match.length > 0) {
                    if (uniqueItems[match]) {
                        for (var ui = 0; ui < uniqueItems.length; ui++) {
                            var uitem = uniqueItems[ui];
                            if (uitem.id == match) {
                                uitem.qty += parseInt(qty);
                                break;
                            }
                        }
                    } else {
                        uniqueItems[match] = true;
                        uniqueItems[uniqueItems.length] = { id: match, qty: parseInt(qty), atr: atr };
                    }
                }
            } else {
                console.log('id was blank, skipping.')
            }
        });
        return uniqueItems;
    }

    var DtmShoppingCart = function () {
        var self = this;
        self.scrollToTopPosition = parseFloat("-200");

        self.CurrentErrors = [];

        self.Count = function () {
            return self.Items().length;
        }

        self.Items = function () {
            return getItems();
        };

        self.HasMultipay = false;

        self.SearchItems = function (pattern) {
            var items = getItems();
            var results = [];

            results["TotalQuantity"] = 0;

            for (var i = 0; i < items.length; i++) {
                var item = items[i];
                if (new RegExp(pattern).test(item.id)) {
                    results[results.length] = item;
                    results[item.id] = item;
                    results["TotalQuantity"] += item.qty;
                }
            }
            return results;
        };

        self.SetItems = function (items) {
            setItems(items);
        }

        self.AddErrors = function (errorsArray) {
            var allErrors = self.CurrentErrors.concat(errorsArray);

            var uniqueErrors = [];
            for (var i = 0, l = allErrors.length; i < l; i++) {
                if (uniqueErrors.indexOf(allErrors[i]) === -1) {
                    uniqueErrors.push(allErrors[i]);
                }
            }
            self.DisplayErrors(uniqueErrors, true);
            self.ScrollToErrors();
        };

        self.RemoveErrors = function (errorsArray) {
            var currentErrors = self.CurrentErrors;

            var uniqueErrors = [];
            for (var i = 0, l = currentErrors.length; i < l; i++) {
                var currentError = currentErrors[i];
                var alreadyExists = false;
                for (var j = 0; j < errorsArray.length; j++) {
                    var toRemoveError = errorsArray[j];

                    if (currentErrors.indexOf(toRemoveError) > -1 && currentError == toRemoveError) {
                        alreadyExists = true;
                    }
                }

                if (uniqueErrors.indexOf(currentError) === -1 && !alreadyExists) {
                    uniqueErrors.push(currentError);
                }
            }
            self.DisplayErrors(uniqueErrors, true);
        };

        self.ScrollToErrors = function (customElement) {
            if (self.CurrentErrors.length > 0) {
                var ele = getErrorElement();
                $.scrollTo(ele, { top: self.scrollToTopPosition });
            } else if (customElement) {
                $.scrollTo(customElement, { top: self.scrollToTopPosition });
            }
        };

        function getErrorElement() {
            var ele = $('form').find('span[style="color: #FF0000; font-weight: bold"]');

            if (ele.length == 0) {
                //For IE
                ele = $('form').find('span[style="color: rgb(255, 0, 0); font-weight: bold;"]');
            }

            if (ele.length == 0 && $('.vse').length > 0) {
                ele = $('.vse');
            }
            return ele;
        }

        self.UpgradeItem = function (currentCode, newCode) {
            var items = self.Items();

            for (var i = 0; i < items.length; i++) {
                var item = items[i];
                if (item.id == currentCode) {
                    item.id = newCode;
                    break;
                }
            }

            self.SetItems(items);
        };

        self.DisplayErrors = function (errorsArray, show) {
            if (errorsArray && errorsArray.length > 0) {
                var ele = getErrorElement();

                if (_firstRun) {
                    if (ele.children().length) {
                        $.each(ele.find('li'), function (index, item) {
                            errorsArray.push($(item).text());
                        });
                    }
                }

                var html = '<div class="validation-summary-errors"><span>The following errors have occured:</span>' +
                    '<ul>';
                for (var i = 0; i < errorsArray.length; i++) {
                    if (html.indexOf(errorsArray[i]) < 0) {
                        html += '<li>' + errorsArray[i] + '</li>';
                    }
                }
                html += '</ul></div>';
                self.CurrentErrors = errorsArray;

                if (!_firstRun || show) {
                    ele.html(html);
                    self.ScrollToErrors();
                } else {
                    _firstRun = false;
                }

            } else if (!_firstRun || show) {
                var ele = getErrorElement();
                ele.html('');
                self.CurrentErrors = [];
            }
        };
    };
    var _dtmShoppingCart = new DtmShoppingCart();

   
    //Disable and hide Shipping checkbox if isMultipay = true
    function toggleShippingFields(isMultipay) {
        let shippingCbx = $("[name='ShippingIsDifferentThanBilling']:checkbox");
        let shippingLabel = $("#ShippingIsSame");
        if (!shippingLabel) {
            shippingLabel = shippingCbx.parent().parent();
        }

        if (isMultipay) {
            if (shippingCbx.is(":checked")) {
                shippingCbx.prop("checked", false);
                toggleShipping();
            }
            shippingCbx.prop("disabled", true);
            shippingLabel.hide();
        } else if ($('#otCARD').length == 0 || $('#otCARD').is(':checked')) {
            shippingCbx.prop("disabled", false);
            shippingLabel.show();
        }

    }


    registerEvent("PaymentOptionSelected", function () {
        if (_dtmShoppingCart) {
            toggleShippingFields(_dtmShoppingCart.HasMultipay);
        }
    });

    

</script>

                            </div>
                        </div>
                    </div>
                    <div class="form__span-item form__message"><span class="form__error">*</span> Indicates Required Field</div>
                    <div class="form__item">
                        <div class="form__group-section">
                            <div class="form__item form__section" data-viewport>
                                <div class="view__scroll form form--frame">
                                    <fieldset class="form__fieldset">
                                        <h2 class="form__title paymentFormTitle">STEP 6: Select your payment method</h2>
                                        <div class="form__frame">
                                            <!-- Card Type -->
                                            <div class="form__span-item form message">
                                                <div class="form__group">
                                                    <div id="cc" class="form__group form__payment-icons"></div>
                                                </div>
                                                
                                                <div id="CardTypeCt" class="form__field-label">
                                                    <div class="form form--select">
                                                        <div class="form__contain">
                                                            <select class="form__field dtm__restyle" id="CardType" name="CardType"><option value="V">Visa</option>
<option value="M">Mastercard</option>
<option value="D">Discover</option>
<option value="AX">American Express</option>
</select>
                                                            <span class="form__field form__button">
                                                                <svg class="icon icon--combobox">
                                                                    <use href="#icon-chevron"></use>
                                                                </svg>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <label class="message__group" for="CardType" role="alert">
                                                        <span class="message__label">
                                                            <span class="form__error">* </span>Card Type
                                                        </span>
                                                        <span class="message__invalid">
                                                            
                                                                Please choose a card type.
                                                            
                                                        </span>
                                                    </label>
                                                </div>
                                            </div>

                                            <div id="CardNumberCt" class="form__span-item">
                                                <div class="form__group" id="paymentInformation">
                                                    <div role="alert" id="vse-payment" data-vse-scroll></div>
                                                    <!-- Card Number -->
                                                    <div class="form__span-item form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="tel" name="CardNumber" id="CardNumber" placeholder="Card Number" data-required="true" data-validationtype="card" class="dtm__restyle form__field " value="" autocomplete="cc-number">
                                                            <label for="CardNumber" class="message__label">
                                                                <span class="form__error">* </span>Card Number
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please enter a valid card number.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Card Expiration Month -->
                                                    <div id="CardExpirationCt" class="form message">
                                                        
                                                        <div class="form__field-label">
                                                            <div class="form form--select">
                                                                <div class="form__contain">
                                                                    <select autocomplete="cc-exp-month" class="form__field dtm__restyle" data-parent="CardExpirationCt" data-required="true" data-validationtype="cardExp" id="CardExpirationMonth" name="CardExpirationMonth"><option value="01">01 - Jan</option>
<option value="02">02 - Feb</option>
<option value="03">03 - Mar</option>
<option value="04">04 - Apr</option>
<option value="05">05 - May</option>
<option value="06">06 - Jun</option>
<option value="07">07 - Jul</option>
<option value="08">08 - Aug</option>
<option value="09">09 - Sep</option>
<option value="10">10 - Oct</option>
<option value="11">11 - Nov</option>
<option value="12">12 - Dec</option>
</select>
                                                                    <span class="form__field form__button">
                                                                        <svg class="icon icon--combobox">
                                                                            <use href="#icon-chevron"></use>
                                                                        </svg>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <label for="CardExpirationMonth" class="message__label">
                                                                <span class="form__error">* </span>Card Expiration Month
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please choose an expiration month.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Card Expiration Year -->
                                                    <div id="CardExpirationYearCt" class="form message">
                                                        
                                                        <div class="form__field-label">
                                                            <div class="form form--select">
                                                                <div class="form__contain">
                                                                    <select autocomplete="cc-exp-year" class="form__field dtm__restyle" id="CardExpirationYear" name="CardExpirationYear"><option value="2024">2024</option><option value="2025">2025</option><option value="2026">2026</option><option value="2027">2027</option><option value="2028">2028</option><option value="2029">2029</option><option value="2030">2030</option><option value="2031">2031</option><option value="2032">2032</option><option value="2033">2033</option><option value="2034">2034</option></select>
                                                                    <span class="form__field form__button">
                                                                        <svg class="icon icon--combobox">
                                                                            <use href="#icon-chevron"></use>
                                                                        </svg>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <label for="CardExpirationYear" class="message__label">
                                                                <span class="form__error">* </span>Card Expiration Year
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please enter an expiration year.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Card CVV2 -->
                                                    <div id="CardCVV2Ct" class="form__span-item form message">
                                                        
                                                        <div class="form__field-label form__cvv">
                                                            <input type="text" name="CardCvv2" id="CardCvv2" placeholder="CVV2" data-required="true" data-validationtype="cvv" class="dtm__restyle form__field " value="" autocomplete="cc-csc">
                                                            <label for="CardCvv2" class="message__label">
                                                                <span class="form__error">* </span>CVV2
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please enter a CVV number.
                                                                    
                                                                </span>
                                                            </span>
                                                            <a data-fancybox="" data-type="ajax" href="https://cddt.dtmstage.com/shared/cvv.html" title="Learn What is CVV2" id="cvv2" class="account__link form__link">What is CVV2?</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="form__item form__section form__info-accordion view__scroll">
                                <div id="billingInformation" class="form__copy">
                                    <div class="form form--frame">
                                        <fieldset class="form__fieldset">
                                            <h2 class="form__title billingTitle">STEP 7: Enter your billing information</h2>

                                            <div class="form__span-item form__frame">
                                                <div class="form__group">

                                                    <!-- Full Name -->
                                                    <div class="form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="BillingFullName" id="BillingFullName" autocomplete="section-bill billing name" placeholder="Full Name" data-required="true" data-pattern="^[A-z]+([A-z .,'-]*)?$" class="dtm__restyle form__field " value="" autocomplete="section-bill billing name">
                                                            <label for="BillingFullName" class="message__label">
                                                                <span class="form__error">* </span>Full Name
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please enter Full name.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <!-- Street -->
                                                    <div class="form__span-item form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="BillingStreet" id="BillingStreet" autocomplete="section-bill billing address-line1" placeholder="Address" data-required="true" class="dtm__restyle form__field " value="" autocomplete="section-bill billing address-line1">
                                                            <label for="BillingStreet" class="message__label">
                                                                <span class="form__error">* </span>Address
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please enter an address.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Street 2 -->
                                                    <div class="form__span-item form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="BillingStreet2" id="BillingStreet2" autocomplete="section-bill billing address-line2" placeholder="Address 2" class="dtm__restyle form__field " value="" autocomplete="section-bill billing address-line2">
                                                            <label for="BillingStreet2" class="message__label">
                                                                Address 2
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please enter an address.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- City -->
                                                    <div class="form__take-some form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="BillingCity" id="BillingCity" placeholder="City" autocomplete="section-bill billing address-level2" data-required="true" class="dtm__restyle form__field " value="" autocomplete="section-bill billing address-level2">
                                                            <label for="BillingCity" class="message__label">
                                                                <span class="form__error">* </span>City
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please enter a city.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- State -->
                                                    <div class="form__take-some form message">
                                                        
                                                        <div class="form__field-label" id="billStateParent">
                                                            <div class="form form--select">
                                                                <div class="form__contain">
                                                               <select autocomplete="section-bill billing address-level1" class="dtm__restyle form__field" data-parent="billStateParent" data-required="true" id="BillingState" name="BillingState"><option value="">Choose State</option>
<option value="AL">Alabama</option>
<option value="AZ">Arizona</option>
<option value="AR">Arkansas</option>
<option value="CA">California</option>
<option value="CO">Colorado</option>
<option value="CT">Connecticut</option>
<option value="DE">Delaware</option>
<option value="DC">District Of Columbia</option>
<option value="FL">Florida</option>
<option value="GA">Georgia</option>
<option value="ID">Idaho</option>
<option value="IL">Illinois</option>
<option value="IN">Indiana</option>
<option value="IA">Iowa</option>
<option value="KS">Kansas</option>
<option value="KY">Kentucky</option>
<option value="LA">Louisiana</option>
<option value="ME">Maine</option>
<option value="MD">Maryland</option>
<option value="MA">Massachusetts</option>
<option value="MI">Michigan</option>
<option value="MN">Minnesota</option>
<option value="MS">Mississippi</option>
<option value="MO">Missouri</option>
<option value="MT">Montana</option>
<option value="NE">Nebraska</option>
<option value="NV">Nevada</option>
<option value="NH">New Hampshire</option>
<option value="NJ">New Jersey</option>
<option value="NM">New Mexico</option>
<option value="NY">New York</option>
<option value="NC">North Carolina</option>
<option value="ND">North Dakota</option>
<option value="OH">Ohio</option>
<option value="OK">Oklahoma</option>
<option value="OR">Oregon</option>
<option value="PA">Pennsylvania</option>
<option value="RI">Rhode Island</option>
<option value="SC">South Carolina</option>
<option value="SD">South Dakota</option>
<option value="TN">Tennessee</option>
<option value="TX">Texas</option>
<option value="UT">Utah</option>
<option value="VT">Vermont</option>
<option value="VA">Virginia</option>
<option value="WA">Washington</option>
<option value="WV">West Virginia</option>
<option value="WI">Wisconsin</option>
<option value="WY">Wyoming</option>
</select>
                                                                    
                                                                    <span class="form__field form__button">
                                                                        <svg class="icon icon--combobox">
                                                                            <use href="#icon-chevron"></use>
                                                                        </svg>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <label for="BillingState" class="message__label">
                                                                <span class="form__error">* </span>State
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please choose a state.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Zip Code -->
                                                    <div class="form__take-some form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="BillingZip" id="BillingZip" placeholder="Zip Code" autocomplete="section-bill billing postal-code" data-required="true" class="ui-autocomplete-input dtm__restyle form__field " value="" autocomplete="section-bill billing postal-code">
                                                            <label for="BillingZip" class="message__label">
                                                                <span class="form__error">* </span>Zip Code
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please enter a zip code.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Country -->
                                                    <div class="form message" style='display:none'>
                                                        
                                                        <div class="form__field-label">
                                                            <div class="form form--select">
                                                                <div class="form__contain">
                                                                    <select autocomplete="section-bill billing country" class="dtm__restyle form__field" id="BillingCountry" name="BillingCountry"><option value="USA">United States</option>
</select>
                                                                    <span class="form__field form__button">
                                                                        <svg class="icon icon--combobox">
                                                                            <use href="#icon-chevron"></use>
                                                                        </svg>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <label for="BillingCountry" class="message__label">
                                                                <span class="form__error">* </span>Country
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please choose a country.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Phone -->
                                                    <div class="form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="tel" name="Phone" id="Phone" autocomplete="section-bill billing tel" placeholder="Phone" data-required="true" data-validationtype="phone" class="dtm__restyle form__field " value="" autocomplete="section-bill billing phone">
                                                            <label for="Phone" class="message__label">
                                                                <span class="form__error">* </span>Phone
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please enter a phone number.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Email -->
                                                    <div class="form__span-item form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="email" name="Email" id="Email" autocomplete="section-bill billing email" title="Format example: someone@someplace.com" data-required="true" data-pattern="^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$" placeholder="Email" class="dtm__restyle form__field " value="" autocomplete="section-bill billing email">
                                                            <label for="Email" class="message__label">
                                                                <span class="form__error">* </span>Email
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                    Please enter an email address.
                                                                
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Gender -->
                                                    <div class="form__span-item form message">
                                                        <div class="form__field-label">
                                                            <div class="form form--select">
                                                                <div class="form__contain">
                                                                    <select name="Gender" id="Gender" autocomplete="section-bill billing sex" class="form__field" data-required="true">
                                                                        <option value="0">Choose an option</option>
                                                                        <option value="Female">Female</option>
                                                                        <option value="Male">Male</option>
                                                                        <option value="Other">Other</option>
                                                                    </select>
                                                                    <span class="form__field form__button">
                                                                        <svg class="icon icon--combobox">
                                                                            <use href="#icon-chevron" />
                                                                        </svg>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <label class="message__group" for="Gender" role="alert">
                                                                <span class="message__label">
                                                                    <span class="form__error">* </span>Who will be using the product?
                                                                </span>
                                                                <span class="message__invalid">Please choose a gender
                                                                </span>
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <div class="form__span-item form message" id="ShippingIsSameDiv">
                                                        <div class="form__checkbox-label form__copy">
                                                            <input
                                                                type="checkbox"
                                                                id="ShippingIsDifferentThanBilling"
                                                                value="true"
                                                                aria-labelledby="ShippingIsDifferentThanBillingLabel"
                                                                onclick="if (this.checked) { $('#shippingInformation').show(); $('[name=ShippingIsDifferentThanBilling]').val('true'); } else { $('#shippingInformation').hide(); $('[name=ShippingIsDifferentThanBilling]').val('false'); }" />
                                                            <input name="ShippingIsDifferentThanBilling" type="hidden" value="false">
                                                            <label for="ShippingIsDifferentThanBilling" class="form__label">
                                                                <span class="form__checkbox"></span>
                                                                <span id="ShippingIsDifferentThanBillingLabel">Check if your shipping address is different than your billing address.</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>

                                    <div class="form form--frame message shipping" id="shippingInformation">
                                        <fieldset class="form__fieldset form__expando shipping__required">
                                            <h2 class="form__title shippingTitle">STEP 8: Enter your shipping information</h2>
                                            <div class="form__span-item form__frame">
                                                <div class="form__group">
                                                    <!-- Full Name -->
                                                    <div class="form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" title="Name can only contain letters" autocomplete="section-ship shipping name" data-required="true" data-pattern="^[A-z]+([A-z .,'-]*)?$" name="ShippingFullName" id="ShippingFullName" placeholder="Full Name" class="dtm__restyle form__field shipping__required shipping__field " value="" autocomplete="section-ship shipping name">
                                                            <label for="ShippingFullName" class="message__label">
                                                                <span class="form__error">* </span>Full Name
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please enter a Full name.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Street -->
                                                    <div class="form__span-item form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="ShippingStreet" id="ShippingStreet"  autocomplete="section-ship shipping address-line1" placeholder="Address" data-required="true" class="dtm__restyle form__field shipping__required shipping__field " value="" autocomplete="section-ship shipping address-line1">
                                                            <label for="ShippingStreet" class="message__label">
                                                                <span class="form__error">* </span>Address
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please enter an address.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Street 2 -->
                                                    <div class="form__span-item form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="ShippingStreet2" id="ShippingStreet2" autocomplete="section-ship shipping address-line2" placeholder="Address 2" class="dtm__restyle form__field shipping__field " value="" autocomplete="section-ship shipping address-line2">
                                                            <label for="ShippingStreet2" class="message__label">
                                                                Address 2
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please enter an address.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- City -->
                                                    <div class="form__take-some form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="ShippingCity" id="ShippingCity" autocomplete="section-ship shipping address-level2" placeholder="City" data-required="true" class="dtm__restyle form__field shipping__required shipping__field " value="" autocomplete="section-ship shipping address-level2">
                                                            <label for="ShippingCity" class="message__label">
                                                                <span class="form__error">* </span>City
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please enter a city.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- State -->
                                                    <div class="form__take-some form message">
                                                        
                                                        <div class="form__field-label" id="billStateParent">
                                                            <div class="form form--select">
                                                                <div class="form__contain">
                                                                    <select autocomplete="section-ship shipping address-level1" class="dtm__restyle form__field shipping__required shipping__field" id="ShippingState" name="ShippingState"><option value="">Choose State</option>
<option value="AL">Alabama</option>
<option value="AZ">Arizona</option>
<option value="AR">Arkansas</option>
<option value="CA">California</option>
<option value="CO">Colorado</option>
<option value="CT">Connecticut</option>
<option value="DE">Delaware</option>
<option value="DC">District Of Columbia</option>
<option value="FL">Florida</option>
<option value="GA">Georgia</option>
<option value="ID">Idaho</option>
<option value="IL">Illinois</option>
<option value="IN">Indiana</option>
<option value="IA">Iowa</option>
<option value="KS">Kansas</option>
<option value="KY">Kentucky</option>
<option value="LA">Louisiana</option>
<option value="ME">Maine</option>
<option value="MD">Maryland</option>
<option value="MA">Massachusetts</option>
<option value="MI">Michigan</option>
<option value="MN">Minnesota</option>
<option value="MS">Mississippi</option>
<option value="MO">Missouri</option>
<option value="MT">Montana</option>
<option value="NE">Nebraska</option>
<option value="NV">Nevada</option>
<option value="NH">New Hampshire</option>
<option value="NJ">New Jersey</option>
<option value="NM">New Mexico</option>
<option value="NY">New York</option>
<option value="NC">North Carolina</option>
<option value="ND">North Dakota</option>
<option value="OH">Ohio</option>
<option value="OK">Oklahoma</option>
<option value="OR">Oregon</option>
<option value="PA">Pennsylvania</option>
<option value="RI">Rhode Island</option>
<option value="SC">South Carolina</option>
<option value="SD">South Dakota</option>
<option value="TN">Tennessee</option>
<option value="TX">Texas</option>
<option value="UT">Utah</option>
<option value="VT">Vermont</option>
<option value="VA">Virginia</option>
<option value="WA">Washington</option>
<option value="WV">West Virginia</option>
<option value="WI">Wisconsin</option>
<option value="WY">Wyoming</option>
</select>
                                                                    <span class="form__field form__button">
                                                                        <svg class="icon icon--combobox">
                                                                            <use href="#icon-chevron"></use>
                                                                        </svg>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <label for="ShippingState" class="message__label">
                                                                <span class="form__error">* </span>State
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please choose a state.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Zip Code -->
                                                    <div class="form__take-some form message">
                                                        
                                                        <div class="form__field-label">
                                                            <input type="text" name="ShippingZip" id="ShippingZip" autocomplete="section-ship shipping postal-code" placeholder="Zip Code" data-required="true" class="dtm__restyle form__field shipping__required shipping__field " value="" autocomplete="section-ship shipping postal-code">
                                                            <label for="ShippingZip" class="message__label">
                                                                <span class="form__error">* </span>Zip Code
                                                            </label>
                                                            <span class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please enter a zip code.
                                                                    
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>

                                                    <!-- Country -->
                                                    <div class="form message" style='display:none'>
                                                        
                                                        <div class="form__field-label">
                                                            <div class="form form--select">
                                                                <div class="form__contain">
                                                                    <select autocomplete="section-ship shipping country" class="dtm__restyle form__field" id="ShippingCountry" name="ShippingCountry"><option value="USA">United States</option>
</select>
                                                                    <span class="form__field form__button">
                                                                        <svg class="icon icon--combobox">
                                                                            <use href="#icon-chevron"></use>
                                                                        </svg>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <label for="ShippingCountry" class="message__label">
                                                                <span class="form__error">* </span>Country
                                                            </label>
                                                            <label class="message__group" role="alert">
                                                                <span class="message__invalid">
                                                                    
                                                                        Please choose a country.
                                                                    
                                                                </span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                                <div class="view form form--frame">
                                    <div id="additionalInformation" class="view__anchor"></div>
                                    <div class="form__copy">
                                        <fieldset class="form__fieldset">
                                            <h2 class="form__title">Additional Information</h2>

                                            <div class="form__copy form__frame">
                                                <!-- Gender -->
                                                <div id="paypalFieldset" class="form__span-item form message">
                                                    <div class="form__field-label">
                                                        <div class="form form--select">
                                                            <div class="form__contain">
                                                                <select name="PayPalGender" id="PayPalGender" class="form__field">
                                                                    <option value="0">Choose an option</option>
                                                                    <option value="Female">Female</option>
                                                                    <option value="Male">Male</option>
                                                                    <option value="Other">Other</option>
                                                                </select>
                                                                <span class="form__field form__button">
                                                                    <svg class="icon icon--combobox">
                                                                        <use href="#icon-chevron" />
                                                                    </svg>
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <label class="message__group" for="PayPalGender" role="alert">
                                                            <span class="message__label">
                                                                <span class="form__error">* </span>Who will be using the product?
                                                            </span>
                                                            <span class="message__invalid">Please choose a gender
                                                            </span>
                                                        </label>
                                                    </div>
                                                </div>

                                                <div class="form__span-item form message">
                                                    <div class="form__checkbox-label">
                                                        <input type="hidden" name="EmailOptIn" id="EmailOptIn" value="False" />
                                                        <input
                                                            type="checkbox"
                                                            id="EmailOptInCbx"
                                                            name="EmailOptInCbx"
                                                            aria-labelledby="EmailOptInCbxLabel" />
                                                        <label for="EmailOptInCbx" class="form__label">
                                                            <span class="form__checkbox"></span>
                                                            <span id="EmailOptInCbxLabel">Yes, I'd like to receive promotional communications from Toppik. Please review Church & Dwight's <a id="emailoptin-privacy-policy" href="https://churchdwight.com/privacy-policy.aspx" target="_blank">Privacy Policy</a> to understand how Church & Dwight collects and uses personal information.</span>
                                                        </label>
                                                    </div>
                                                </div>

                                                <div class="form__span-item form message">
                                                    <div class="form__checkbox-label">
                                                        <input
                                                            type="checkbox"
                                                            id="Terms"
                                                            name="Terms"
                                                            required
                                                            aria-labelledby="TermsLabel" />
                                                        <label for="Terms" class="form__label">
                                                            <span class="form__checkbox"></span>
                                                            <span id="TermsLabel">
                                                                <span class="form__error">*</span> By checking this box, you are electronically signing your order, agreeing to the terms and to our general <a id="dyn-tos-pp-link2" href="https://cddt.dtmstage.com/CDDT/27.0000/Terms.dtm" target="_blank">Terms and Conditions</a>, including our no-commitment auto-replenishment program, and authorizing us to charge this payment to the credit card you have provided.</span>
                                                        </label>
                                                        <div class="message__group" role="alert">
                                                            <span class="message__invalid">Please accept the terms and conditions</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form__copy form__action-text">
                    <div class="FormSubmit form__recaptcha"></div>
                    <script>
                        (() => {
                            const formSubmit = document.querySelector(".FormSubmit");
                            if (!formSubmit) return;
    
    
                            addEventListener("ECDrawFormComplete", event => {
                                formSubmit.setAttribute("hidden", "true");
                            });
    
                            addEventListener("PaymentOptionSelected", event => {
                                const paymentTypes = event.detail;
    
                                /card/gi.test(paymentTypes) 
                                    ? formSubmit.removeAttribute("hidden") 
                                    : formSubmit.setAttribute("hidden", "true");
                            });
                        })();
                    </script>
                    <div class="form__action">
                        <button type="submit" id="AcceptOfferButton" name="acceptOffer" class="button button--second button--express-checkout orderbtn form_validation_required" data-state="card" data-order-type='{ "PayPalEC" : "Continue with PayPal", "CARD" : "Process Order" }'>
                            <span>Process Order</span>
                        </button>
                    </div>
                    <p id="disclaimerText">By clicking Process Order, your credit card will be charged the amount above. Click only once.</p>

                    <div class="offer-details">
                        <div class="dtm-sn-header" data-sn-id="133325" style="width: 100%; height: 1px; display: none;"></div><p><strong>OFFER DETAILS:</strong><br>
This Special Introductory Full Hair Essentials Kit contains 1 x 12g Regular Hair Fibers and applies to new subscriptions only. You will be charged $24.95 plus tax (when applicable) and FREE Shipping & Handling for this shipment.</p>
<p>If you select to have your subscription shipped every 30 days: Approximately 30 days after your first order is placed, and then approximately every 30 days thereafter, you will be sent a new 12g supply of Toppik™ Hair Building Fibers. Each shipment will be charged to the credit card you provide today approximately every 30 days at the guaranteed low price of $24.95 plus tax (when applicable) and FREE shipping and handling per installment, unless you call to cancel or update the status or frequency of your subscription.</p>
<p>If you select to have your subscription shipped every 60 days: Approximately 60 days after your first order is placed, and then approximately every 60 days thereafter, you will be sent a new 12g supply of Toppik™ Hair Building Fibers. Each shipment will be charged to the credit card you provide today approximately every 60 days at the guaranteed low price of $24.95 plus tax (when applicable) and FREE shipping and handling per installment, unless you call to cancel or update the status or frequency of your subscription.</p>
<p>There is no commitment and no minimum to buy. Please note exact shipment times may vary. To customize this program or future shipments, call customer service anytime at 1-800-THICKEN (844-2536).</p>
<p>Every Toppik™ order comes with our 30-day Money Back Guarantee less shipping and handling.</p>
<p><a href="index.dtm.html#offer-details-more" data-fancybox data-src="#offer-details-more">Read More</a></p>
<p>† This special introductory offer applies to new subscriptions. You'll receive succeeding orders for $24.95, which will be automatically shipped for free either every 30 or 60 days. Orders can be cancelled anytime by calling Customer Service at <a href="tel:18008442536">1-800-THICKEN (844-2536)</a>.</p>
<p><a href="https://churchdwight.com/privacy-policy.aspx" target="_blank" id="offer-details-privacy-link">Privacy Policy</a> | <a href="https://cddt.dtmstage.com/CDDT/27.0000/Terms.dtm" id="offer-details-terms-link">Terms and Conditions</a></p>
<p>* Testimonials shown are from real users of Toppik with authentic experiences. There is no guarantee of specific results. Results may vary.</p>
<p>**Reviews on Toppik.com</p><a href="javascript:;" 
            data-sn-id="133325" data-sn-name="OFFERDETAILS" data-sn-level="Version" data-sn-levelid="FB638B29-2A62-EE11-8B98-A0369F1303C7" 
            data-sn-isproxy="False" 
            data-sn-customer="Church & Dwight Direct" data-sn-customerid="624" 
            data-sn-campaign="Toppik" data-sn-campaigncode="CDDT" 
            data-sn-offer="CDDT" data-sn-offerid="0b3fd3cb-59fd-4363-9618-22cbe4387da3" 
            data-sn-version="27.0000" data-sn-versionid="fb638b29-2a62-ee11-8b98-a0369f1303c7" 
            data-sn-changedate="10/3/2023 4:19:38 PM" data-sn-changeuser="jguijarro" 
            class="dtm-sn-footer" 
            style="display: none;">Edit OFFERDETAILS</a>

                    </div>
                </div>
            </div>

        </div>
    </form>
</section>

<section aria-labelledby="mbg-title" id="offer-details-more" class="view content content--mbg section">
    <div class="view__in section__contain">
        <picture class="mbg" data-src-img="/images/mbg.svg">
            <img src="https://cddt.dtmstage.com/shared/images/blank.png" width="100" height="100" alt="30 Day Money Back Guarantee">
        </picture>
        <div class="content__text">
            <h2 id="mbg-title" class="content__title">MONEY-BACK GUARANTEE</h2>
            <p>If you are not completely satisfied with your order, simply return your product within 30 days of receipt of your order to receive a full refund, less shipping and handling charges.</p>

            <p>If you wish to return your product, please call Customer Service at <strong>1-800-THICKEN (844-2536)</strong> within 30 days of receiving your shipment. Once you have received your Return Merchandise Authorization Number (RMA), you will need to write it on your return label. Shipments without a RMA will not be accepted for returns. Shipping charges are non-refundable. Other conditions may apply.</p>
        </div>
    </div>
    <noscript>
        <style>
            .content--mbg {
                display: block;
            }
        </style>
    </noscript>

</section>


<footer aria-labelledby="footer-title" class="view footer section bg bg--dark @print-only-hide">
    <div id="footer" class="view__anchor"></div>
    <div class="view__in section__in footer__in">
        

<div class="section__block">
    <nav aria-label="Footer Offer information" class="list list--convert-inline-to-grid">
        
                <a id="footer-home" href="index.dtm.html#main">Home</a>
                
                <a id="footer-how-to-use" href="https://cddt.dtmstage.com/CDDT/27.0000/How-To-Use.dtm">How To Use</a>
                
                <a id="footer-customer-reviews" href="index.dtm.html#customer-reviews">Real Results</a>
                
                <a id="footer-technology" href="index.dtm.html#technology">Technology</a>
                
                <a id="footer-faq" href="https://cddt.dtmstage.com/CDDT/27.0000/FAQ.dtm">FAQS</a>
                
                <a id="footer-customer-service" href="https://cddt.dtmstage.com/CDDT/27.0000/CustomerService.dtm">Customer Service</a>
                
                <a id="footer-shipping-policy" href="https://cddt.dtmstage.com/CDDT/27.0000/ShippingPolicy.dtm">Shipping Policy</a>
                
                <a id="footer-return-policy" href="https://cddt.dtmstage.com/CDDT/27.0000/ReturnPolicy.dtm">Return Policy</a>
                
                <a id="footer-privacy-policy" href="https://churchdwight.com/privacy-policy.aspx" target="_blank">Privacy Policy</a>
                
                <a id="footer-terms" href="https://cddt.dtmstage.com/CDDT/27.0000/Terms.dtm">Terms & Conditions</a>
                
                <a id="footer-sitemap" href="https://cddt.dtmstage.com/CDDT/27.0000/SiteMap.dtm">Site Map</a>
                
                <a id="footer-order-now" href="index.dtm.html#order">Order Now</a>
                
        <span class="onetrust-privacy"></span>
        
    </nav>
</div>
        <address class="section__block">
            &copy; 2024 Toppik. All Rights Reserved.
        </address>
        
        <nav aria-label="Social media" class="section__block">
            <div class="social-icons">
                <div class="social-icons__group">
                    <a href="http://facebook.com/ToppikHair" target="_blank" aria-label="Facebook" id="footer-social-facebook">
                        <svg><use href="#icon-facebook"></use></svg>
                    </a>
                    <a href="http://twitter.com/toppik" target="_blank" aria-label="Twitter" id="footer-social-twitter">
                        <svg><use href="#icon-twitter"></use></svg>
                    </a>
                    <a href="http://youtube.com/toppikinc" target="_blank" aria-label="YouTube" id="footer-social-youtube">
                        <svg><use href="#icon-youtube"></use></svg>
                    </a>
                    <a href="http://pinterest.com/toppikhair" target="_blank" aria-label="Pinterest" id="footer-social-pinterest">
                        <svg><use href="#icon-pinterest"></use></svg>
                    </a>
                    <a href="https://www.instagram.com/toppik/?hl=en" target="_blank" aria-label="Instagram" id="footer-social-instagram">
                        <svg><use href="#icon-instagram"></use></svg>
                    </a>
                    <a href="https://www.tiktok.com/@toppik?" target="_blank" aria-label="TikTok" id="footer-social-tiktok">
                        <svg><use href="#icon-tiktok"></use></svg>
                    </a>
                </div>
            </div>
        </nav>
        
        <address class="section__block">
            <div class="dtm-sn-header" data-sn-id="133323" style="width: 100%; height: 1px; display: none;"></div>Web by: <a href="https://www.digitaltargetmarketing.com" target="_blank" title="Digital Target Marketing">Digital Target Marketing</a>
<a href="javascript:;" 
            data-sn-id="133323" data-sn-name="COMMON-FOOTER" data-sn-level="Version" data-sn-levelid="FB638B29-2A62-EE11-8B98-A0369F1303C7" 
            data-sn-isproxy="False" 
            data-sn-customer="Church & Dwight Direct" data-sn-customerid="624" 
            data-sn-campaign="Toppik" data-sn-campaigncode="CDDT" 
            data-sn-offer="CDDT" data-sn-offerid="0b3fd3cb-59fd-4363-9618-22cbe4387da3" 
            data-sn-version="27.0000" data-sn-versionid="fb638b29-2a62-ee11-8b98-a0369f1303c7" 
            data-sn-changedate="10/3/2023 4:19:38 PM" data-sn-changeuser="jguijarro" 
            class="dtm-sn-footer" 
            style="display: none;">Edit COMMON-FOOTER</a>

        </address>
    </div>
</footer>




        <script src="https://cddt.dtmstage.com/shared/js/jquery.min.js"></script>
        <script src="https://cddt.dtmstage.com/shared/js/jquery-ui-1.12.1.min.js"></script>
        <script defer src="https://cddt.dtmstage.com/shared/facebox/facebox.js"></script>
        <link rel="stylesheet" href="https://cddt.dtmstage.com/shared/facebox/facebox.css"  media="print" onload="this.media='all'; this.onload=null;"/>
        <script>const loadFWSnippets = false; const loadFacebox = false;</script>
        <script type="text/javascript" src="https://cddt.dtmstage.com/shared/js/common.js?v=6.0.1722.1545&amp;language=English&amp;cb=1"></script>
		
        <div class="dtm-sn-header" data-sn-id="133322" style="width: 100%; height: 1px; display: none;"></div><script type="text/javascript">
    $(document).ready(function () {
        $('#AcceptOfferButton').bind("click", validateForm);
        $('#ShippingIsDifferentThanBilling').bind("click", toggleShipping);
        toggleShipping();
        assembleProductCode();
        $('#Terms').bind("click", handleCartChange);
        $('#PayPalGender').bind("click", handleCartChange);
        $("input:radio[name='shadeOption'], input:radio[name='offerOption'], input:radio[name='offer']").bind("click", assembleProductCode);
    });
    $(window).on('load', function () {
        if (typeof gender != "undefined" && gender != "0" && gender.length > 1) {
            $('#Gender option:contains("' + gender + '")').prop('selected', 'true');
        }
        if (typeof emailOptVD != "undefined" && emailOptVD == "True") {
            $('#EmailOptInCbx').prop('checked', 'true');
        }
        if (typeof termsVD != "undefined" && termsVD == "True") {
            $('#Terms').prop('checked', 'true');
        }
        /*	_dtm.automateSteps = false;
            var allowAutomateSteps = false;*/
      
    });

  var item = document.getElementById('additionalInformation');

    $(document).on('click', '#otPayPal-braintree', function() {
      setTimeout(function () {
        item.scrollIntoView();
      }, 100);
    });

    $("[name=offer]").click(function () {
        if ($("#subscriptionStep1").is(":checked")) {
            $('.subscriptionOptions').show();
            $('.colorStep').html('STEP 3: Select your color');
            $('.reviewOrderTitle').html('STEP 4: Review Your Order');
            $('.paymentFormTitle').html('STEP 5: Select your payment method');
            $('.billingTitle').html('STEP 6: Enter your billing information');
            $('.shippingTitle').html('STEP 7: Enter your shipping information');
            if ($("#oneTimeOption").is(":checked")) {
                $('#oneTimeOption').prop('checked', false);
                assembleProductCode();
            }
        } else {
            $('.subscriptionOptions').hide();
            $('.colorStep').html('STEP 2: Select your color');
            $('.reviewOrderTitle').html('STEP 3: Review Your Order');
            $('.paymentFormTitle').html('STEP 4: Select your payment method');
            $('.billingTitle').html('STEP 5: Enter your billing information');
            $('.shippingTitle').html('STEP 6: Enter your shipping information');
        }
    });
    function assembleProductCode() {
        if ($("#oneTimeOption").is(":checked")) {
            if ($("#subscriptionStep1").is(":checked")) {
                $('#subscriptionStep1').prop('checked', false);
                $('.subscriptionOptions').hide();
                $('.colorStep').html('STEP 2: Select your color');
                $('.reviewOrderTitle').html('STEP 3: Review Your Order');
                $('.paymentFormTitle').html('STEP 4: Enter your billing information');
                $('.billingTitle').html('STEP 5: Enter your billing information');
                $('.shippingTitle').html('STEP 6: Enter your shipping information');
                
            }
        }
        if ($("input:radio[name='shadeOption']").is(":checked") && $("input:radio[name='offerOption']").is(":checked")  && !$("#oneTimeOption").is(":checked")) {
            var productCode = $('[name=shadeOption]:checked').val() + $('[name=offerOption]:checked').val();
            $('#ActionCode1').val(productCode);
            $('#ActionQuantity1').val(1);
        } else if ($("input:radio[name='shadeOption']").is(":checked") && $('#oneTimeOption').is(':checked')) {
            var productCode = $('[name=shadeOption]:checked').val() + "1";
            $('#ActionCode1').val(productCode);
            $('#ActionQuantity1').val(1);
        }

        else {
            $('#ActionQuantity1').val(0);
        }
        handleCartChange();
    }
    function onFormPreValidation(event) {
        var errors = [];
        // T&C validation
        if (!$('#Terms').is(':checked')) {
            errors.push("Please agree to the terms & conditions before placing your order. Thank you!");
        }
        //Selected Item validation
        if ($("[name='shadeOption']:checked").val() == undefined) {
            errors.push("Please select your color");
        }
        if ($('#Gender').val() == "0") {
            errors.push("Please select a gender in step 6.");
        }

        return errors;
    }
    function validateFullName(fullName) {
        var fullNameRegex = new RegExp("([A-z.-]+\\s[A-z.-]+)");
        if (!fullNameRegex.test(fullName) || fullName.length < 1) {
            return false;
        } else {
            return true;
        }
    }
    function customBraintreeValidation() {
        var isValid = true;
        var errors = [];
        if (!validateTerms()) {
            errors.push("Please agree to the terms & conditions before placing your order. Thank you!");
            isValid = false;
        }
        if (!validateGender()) {
            errors.push("Please select a gender.");
            isValid = false;
        }
        if (!validateProducts()) {
            errors.push("Please select a product.");
            isValid = false;
        }
        _dtmShoppingCart.RemoveErrors(_dtmShoppingCart.CurrentErrors);
        if (!isValid) {
            _dtmShoppingCart.AddErrors(errors);
        }
        return isValid;
    }
    function customBraintreeToggleButton(hasProducts, actions) {
        return hasProducts && validateTerms() && validateGender() ? actions.enable() : actions.disable();
    }
    function validateTerms() {
        return $('#Terms').is(':checked');
    }
    function validateGender() {
        var gender = document.getElementById("Gender");
        if (gender && gender.value == "0") {
            return false;
        }
        return true;
    }
    function validateProducts() {
        var shoppingCart = typeof (_dtmShoppingCart) != "object" ? null : _dtmShoppingCart;

        if (shoppingCart != null && shoppingCart.Count() > 0) {
            var total = 0;
            $.each(shoppingCart.Items(), function (i, v) { total += v.qty; });
            return total > 0;
        } else if (shoppingCart != null) {
            return false;
        }
    }

    function customLoadItemState(productCode, qty) {
        if (!productCode.includes('SHIP')) {
            var offer = productCode.substr(5, 1);
            var color = productCode.substr(0, 5);
            $('#' + color).prop('checked', true);
            switch (offer) {
                case "3":
                    $('#subscriptionStep1').prop('checked', true);
                    $('#subscriptionOption30').prop('checked', true);
                    break;
                case "6":
                    $('#subscriptionStep1').prop('checked', true);
                    $('#subscriptionOption60').prop('checked', true);
                    break;
                case "1":
                    $('#subscriptionStep1').prop('checked', false);
                    $('#oneTimeOption').prop('checked', true);
                    break;
            }
        }
    }
  

  
</script><a href="javascript:;" 
            data-sn-id="133322" data-sn-name="ORDERFORMSCRIPT" data-sn-level="Version" data-sn-levelid="FB638B29-2A62-EE11-8B98-A0369F1303C7" 
            data-sn-isproxy="False" 
            data-sn-customer="Church & Dwight Direct" data-sn-customerid="624" 
            data-sn-campaign="Toppik" data-sn-campaigncode="CDDT" 
            data-sn-offer="CDDT" data-sn-offerid="0b3fd3cb-59fd-4363-9618-22cbe4387da3" 
            data-sn-version="27.0000" data-sn-versionid="fb638b29-2a62-ee11-8b98-a0369f1303c7" 
            data-sn-changedate="10/3/2023 4:19:38 PM" data-sn-changeuser="jguijarro" 
            class="dtm-sn-footer" 
            style="display: none;">Edit ORDERFORMSCRIPT</a>

        <script>
            const setBraintreeHostedFieldsStyles = function () {
                return {
                    'font-size': '1em',
                    'font-family': 'Helvetica, Arial, sans-serif',
                    'font-weight': 'normal',
                    'line-height': 'normal',
                    'color': '#333',
                };
            };

            (function () {
                let emailOptIn = document.getElementById("EmailOptIn");
                document.getElementById("EmailOptInCbx").addEventListener("click", function () {
                    if (this.checked) {
                        emailOptIn.value = "True";
                    } else {
                        emailOptIn.value = "False";
                    }
                });

                document.getElementById("PayPalGender").addEventListener("change", function () {
                    document.getElementById("Gender").value = this.value;
                });

                const fieldset = document.getElementById("paypalFieldset");

                const updateFieldsetByRenderState = function (fieldset, renderState) {
                    fieldset.style.display = renderState;
                }

                updateFieldsetByRenderState(fieldset, "none");

                addEventListener("PaymentOptionSelected", function (e) {
                    const renderState = e.detail && e.detail.indexOf("PayPal") > -1 ? "block" : "none";

                    updateFieldsetByRenderState(fieldset, renderState);
                });
            })();
        </script>

<!-- .dtm 6.0.1722.1545 -->

<div class="l-controls" aria-hidden="true" role="none" style="display: none">
	<div id="rscContentTop"></div>

<div id="a_v_loader"></div>
<script id="track_script">

    var __pos;
    try {
        __pos = eval('[]')[0];
    } catch (err) { }
    var safe_referrer = (document.referrer == '' ? '' : document.referrer.split('?')[0]);
    var params = 'covid=fb638b29-2a62-ee11-8b98-a0369f1303c7&referrer=' + encodeURIComponent(safe_referrer);
    window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (str, key, value) {
        if (key != '' && key != null) {
            if (__pos && __pos[key] && window.location.search.indexOf(__pos[key]) < 0) {
                params += '&' + __pos[key] + '=' + value;
            }
            params += '&' + key + '=' + value;
        }
    });

    function areCookiesEnabled() {
        let cookiesEnabled = navigator.cookieEnabled;
        if (!cookiesEnabled) {
            document.cookie = "cookiemonster";
            cookiesEnabled = document.cookie.indexOf("cookiemonster") != -1;

            if (cookiesEnabled)
                document.cookie = "cookiemonster; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
        }
        return cookiesEnabled;
    }
    params += '&ace=' + areCookiesEnabled();

    var __trackscript = document.createElement("script");
    __trackscript.type = "text/javascript";
    __trackscript.src = '/ActivateVisitor/Index/?' + params;
    (document.getElementsByTagName("body")[0] || document.body || document.getElementsByTagName("head")[0] || document.head).appendChild(__trackscript);

    window.dtmVisitorCreated = true;

    
</script>
<noscript>
    
    <iframe src="https://cddt.dtmstage.com/ActivateVisitor/Index?covid=fb638b29-2a62-ee11-8b98-a0369f1303c7&amp;ifr=1&amp;"></iframe>
    
</noscript>

<link href="https://cddt.dtmstage.com/Shared/css/jquery-ui.custom.min.css?v=6.0.1722.1545" rel="stylesheet" />
<style>
    .ui-menu {
        border-radius: 0.5em;
        line-height: 1.25;
        padding: 0;
        overflow: hidden;
        color: #1C3144;
        font-size: 1.25rem;
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
        border-color: hsl(0, 0%, 80%);
        box-shadow: 0 0 1em hsla(0, 0%, 0%, 0.2);
    }

    .ui-menu .ui-menu-item {
        display: block;
        padding: 1em 0;
        margin: 0 1.25em;
        width: auto;
        box-sizing: border-box;
    }

    .ui-menu .ui-menu-address {
        position: relative;
        display: flex;
        align-items: flex-end;
        transition: transform .3s ease-in-out, opacity .3s ease-in-out;
    }

    .ui-menu-address {
        transform: translateX(2%);
        opacity: .69;
    }

    .ui-menu-droppin {
        width: 1em;
        height: 1em;
        margin-right: 0.5em;
        position: relative;
        align-self: center;
        transition: transform .3s ease-in-out;
        transform-origin: 35% 40%;
    }

    .ui-menu-droppin::before,
    .ui-menu-droppin::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        margin: auto;
        transition: transform .3s ease-in-out, opacity .3s ease-in-out;
    }

    .ui-menu-droppin::before {
        background: url(https://cddt.dtmstage.com/shared/images/icons/drop-pin.svg) no-repeat;
    }

    .ui-menu-droppin::after {
        background: url(https://cddt.dtmstage.com/shared/images/icons/drop-pin-color.svg) no-repeat;
        opacity: 0;
    }

    .ui-menu-item:hover .ui-menu-droppin,
    .ui-state-focus .ui-menu-droppin {
        transform: rotate(-90deg);
        align-self: flex-end;
    }

    .ui-menu-item:hover .ui-menu-address,
    .ui-state-focus .ui-menu-address {
        transform: translateX(0);
        opacity: 1;
    }

    .ui-menu-item:hover .ui-menu-droppin::before,
    .ui-state-focus .ui-menu-droppin::before,
    .ui-menu-droppin::after {
        opacity: 0;
        transform: scale(0);
    }

    .ui-menu-droppin::before,
    .ui-state-focus .ui-menu-droppin::after,
    .ui-menu-item:hover .ui-menu-droppin::after {
        opacity: 1;
        transform: scale(1);
    }

    .ui-menu .ui-menu-item:not(:last-child) {
        border-bottom: 0.1em solid #ccc;
    }

    .ui-menu .ui-menu-logo {
        margin: 0;
        display: flex;
        align-items: center;
        opacity: 1;
    }

    .ui-menu-address > strong {
        margin-right: 0.5em;
    }

    .ui-menu-address > small {
        color: gray;
    }

    .ui-menu-logo img {
        max-width: 120px;
        width: auto;
    }

    .ui-menu .ui-state-focus,
    .ui-menu .ui-state-hover {
        background: none;
        color: currentColor;
        border: none;
        font-weight: inherit;
        cursor: pointer;
    }
</style> 

<style>
    
    /* This allows Google suggestion box to expand fluidly and prevent cut-off text */
    .pac-container {
        width: auto !important;
    }
    
</style>
<script> 
    if (typeof (AddressEngine) != "function") {
        var AddressEngine = function (config) {
            var self = this;

            self.IsInitial = true;
            self.labels = [];
            self.placeholders = [];
            self.countries = [];
            self.territories = [];
            self.alwaysShowCardTypes = true;
            self.config = config || {};
            self.allowSearch = false;
            self.disable = false;
            self.sessionId = 'cc63a8fb-7fdd-48e0-8f40-2d3a53c2ee3a';
            self.PlacesChoiceId = "";
            self.defaultCountry = '';
            self.currentCountry = '';

                
            self.territories[self.territories.length] = {
                code: 'GU',
                name: 'Guam',
                twoDigit: 'GU',
                threeDigit: ''
            };
                
            self.territories[self.territories.length] = {
                code: 'VI',
                name: 'Virgin Islands',
                twoDigit: 'VI',
                threeDigit: ''
            };
                
            self.territories[self.territories.length] = {
                code: 'PR',
                name: 'Puerto Rico',
                twoDigit: 'PR',
                threeDigit: ''
            };
                
            self.countries[self.countries.length] = {
                code: 'USA',
                name: 'United States',
                twoDigit: 'US',
                threeDigit: 'USA'
            };
            

            self.states = [];
            
            self.states[self.states.length] = {
                code: 'AL',
                name: 'Alabama',
                twoDigit: 'AL'
            };
            
            self.states[self.states.length] = {
                code: 'AZ',
                name: 'Arizona',
                twoDigit: 'AZ'
            };
            
            self.states[self.states.length] = {
                code: 'AR',
                name: 'Arkansas',
                twoDigit: 'AR'
            };
            
            self.states[self.states.length] = {
                code: 'CA',
                name: 'California',
                twoDigit: 'CA'
            };
            
            self.states[self.states.length] = {
                code: 'CO',
                name: 'Colorado',
                twoDigit: 'CO'
            };
            
            self.states[self.states.length] = {
                code: 'CT',
                name: 'Connecticut',
                twoDigit: 'CT'
            };
            
            self.states[self.states.length] = {
                code: 'DE',
                name: 'Delaware',
                twoDigit: 'DE'
            };
            
            self.states[self.states.length] = {
                code: 'DC',
                name: 'District Of Columbia',
                twoDigit: 'DC'
            };
            
            self.states[self.states.length] = {
                code: 'FL',
                name: 'Florida',
                twoDigit: 'FL'
            };
            
            self.states[self.states.length] = {
                code: 'GA',
                name: 'Georgia',
                twoDigit: 'GA'
            };
            
            self.states[self.states.length] = {
                code: 'ID',
                name: 'Idaho',
                twoDigit: 'ID'
            };
            
            self.states[self.states.length] = {
                code: 'IL',
                name: 'Illinois',
                twoDigit: 'IL'
            };
            
            self.states[self.states.length] = {
                code: 'IN',
                name: 'Indiana',
                twoDigit: 'IN'
            };
            
            self.states[self.states.length] = {
                code: 'IA',
                name: 'Iowa',
                twoDigit: 'IA'
            };
            
            self.states[self.states.length] = {
                code: 'KS',
                name: 'Kansas',
                twoDigit: 'KS'
            };
            
            self.states[self.states.length] = {
                code: 'KY',
                name: 'Kentucky',
                twoDigit: 'KY'
            };
            
            self.states[self.states.length] = {
                code: 'LA',
                name: 'Louisiana',
                twoDigit: 'LA'
            };
            
            self.states[self.states.length] = {
                code: 'ME',
                name: 'Maine',
                twoDigit: 'ME'
            };
            
            self.states[self.states.length] = {
                code: 'MD',
                name: 'Maryland',
                twoDigit: 'MD'
            };
            
            self.states[self.states.length] = {
                code: 'MA',
                name: 'Massachusetts',
                twoDigit: 'MA'
            };
            
            self.states[self.states.length] = {
                code: 'MI',
                name: 'Michigan',
                twoDigit: 'MI'
            };
            
            self.states[self.states.length] = {
                code: 'MN',
                name: 'Minnesota',
                twoDigit: 'MN'
            };
            
            self.states[self.states.length] = {
                code: 'MS',
                name: 'Mississippi',
                twoDigit: 'MS'
            };
            
            self.states[self.states.length] = {
                code: 'MO',
                name: 'Missouri',
                twoDigit: 'MO'
            };
            
            self.states[self.states.length] = {
                code: 'MT',
                name: 'Montana',
                twoDigit: 'MT'
            };
            
            self.states[self.states.length] = {
                code: 'NE',
                name: 'Nebraska',
                twoDigit: 'NE'
            };
            
            self.states[self.states.length] = {
                code: 'NV',
                name: 'Nevada',
                twoDigit: 'NV'
            };
            
            self.states[self.states.length] = {
                code: 'NH',
                name: 'New Hampshire',
                twoDigit: 'NH'
            };
            
            self.states[self.states.length] = {
                code: 'NJ',
                name: 'New Jersey',
                twoDigit: 'NJ'
            };
            
            self.states[self.states.length] = {
                code: 'NM',
                name: 'New Mexico',
                twoDigit: 'NM'
            };
            
            self.states[self.states.length] = {
                code: 'NY',
                name: 'New York',
                twoDigit: 'NY'
            };
            
            self.states[self.states.length] = {
                code: 'NC',
                name: 'North Carolina',
                twoDigit: 'NC'
            };
            
            self.states[self.states.length] = {
                code: 'ND',
                name: 'North Dakota',
                twoDigit: 'ND'
            };
            
            self.states[self.states.length] = {
                code: 'OH',
                name: 'Ohio',
                twoDigit: 'OH'
            };
            
            self.states[self.states.length] = {
                code: 'OK',
                name: 'Oklahoma',
                twoDigit: 'OK'
            };
            
            self.states[self.states.length] = {
                code: 'OR',
                name: 'Oregon',
                twoDigit: 'OR'
            };
            
            self.states[self.states.length] = {
                code: 'PA',
                name: 'Pennsylvania',
                twoDigit: 'PA'
            };
            
            self.states[self.states.length] = {
                code: 'RI',
                name: 'Rhode Island',
                twoDigit: 'RI'
            };
            
            self.states[self.states.length] = {
                code: 'SC',
                name: 'South Carolina',
                twoDigit: 'SC'
            };
            
            self.states[self.states.length] = {
                code: 'SD',
                name: 'South Dakota',
                twoDigit: 'SD'
            };
            
            self.states[self.states.length] = {
                code: 'TN',
                name: 'Tennessee',
                twoDigit: 'TN'
            };
            
            self.states[self.states.length] = {
                code: 'TX',
                name: 'Texas',
                twoDigit: 'TX'
            };
            
            self.states[self.states.length] = {
                code: 'UT',
                name: 'Utah',
                twoDigit: 'UT'
            };
            
            self.states[self.states.length] = {
                code: 'VT',
                name: 'Vermont',
                twoDigit: 'VT'
            };
            
            self.states[self.states.length] = {
                code: 'VA',
                name: 'Virginia',
                twoDigit: 'VA'
            };
            
            self.states[self.states.length] = {
                code: 'WA',
                name: 'Washington',
                twoDigit: 'WA'
            };
            
            self.states[self.states.length] = {
                code: 'WV',
                name: 'West Virginia',
                twoDigit: 'WV'
            };
            
            self.states[self.states.length] = {
                code: 'WI',
                name: 'Wisconsin',
                twoDigit: 'WI'
            };
            
            self.states[self.states.length] = {
                code: 'WY',
                name: 'Wyoming',
                twoDigit: 'WY'
            };
            

            var defaultLanguage = {
                type: 'English',
                CardNumberLabel: 'Card Number',
                CardNumberPlaceholder: '#### #### #### ####',
                CardExpirationLabel: 'Expiration Date',
                CardExpirationPlaceholder: 'MM/YYYY',
                CardCvv2Label: 'CVV2',
                CardCvv2Placeholder: '###',
                FullNameLabel: 'Full Name',
                FullNamePlaceholder: '*Full Name',
                FirstNameLabel: 'First Name',
                FirstNamePlaceholder: '*First Name',
                LastNameLabel: 'Last Name',
                LastNamePlaceholder: '*Last Name',
                FullStreetLabel: 'Address',
                FullStreetPlaceholder: '*Address',
                StreetLabel: 'Address',
                StreetPlaceholder: '*Address',
                Street2Label: 'Address 2',
                Street2Placeholder: 'Suite / Apt',
                CityLabel: 'City',
                CityPlaceholder: '*City',
                ZipLabel: 'Zip Code',
                ZipPlaceholder: '*Zip Code',
                StateLabel: 'State',
                StatePlaceholder: '*State',
                CountryLabel: 'Country',
                CountryPlaceholder: '*Country',
                PhoneLabel: 'Phone',
                PhonePlaceholder: '*Phone',
                EmailLabel: 'Email',
                EmailPlaceholder: '*Email'
            };
            var labels = [
                {
                    type: "",
                    CardNumberLabel: '',
                    CardNumberPlaceholder: '*Card Number',
                    CardExpirationLabel: '',
                    CardExpirationPlaceholder: '',
                    CardCvv2Label: '',
                    CardCvv2Placeholder: '',
                    FullNameLabel: '',
                    FullNamePlaceholder: '*Full Name:',
                    FirstNameLabel: '',
                    FirstNamePlaceholder: '*First Name:',
                    LastNameLabel: '',
                    LastNamePlaceholder: '*Last Name:',
                    FullStreetLabel: '',
                    FullStreetPlaceholder: '',
                    StreetLabel: '',
                    StreetPlaceholder: '',
                    Street2Label: '',
                    Street2Placeholder: '',
                    CityLabel: '',
                    CityPlaceholder: 'City',
                    ZipLabel: '',
                    ZipPlaceholder: 'Zip Code',
                    StateLabel: '',
                    StatePlaceholder: 'Choose State',
                    CountryLabel: '',
                    CountryPlaceholder: 'Choose Country',
                    PhoneLabel: '',
                    PhonePlaceholder: '*Phone Number',
                    EmailLabel: '',
                    EmailPlaceholder: 'example@email.com',
                },
                defaultLanguage,
                {
                    type: 'French',
                    CardNumberLabel: 'Numéro de carte',
                    CardNumberPlaceholder: '#### #### #### ####',
                    CardExpirationLabel: 'Date d\'expiration',
                    CardExpirationPlaceholder: 'MM/YYYY',
                    CardCvv2Label: 'CVV2',
                    CardCvv2Placeholder: '###',
                    FullNameLabel: 'Nom complet',
                    FullNamePlaceholder: '*Nom complet',
                    FirstNameLabel: 'Prénom',
                    FirstNamePlaceholder: '*Prénom',
                    LastNameLabel: 'Nom de famille',
                    LastNamePlaceholder: '*Nom de famille',
                    FullStreetLabel: 'Adresse de la rue',
                    FullStreetPlaceholder: '*Adresse',
                    StreetLabel: 'Adresse',
                    StreetPlaceholder: '*Adresse',
                    Street2Label: 'Adresse 2',
                    Street2Placeholder: 'Suite / Apt',
                    CityLabel: 'Ville',
                    CityPlaceholder: '*Ville',
                    ZipLabel: 'Le code postal',
                    ZipPlaceholder: '*Le code postal',
                    StateLabel: 'Etat',
                    StatePlaceholder: '*Etat',
                    CountryLabel: 'Pays',
                    CountryPlaceholder: '*Pays',
                    PhoneLabel: 'Téléphone',
                    PhonePlaceholder: '*Numéro de téléphone',
                    EmailLabel: 'Email',
                    EmailPlaceholder: '*email@domain.com'
                },
                {
                    type: 'Spanish',
                    CardNumberLabel: 'Número de tarjeta',
                    CardNumberPlaceholder: '#### #### #### ####',
                    CardExpirationLabel: 'Vencimiento',
                    CardExpirationPlaceholder: 'MM/YYYY',
                    CardCvv2Label: 'CVV2',
                    CardCvv2Placeholder: '###',
                    FullNameLabel: 'Nombre completo',
                    FullNamePlaceholder: '*Nombre completo',
                    FirstNameLabel: 'Nombre de pila',
                    FirstNamePlaceholder: '*Nombre de pila',
                    LastNameLabel: 'Apellido',
                    LastNamePlaceholder: '*Apellido',
                    FullStreetLabel: 'Dirección',
                    FullStreetPlaceholder: '*Dirección',
                    StreetLabel: 'Dirección',
                    StreetPlaceholder: '*Dirección',
                    Street2Label: 'Dirección 2',
                    Street2Placeholder: 'Suite / Apt',
                    CityLabel: 'Ciudad',
                    CityPlaceholder: '*Ciudad',
                    ZipLabel: 'Código postal',
                    ZipPlaceholder: '*Código postal',
                    StateLabel: 'Estado',
                    StatePlaceholder: '*Estado',
                    CountryLabel: 'País',
                    CountryPlaceholder: '*País',
                    PhoneLabel: 'Teléfono',
                    PhonePlaceholder: '*Teléfono',
                    EmailLabel: 'Correo electrónico',
                    EmailPlaceholder: '*Correo electrónico'
                }
            ];

            self.isMatch = function (a, b) {
                return a != null && b != null
                    && a.toUpperCase().trim() == b.toUpperCase().trim();
            };

            self.getCountryCode = function (value) {
                for (var i = 0; i < self.countries.length; i++) {
                    var country = self.countries[i];
                    if (self.isMatch(country.twoDigit, value)
                        || self.isMatch(country.threeDigit, value)
                        || self.isMatch(country.name, value)) {
                        return country.code;
                    }
                }
                return value;
            }

            self.getStateCode = function (value) {
                for (var i = 0; i < self.states.length; i++) {
                    var state = self.states[i];
                    if (self.isMatch(state.twoDigit, value)
                        || self.isMatch(state.name, value)) {
                        return state.code;
                    }
                }
                return value;
            }

            function getAddressType(target) {
                if (target.attr('name').indexOf('Shipping') >= 0)
                    return 'Shipping';
                return 'Billing';
            };

            self.setAddress = function (target, data) {
                var addressType = getAddressType(target);

                var cleanValue = function (name, value) {
                    if (name.indexOf('Country') >= 0) {
                        value = self.getCountryCode(value);
                    }
                    if (name.indexOf('State') >= 0) {
                        value = self.getStateCode(value);
                    }
                    return value;
                };

                var setInputValue = function (name, value) {
                    var id = addressType + name;
                    var ele = $('#' + id);
                    var isValidValue = false;
                    value = cleanValue(name, value);
                    if (ele.length > 0) {
                        if (ele.is('select')) {
                            if ($("#" + id + " option[value='" + value + "']").length != 0) {
                                isValidValue = true;
                            }
                        } else if (ele.is('input')) {
                            isValidValue = true;

                        }
                    }
                    if (isValidValue && value != null) {
                        ele.val(value.trim());
                    }
                    return ele;
                };

                setInputValue('FullStreet', data.Street + ' ' + data["Street2"]);
                setInputValue('Street', data.Street);
                setInputValue('Street2', data["Street2"]);
                setInputValue('City', data.City);
                setInputValue('Country', data.Country);
                setInputValue('State', data.State);
                setInputValue('Zip', data.PostalCode).trigger('keyup');

                if (typeof triggerEvent == 'function') {
                    triggerEvent("GoogleAutoComplete_AddressUpdated");
                }
                
            }

            self.setFormLanguage = function (language) {
                var collection = null;
                for (var i = 0; i < labels.length; i++) {
                    var languageCollection = labels[i];
                    if (languageCollection.type == "LM" || languageCollection.type.toLowerCase() == language.toLowerCase()) {
                        collection = languageCollection;
                        break;
                    }
                }
                if (collection == null) {
                    collection = defaultLanguage;
                }
                self.labels = collection;

                self.processLabels();
            };

            self.processLabel = function (type, name) {
                var id = type + name;
                var fieldCt = $('#' + id + 'Ct');
                if (config.enableTransformLabels) {
                    if (fieldCt.length > 0) {
                        var fieldLabel = fieldCt.find('label.label');
                        if (fieldLabel.length == 0) {
                            fieldLabel = fieldCt.find('label:first');
                        }
                        if (fieldLabel.length > 0) {
                            var newLabel = self.labels[name + 'Label'];
                            if (typeof (newLabel) != "undefined") {
                                var isRequired = fieldLabel.find('span:contains("*")').length > 0;
                                var template = (isRequired ? '<span class="requiredIcon">*</span>' : '') + newLabel + '<span class="labelColon">:</span>';
                                fieldLabel.html(template);
                            }
                        }
                    }
                }

                var item = $('#' + id);
                if (item.length > 0) {
                    if (item.is('select')) {
                        if (item.find(':first').text().indexOf('Choose') > -1) {
                            item.find(':first').text('Choose ' + self.labels[name + 'Label']);
                        }
                    } else if (item.is('input')) {
                        item.attr('placeholder', self.labels[name + 'Placeholder']);
                    }
                }
            };

            self.processLabels = function () {
                var addressFormItems = ['FullName', 'FirstName', 'LastName', 'FullStreet', 'Street', 'Street2', 'City', 'Zip', 'State', 'Country'];
                var addressTypes = ['Billing', 'Shipping'];
                for (var i = 0; i < addressFormItems.length; i++) {
                    var addressFormItem = addressFormItems[i];
                    for (var j = 0; j < addressTypes.length; j++) {
                        var type = addressTypes[j];
                        self.processLabel(type, addressFormItem);
                    }
                }
                var formItems = ['Phone', 'Email', 'CardNumber', 'CardExpiration', 'CardCvv2'];
                for (var k = 0; k < formItems.length; k++) {
                    var formItem = formItems[k];
                    self.processLabel('', formItem);
                }
            };

            function mutatePaymentForm() {
                var billingInfo = $("#billingInformation");
                var paymentInfo = $("#paymentForm");
                var paymentInfoParent = paymentInfo.parent();
                billingInfo.parent().prepend(paymentInfo);
                paymentInfoParent.prepend(billingInfo);
                if ($('#productSelection').val() != undefined) {
                    billingInfo.parent().prepend($('#productSelection'));
                }
            }

            self.onNameChange = function () {
                var value = $(this).val();
                var type = getAddressType($(this));

                if (value) {
                    value = value.replace(/\s+/gi, ' ').trim();
                    var results = value.split(' ');

                    var firstName = results.length > 0 ? $.trim(results[0]) : '';
                    var lastName = value.substr(results[0].length, value.length).trim();
                    $("#" + type + "FirstName").val(firstName);
                    $("#" + type + "LastName").val(lastName);
                }
            };

            self.greyCards = function () {
                if (!self.alwaysShowCardTypes) {
                    $('#visaImg').attr('src', '/shared/images/visa-g.png?v=6.0.1722.1545');
                    $('#amexImg').attr('src', '/shared/images/amex-g.png?v=6.0.1722.1545');
                    $('#discoverImg').attr('src', '/shared/images/discover-g.png?v=6.0.1722.1545');
                    $('#mastercardImg').attr('src', '/shared/images/mastercard-g.png?v=6.0.1722.1545');
                }
            };

            self.showAllCardsInColor = function () {
                $('#visaImg').attr('src', '/shared/images/payment/visa.svg?v=6.0.1722.1545');
                $('#amexImg').attr('src', '/shared/images/payment/amex.svg?v=6.0.1722.1545');
                $('#discoverImg').attr('src', '/shared/images/payment/discover.svg?v=6.0.1722.1545');
                $('#mastercardImg').attr('src', '/shared/images/payment/mastercard.svg?v=6.0.1722.1545');
            };

            self.evaluateCardType = function () {
                if ($('#CardNumber').val()) {
                    var cardNumber = $('#CardNumber');
                    self.greyCards();
                    if (cardNumber.val()[0] === "4") {
                        $('#visaImg').attr('src', '/shared/images/payment/visa.svg?v=6.0.1722.1545');
                        $('#CardType').val("V");
                    } else if (cardNumber.val()[0] === "3") {
                        $('#amexImg').attr('src', '/shared/images/payment/amex.svg?v=6.0.1722.1545');
                        $('#CardType').val("AX");
                    } else if (cardNumber.val()[0] === "6") {
                        $('#discoverImg').attr('src', '/shared/images/payment/discover.svg?v=6.0.1722.1545');
                        $('#CardType').val("D");
                    } else if (cardNumber.val()[0] === "5") {
                        $('#mastercardImg').attr('src', '/shared/images/payment/mastercard.svg?v=6.0.1722.1545');
                        $('#CardType').val("M");
                    } else {
                        $('#CardType').val("M");
                    }
                } else {
                    self.showAllCardsInColor();
                }
            };

            self.drawPayment = function (target) {
                var cardTypeHost = $(target);
                if (cardTypeHost.length > 0) {
                    cardTypeHost.find('img').remove();
                }
                self.greyCards();

                var cardNumber = $('#CardNumber');

                $('#CardTypeCt').remove();
                if ($('#CardType').length == 0) {
                    cardNumber.parent().append("<input type='hidden' id='CardType' name='CardType' />");
                }
                if (cardNumber.length > 0) {
                   cardNumber.on('keyup change input', self.evaluateCardType);
                }

                var allowedCards = config.payment.allowedCards;
                if (allowedCards == "" || allowedCards == null) {
                    allowedCards = ["visa", "mastercard", "amex", "discover"];
                } else {
                    allowedCards = allowedCards.split(',');
                }
                
                for (var i = 0; i < allowedCards.length; i++) {
                    var allowedCardType = allowedCards[i].toLowerCase();
                    var cardImage = cardTypeHost.find('#' + allowedCardType + 'Img');
                    if (cardImage.length > 0) {
                        cardImage.show();
                    } else {
                        cardTypeHost.append("<img id='" + allowedCardType + "Img' src='https://cddt.dtmstage.com/shared/images/payment/&quot;&#32;+&#32;allowedCardType&#32;+&#32;&quot;.svg?v=6.0.1722.1545' alt='" + allowedCardType + " accepted.' width='37'>");
                    }
                }
            };

            self.transform = function () {
                if (config.mergeName) {
                    var twoBecomeOne = function (type, label, placeholder) {
                        var firstName = $('#' + type + 'FirstNameCt');
                        var firstNameValue = typeof $('#' + type + 'FirstName').val() == "undefined" ? "" : $('#' + type + 'FirstName').val() ;
                        var lastName = $('#' + type + 'LastNameCt');
                        var lastNameValue = typeof $('#' + type + 'LastName').val() == "undefined" ? "" : $('#' + type + 'LastName').val();
                        if (firstName.length > 0 && lastName.length > 0) {
                            /* @NOTE: let CSS template handle whether the labeling should be displayed or not */
                            var hasVisibleLabel = $("#" + type + "FirstNameCt").find('label:first').is(':visible');
                            var classes = $("#" + type + "FirstNameCt").find('input:first').attr('class');
                            var template = "<div id='" + type + "FullNameCt' class='fldCt required'>" +
                                "<label class='label' style='" + (hasVisibleLabel ? '' : '') + "'><span class='requiredIcon'>*</span>" + label + "<span class='labelColon'>:</span></label>" +
                                "<span class='fld'><input id='" + type + "FullName' maxlength='100' name='" + type + "FullName' type='text' placeholder='" + placeholder + "' value='' class='" + classes + "'></span>" +
                                "</div>" +
                                "<input id='" + type + "FirstName' name='" + type + "FirstName' type='hidden' value='"+ firstNameValue +"' >" +
                                "<input id='" + type + "LastName' name='" + type + "LastName' type='hidden' value='" + lastNameValue +"'>";
                            var deployTo = ($("#" + type.toLowerCase() + "Information").length > 0 ? $("#" + type.toLowerCase() + "Information") : null) || $("#" + type + "FirstNameCt").parent()
                            deployTo
                                .find("#" + type + "FirstNameCt")
                                .before(template);
                            $("#" + type + "FirstNameCt").remove();
                            $("#" + type + "LastNameCt").remove();
                            $("#" + type + "FullName").on('change input keyup blur', self.onNameChange);
                        }
                    };

                    twoBecomeOne('Billing', self.labels["FullNameLabel"], self.labels["FullNamePlaceholder"]);
                    twoBecomeOne('Shipping', self.labels["FullNameLabel"], self.labels["FullNamePlaceholder"]);
                }

                if (config.mergeAddress) {
                    var allForOne = function (type) {
                        var allowHiding = $('#' + type + 'Street').val() == '';
                        var checkAndHide = function (name) {
                            if ($('#' + type + name + 'Ct').length > 0 && allowHiding) {
                                $('#' + type + name + 'Ct').hide();
                            }
                        };
                        checkAndHide('Street2');
                        checkAndHide('City');
                        checkAndHide('State');
                        checkAndHide('Zip');
                        checkAndHide('Country');

                        if ($('#' + type + 'Street').length > 0) {
                            $('#' + type + 'Street').on('blur input change', function () {
                                var checkAndShow = function (name) {
                                    if ($('#' + type + name + 'Ct').length > 0 && !$('#' + type + name + 'Ct').is(':visible')) {
                                        $('#' + type + name + 'Ct').show();
                                    }
                                };
                                checkAndShow('Street2');
                                checkAndShow('City');
                                checkAndShow('State');
                                checkAndShow('Zip');
                                checkAndShow('Country');
                            });
                        }
                    };

                    allForOne('Billing');
                }

                if (config.movePayment) {
                    mutatePaymentForm();
                }

                if (config.payment) {
                    self.drawPayment('.ccImage, #cc');
                }

                self.setFormLanguage(config.language);
            };

            self.addressAutocomplete = function () {
                if (config.enableServerMode) {
                    
                } else {
                    var initialize = function () {
                        var acRaw = [];
                        var allowedCountries = [];
                        acRaw = acRaw.concat(self.countries);
                        if (self.territories && self.territories.length > 0) {
                            acRaw = acRaw.concat(self.territories);
                        }

                        for (var i = 0; i < acRaw.length; i++) {
                            allowedCountries.push(acRaw[i].twoDigit);
                        }

                        var componentRestrictions = self.countries && self.countries.length == 1 ? { country: allowedCountries } : null;
                        var payload = {
                            autocomplete: 'false'
                        };
                        if (componentRestrictions != null) {
                            payload['componentRestrictions'] = componentRestrictions;
                        }

                        var linkAddress = function (addressType) {
                            if ($('#' + addressType + 'Street').length == 0) return;
                            var input = document.getElementById(addressType + 'Street');
                            var autocomplete = new google.maps.places.Autocomplete(input, payload);

                            google.maps.event.addListener(autocomplete, 'place_changed', function () {
                                var place = autocomplete.getPlace();

                                if (!place.geometry) {
                                    // User entered the name of a Place that was not suggested and
                                    // pressed the Enter key, or the Place Details request failed.
                                    return;
                                }

                                var addressTypes = ['street_number', 'route', 'locality', 'postal_code', 'administrative_area_level_1', 'country'];
                                var address = { Street: '', City: '', PostalCode: '', State: '', Country: '' };
                                var usTerritory =  ["PR", "GU", "VI" ];
                                var isUsTerritory = false;
                                var isUSA = false;
                                
                                for (var i = 0; i < place.address_components.length; i++) {
                                    var component = place.address_components[i];
                                    var type = component.types[0];
                                    var value = component["short_name"];
                                    if (addressTypes.indexOf(type) > -1) {

                                        if(type== 'country')
                                        {
                                            if (usTerritory.indexOf(value) > -1)
                                            {
                                                isUsTerritory = true;
                                                isUSA = true;
                                                break;
                                            }
                                            if (value == "US")
                                            {
                                                isUSA = true;
                                            }
                                        }
                                    }
                                }

                                for (var i = 0; i < place.address_components.length; i++) {
                                    var component = place.address_components[i];
                                    var type = component.types[0];
                                    var value = component["short_name"];
                                    if (addressTypes.indexOf(type) > -1) {
                                        switch (type) {
                                            case 'street_number':
                                                address.Street = value + ' ' + address.Street;
                                                break;
                                            case 'route':
                                                address.Street = address.Street + value;
                                                break;
                                            case 'locality':
                                                address.City = value;
                                                break;
                                            case 'postal_code':
                                                address.PostalCode = value;
                                                break;
                                            case 'administrative_area_level_1':
                                                address.State = value;
                                                break;
                                            case 'country':
                                                address.Country = value;
                                                break;
                                        }
                                    }
                                }

                                if (isUsTerritory)
                                {
                                    var state = address.State;
                                    var country = address.Country
                                    address.State = country;
                                    address.Country = "USA";
                                }

                                //If NOT USA , zip field changes to type 'text' to show keyboard on mobile devices
                                if (isUSA) {
                                    if ($('#BillingZip').length) {
                                        $('#BillingZip').attr("type", "tel");
                                    }
                                    if ($('#ShippingZip').length) {
                                        $('#ShippingZip').attr("type", "tel");
                                    }                                   
                                }
                                else {
                                    if ($('#BillingZip').length) {
                                        $('#BillingZip').attr("type", "text");
                                    }
                                    if ($('#ShippingZip').length) {
                                        $('#ShippingZip').attr("type", "text");
                                    }
                                }

                                self.setAddress($('#' + addressType + 'Street'), address);
                            });

                            google.maps.event.addDomListener(input, 'keydown', function (e) {
                                if (e.keyCode == 13) {
                                    e.preventDefault();
                                }
                            });
                        };
                        linkAddress('Billing');
                        linkAddress('Shipping');
                    };
                    try {
                        
                    } catch (error) {
                        console.error('Google Maps not loaded: ' + error);
                    }

                }
            };

            self.defaultValues = function () {
                var valueType = ["Billing", "Shipping"];

                valueType.forEach(function (type) {

                    var firstName = typeof $('#' + type + 'FirstName').val() == "undefined"  ? "" : $('#' + type + 'FirstName').val();
                    var lastName = typeof $('#' + type + 'LastName').val() == "undefined"? "" : $('#' + type + 'LastName').val();

                    if (firstName.length > 0 && lastName.length > 0) {
                        var fullName = firstName + ' ' + lastName;
                        
                        $('#' + type + 'FullName').val(fullName).trigger('change');
                        
                    }

                    if (!self.currentCountry && self.countries.length > 1 && self.defaultCountry) {
                        $('#' + type + 'Country').val(self.defaultCountry);
                    }

                });

            };

            this.initialize = function () {
                if (self.IsInitial) {
                    self.IsInitial = false;

                    self.transform();
                    self.addressAutocomplete();
                    self.defaultValues();
                }
            };

            $(document).ready(function () {
                self.initialize();

                if (config.enableServerMode) {
                  //  $('#BillingStreet, #ShippingStreet').attr('autocomplete', 'new-password');
                }
            });
        };

        var _addressEngine = new AddressEngine({
            mergeName: "true" == "true",
            mergeAddress: "true" == "true",
            isMobile: "false" == "true",
            language: "English",
            payment: {
                allowedCards: "Visa,Mastercard,Amex,Discover",
                alwaysShowCardTypes: "false" == "true"
            },
            enableTransformLabels: "true" == "true",
            movePayment: "false" == "true",
            enableServerMode: "false" == "true"
        });
        if (typeof (registerEvent) === "function") {
            registerEvent('ECDrawFormComplete', function () {
                _addressEngine.drawPayment('.ccImage');
                if ($('#cc').length > 0 && !$('#cc').is(':visible')) {
                    $('#cc').remove();
                }
            });
        }
    }

function debounce(func, wait, immediate) {
    var timeout;
    return function () {
        var context = this, args = arguments;
        var later = function () {
            timeout = null;
            if (!immediate) func.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) func.apply(context, args);
    };
}

function createCookie(name, value, minutes) {
    if (minutes) {
        var date = new Date();
        date.setTime(date.getTime() + (minutes * 60 * 1000));
        var expires = "; expires=" + date.toGMTString();
    } else {
        var expires = "";
    }
    document.cookie = name + "=" + value + expires + "; path=/";
}

function getCookie(name) {
    var value = "; " + document.cookie;
    var parts = value.split("; " + name + "=");
    if (parts.length == 2) return parts.pop().split(";").shift();
}

function createSessionCookie(sessionId) {
    var sessionTokenExists = document.cookie.indexOf("gpac=");
    if (sessionTokenExists <= -1) {
        var date = new Date();
        var timeStamp = date.getTime();
        timeStamp = timeStamp.toString();
        createCookie("gpac", sessionId + "-" + timeStamp, 4);
    }
}

function hasValidCharacters(text) {
    /* Regex for letters, numbers, spaces, underscores, hyphen, period*/
    var pattern = new RegExp('^(?:[A-Za-z0-9 _.-]+)(?:[A-Za-z0-9 _.-]*)$');
    var isRegexMatch = pattern.test(text);
   
    return isRegexMatch;
       
}



    $(window).on('load', function () {
        $('#BillingStreet').on("focus", function () { $(this).attr('autocomplete', 'section-bill billing new-password'); });
        $('#ShippingStreet').on("focus", function () { $(this).attr('autocomplete', 'section-ship shipping new-password'); });
        var cache = {};
        $('#BillingStreet, #ShippingStreet').autocomplete({
            create: function (e, u) {
                $('#BillingStreet').attr('autocomplete', 'section-bill billing address-line1');
                $('#ShippingStreet').attr('autocomplete', 'section-ship shipping address-line1');
            },
            source: function (request, response) {
                var term = request.term;
                if (term in cache) {
                    response(cache[term]);
                    return;
                }
                $.post("/Shared/Services/SmartyStreets.ashx",
                    {
                        a: term
                    },
                    function (data, status) {

                        if (status == "success") {

                            if (data.suggestions != null && data.suggestions.length > 0) {
                                var finalData = $.map(data.suggestions, function (item) {
                                    return {
                                        label: item.street_line + ' ' + item.secondary + ' , ' + item.city + ', ' + item.state,
                                        value: item.street_line,
                                        city: item.city,
                                        state: item.state,
                                        zipcode: item.zipcode,
                                        street2: item.secondary
                                    };
                                });

                                cache[term] = finalData;
                                response(finalData);
                            }
                        }
                    });
            },
            select: function (event, ui) {

                var name = event.target.name;
                var type = name.replace("Street", "");

                $('#' + type + 'Zip').val(ui.item.zipcode);
                $('#' + type + 'City').val(ui.item.city);
                $('#' + type + 'State').val(ui.item.state);
                $('#' + type + 'Country').val("USA");
                $('#' + type + 'Street2').val(ui.item.street2);

                if (typeof triggerEvent == 'function') {
                    triggerEvent("GoogleAutoComplete_AddressUpdated");
                }

            },

            minLength: 5
        });
        
        var hasAutoCompleteFields = typeof $('#BillingStreet, #ShippingStreet').data('ui-autocomplete') != "undefined";
        
        if (hasAutoCompleteFields){
            $('#BillingStreet, #ShippingStreet').data('ui-autocomplete')._renderItem = function (ul, item) {
                
                //Each list item is rendered here
                return $("<li/>")
                    .append($("<span/>", {
                        class: "ui-menu-address",
                        html: $("<span/>", {
                            class: "ui-menu-droppin"
                        })
                    }).append($("<strong/>", {
                        text: item.value + " " + item.street2
                    })).append($("<small/>", {
                        text: item.city + " " + item.state + " " + item.zipcode
                    })))
                    .attr("value", item.value)
                    //Add Custom attributes, classes here
                    .appendTo(ul);
            }; 
        }
    });
    


</script>

<div id="rscContentBottom"></div>

<!-- Begin Impression -->
<script src="https://www.googletagmanager.com/gtag/js?id=AW-1071809665"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-1071809665'
        
    );
</script>
<!-- End Impression -->

        <!-- CODE: AW-1071809665 -->
    

<!-- Begin Impression -->
<script src="https://www.googletagmanager.com/gtag/js?id=AW-457551682"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-457551682'
        
    );
</script>
<!-- End Impression -->

        <!-- CODE: AW-457551682 -->
    

<!-- Begin Impression -->
<script src="https://www.googletagmanager.com/gtag/js?id=AW-11203736546"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-11203736546'
        
    );
</script>
<!-- End Impression -->

        <!-- CODE: AW-11203736546 -->
    

<!-- Begin Impression -->
<script src="https://www.googletagmanager.com/gtag/js?id=AW-11202375959"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-11202375959'
        
    );
</script>
<!-- End Impression -->

        <!-- CODE: AW-11202375959 -->
    

<!-- Begin Impression -->
<script src="https://www.googletagmanager.com/gtag/js?id=AW-11199718654"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-11199718654'
        
    );
</script>
<!-- End Impression -->

        <!-- CODE: AW-11199718654 -->
    

<!-- Begin Impression -->
<script src="https://www.googletagmanager.com/gtag/js?id=AW-11206411288"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-11206411288'
        
    );
</script>
<!-- End Impression -->

        <!-- CODE: AW-11206411288 -->
    
<div id="rscPageBottom"></div>

<!-- Code: 04648b29-2a62-ee11-8b98-a0369f1303c7 -->
<script>
    
    $(document).ready(function () {
        
		var __fromSubmitters = [];
		$('form')
			.each(function (i, item){
				$(item).find('input[type="submit"], input[type="image"], button[type="submit"]')
				.bind('click', function (e){
					__fromSubmitters[$(item)] = $(this);
				});
			});
		$('form')
		.bind('submit', function (e){
			var self = $(this);
			if(typeof(self.attr('data-submitting-state')) == 'undefined'){
                e.preventDefault();
                if (typeof (self.attr('data-processing-message')) == 'undefined') {
                    $.facebox('<div role="alert">' + (typeof (__processingMessage) == "undefined" ? "Processing Order . . ." : __processingMessage) + '</div>');
                } else {
                    var processingMessage = self.attr('data-processing-message');
                    $.facebox('<div role="alert">' + processingMessage + '</div>');
                }
				self.attr('data-submitting-state', 'complete');
				setTimeout(function (){
                    _ValidationRunning = false;
                    var submitter = __fromSubmitters[self];
                    if (submitter != null) {
                        submitter.trigger('click');
                    } else {
                        self.submit();
                    }
				}, 250);
				return false;
			} else {
			return true;
			}
		});
        
    });
    
</script>


<script>
    var __faceboxBillingMessageOverride = 'Verifying Billing address...';
    var __faceboxShippingMessageOverride = 'Verifying Shipping address...';
</script>
<script src="https://cddt.dtmstage.com/Shared/js/validateaddress.js?v=6.0.1722.1545" type="text/javascript"></script>

<link href="https://cddt.dtmstage.com/Shared/css/addressverify.css?v=6.0.1722.1545" rel="stylesheet" type="text/css" />

<script type="text/javascript">
    var QASValidate = true;
    var __OnlyValidateWhenDifferent = false;
    var __IgnoreAddress2 = false;
</script>



<!-- Begin Impression -->
<!-- Kenshoo Global Tag -->
<script type="text/plain" class="optanon-category-C0004">
    !function (a, b, c, d, e, f, g) {
    a.ktag || (e = function () { e.sendEvent ? e.sendEvent(arguments) : e.ktq.push(arguments) }, e.ktq = [],
        a.ktag = e, f = b.getElementsByTagName(d)[0], g = b.createElement(d), g.async = !0, g.src = c, f.parentNode.appendChild(g))
    }(window, document, "https://resources.xg4ken.com/js/v2/ktag.js?tid=KT-N3381-3EB", "script");

    ktag('setup', 'KT-N3381-3EB', '<USER_ID>');
</script>
<noscript>
	<img src="https://events.xg4ken.com/pixel/v2?tid=KT-N3381-3EB&noscript=1" width="1" height="1" style="display:none"/>
</noscript>
<!-- End Kenshoo Tag -->
<!-- End Impression -->

<!-- Begin Conversion -->

<!-- CODE: 31648b29-2a62-ee11-8b98-a0369f1303c7 already fired. -->



<script type="text/javascript">
    (function (s, i) {
        let script = document.createElement("script");
        script.src = s;
        script.setAttribute("data-domain-script", i);
        script.setAttribute("charset", "UTF-8");
        script.type = "text/javascript";

        let optScript = document.createElement("script");
        optScript.type = "text/javascript";
        optScript.text = "function OptanonWrapper() { }";

        const headEle = document.getElementsByTagName("head")[0];
        headEle.appendChild(script);
        headEle.appendChild(optScript);
    })('https://cdn.cookielaw.org/scripttemplates/otSDKStub.js', '9d733211-efa6-4c76-8d70-76e30c90b879');
</script>



<style>
    .onetrust-privacy > button {
        background: none;
        border: 0;
        padding: 0;
    }

        .onetrust-privacy > button:hover,
        .onetrust-privacy > button:focus {
            text-decoration: underline;
        }
</style>


<!-- OneTrust Cookies Settings button start -->
<button id="ot-sdk-btn" class="optanon-toggle-display">Do Not Sell My Personal Information</button>
<!-- OneTrust Cookies Settings button end -->


<script>
    (function ($) {
        const $oneTrustButton = $("#ot-sdk-btn");
        const $oneTrustPlaceholder = $(".onetrust-privacy");
        const hasOneTrustPlaceholder = $oneTrustPlaceholder.length === 1;

        if (hasOneTrustPlaceholder) {
            $oneTrustPlaceholder.append($oneTrustButton);
        } else {
            const $footer =$($(".l-footer ul")[0]);

            $footer
                .find("li:last")
                .removeClass("c-list__item--last")
                .clone()
                .empty()
                .addClass("c-list__item--last onetrust-privacy")
                .append($oneTrustButton)
                .appendTo($footer);
        }

    }(jQuery));
</script>


<!-- Begin Impression -->
<script type="text/javascript" src="https://static.criteo.net/js/ld/ld.js" async="true"></script>
<script type="text/javascript">
    window.criteo_q = window.criteo_q || [];
    var deviceType = /iPad/.test(navigator.userAgent) ? "t" : /Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent) ? "m" : "d";
    window.criteo_q.push(
    { event: "setAccount", account: 83438 },
        { event: "setSiteType", type: deviceType },
        { event: "viewHome" }

        ,
        { event: "viewItem", item: "11817903" }
        

    );
</script>
<!-- End Impression -->


<script>
    var __faceboxBillingMessageOverride = 'Verifying Billing address...';
    var __faceboxShippingMessageOverride = 'Verifying Shipping address...';
</script>
<script src="https://cddt.dtmstage.com/Shared/js/validateaddress.js?v=6.0.1722.1545" type="text/javascript"></script>

<link href="https://cddt.dtmstage.com/Shared/css/addressverify.css?v=6.0.1722.1545" rel="stylesheet" type="text/css" />

<script type="text/javascript">
    var QASValidate = true;
    var __OnlyValidateWhenDifferent = false;
    var __IgnoreAddress2 = false;
</script>


<script type="text/javascript">
    (function () {
        const cookieName = '_dtmIrClid=';
        let irClid = '';

        if (irClid != '') {
            let date = new Date();
            date.setDate(date.getDate() + 30);
            document.cookie = cookieName + irClid + ';path=/;expires=' + date.toUTCString() + ';samesite=lax;secure';
        } else {
            const nvp = document.cookie.split(';');
            for (var i = 0; i < nvp.length; i++) {
                const cookie = nvp[i],
                    cleanCookie = cookie.charAt(0) == ' ' ? cookie.substring(1) : cookie;

                if (cleanCookie.indexOf(cookieName) > -1) {
                    irClid = cleanCookie.substring(cookieName.length, cleanCookie.length);
                }
            }
        }

        window.dtmIrClid = irClid;

        addEventListener("SessionLoaded", function () {
                var httpRequest = new XMLHttpRequest();
                httpRequest.open("POST", "/shared/services/RegisterImpactId.ashx?covid=" + "fb638b29-2a62-ee11-8b98-a0369f1303c7" + "&campid=" + "13954");
                httpRequest.setRequestHeader("Content-Type", "application/json");
                httpRequest.send(JSON.stringify({ irClid: window.dtmIrClid }));
        });

    })();
</script>



<!-- Begin Impression -->
<script type='text/javascript'>
    (function () {
        var pixelElement = document.createElement('img');
        pixelElement.src = 'https://tags.w55c.net/rs?id=6da926803981439195afe81bfbfc869b&t=homepage';
     var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(pixelElement, s);
 })();
</script>
<!-- End Impression -->

<!-- Reddit Pixel -->
<script>
!function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','t2_ktpnqcrh', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>","email":"<EMAIL-HERE>","externalId":"<EXTERNAL-ID-HERE>","idfa":"<IDFA-HERE>"});rdt('track', 'PageVisit');
</script>
<!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
<!-- End Reddit Pixel -->

    
    <script>
        let recaptchaIsLoaded = false;
        let recaptchaRenderTryCount = 0;
        function onRecaptchaLoaded() {
            recaptchaIsLoaded = true;
        }

        $(document).ready(function () {
            handleRecaptchaRender();
        });

        var handleRecaptchaRender = function () {
            if (recaptchaRenderTryCount < 3) {
                if (recaptchaIsLoaded) {
                    renderRecaptcha();
                } else {
                    setTimeout(handleRecaptchaRender, 2000);
                }
                recaptchaRenderTryCount++;
            } else {
                console.log("Unable to render Recaptcha");
            }
        };

        var renderRecaptcha = function () {
            console.log('RecaptchaV2');
            var recaptchaElement = $("<div/>").attr({
                id: "recaptchaCt",
                class: "g-recaptcha",
                "data-sitekey": "6LevkygUAAAAACSI4y0E3v_NE16sCJtu-NM14cq_",
                "data-callback": "callBack",
                "data-size": "normal",
                
            });

            var acceptButton = $("[name='acceptOffer']");
            var formSubmit = $(".FormSubmit");
            if (formSubmit.length > 0) {
                recaptchaElement.prependTo(formSubmit);
            } else if (acceptButton.length > 0) {
                var parent = acceptButton.parent();
                if (parent.length > 0) {
                    recaptchaElement.prependTo(parent);
                }
            }
            else {
                $("form").append(recaptchaElement);
            }

            grecaptcha.render("recaptchaCt",
                {
                    sitekey: "6LevkygUAAAAACSI4y0E3v_NE16sCJtu-NM14cq_",
                    callback: "callBack",
                    size: "normal"
                }
            );
        };

        var callBack = function (response) {
             
                gRecaptchaSuccess(response)
            

        };

        function gRecaptchaSuccess(response) {
            $('html, body').animate({
                scrollTop : $('.g-recaptcha').offset().top 
            }, 'slow');
        };

        function onSubmit(response) {
            $("form input").unbind(".recaptchaEvents");
            $("form img").unbind(".recaptchaEvents");
            $("form select").unbind(".recaptchaEvents");
            $("form button").unbind(".recaptchaEventsv");
        }

    </script>
    
<script src="https://www.google.com/recaptcha/api.js?onload=onRecaptchaLoaded&render=explicit" async defer></script>



<!-- Code: 2818b04a-f212-4a2a-975c-b18ffe04cb91 -->
<script>
    
    $(document).ready(function () {
        
		var __fromSubmitters = [];
		$('form')
			.each(function (i, item){
				$(item).find('input[type="submit"], input[type="image"], button[type="submit"]')
				.bind('click', function (e){
					__fromSubmitters[$(item)] = $(this);
				});
			});
		$('form')
		.bind('submit', function (e){
			var self = $(this);
			if(typeof(self.attr('data-submitting-state')) == 'undefined'){
                e.preventDefault();
                if (typeof (self.attr('data-processing-message')) == 'undefined') {
                    $.facebox('<div role="alert">' + (typeof (__processingMessage) == "undefined" ? "Processing..." : __processingMessage) + '</div>');
                } else {
                    var processingMessage = self.attr('data-processing-message');
                    $.facebox('<div role="alert">' + processingMessage + '</div>');
                }
				self.attr('data-submitting-state', 'complete');
				setTimeout(function (){
                    _ValidationRunning = false;
                    var submitter = __fromSubmitters[self];
                    if (submitter != null) {
                        submitter.trigger('click');
                    } else {
                        self.submit();
                    }
				}, 250);
				return false;
			} else {
			return true;
			}
		});
        
    });
    
</script>


<script src="https://js.braintreegateway.com/web/3.36.0/js/client.min.js"></script>
<script src="https://js.braintreegateway.com/web/3.36.0/js/hosted-fields.min.js"></script>

<script src="https://js.braintreegateway.com/web/3.36.0/js/paypal-checkout.min.js"></script>
<script src="https://www.paypalobjects.com/api/checkout.js" data-version-4 log-level="warn"></script>

<script src="https://js.braintreegateway.com/web/3.36.0/js/data-collector.min.js"></script>

<script src="https://cddt.dtmstage.com/Shared/js/Expresscheckout.js?v=0.0.0.0"></script>

<style>
    /*	Model | Braintree
		@Desc: model the layout of the form
	 * --------------------------------------------------------------------- */
    .btHostedField {
        display: inline-block;
        width: 180px;
        height: 20px;
        float: left;
        padding: 5px 2px;
        margin: 0 0 2px;
        border: 1px solid;
    }

    /*	State | Braintree
		@Desc: model the layout of the form
	 * --------------------------------------------------------------------- */
    .braintree-hosted-fields-focused {
        border: 1px solid #0275d8;
        box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);
    }

        .braintree-hosted-fields-focused.focused-invalid {
            border: 1px solid #ebcccc;
            box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(100,100,0,.6);
        }


    /*	Theme | Braintree
		@Desc: model the layout of the form
	 * --------------------------------------------------------------------- */

    .btHostedField {
        font: normal 11px/18px Arial, Helvetica, sans-serif;
        border-color: #aaaaaa;
    }
</style>

<style>
    /*	Model | Braintree
		@Desc: model the layout of the form
	 * --------------------------------------------------------------------- */
    .dtm--bt .btHostedField {
        width: 100%;
        height: 3.25rem;
        margin: 0;
        padding: 7px 10px;
        padding: 0.7rem 1rem;
        float: none;
        border: 1px solid;
        border-radius: 5px;
    }

    .dtm--beta .btHostedField {
        height: 2.5rem;
    }

    /* @Suported with Framework JS */
    .dtm--bt .bt__hide-cc-fields .c-brand--form__item:not(:first-of-type) {
        display: none;
    }

    /* @Suported with Framework JS */
    .dtm--bt #paymentForm .c-brand--form__item:not(:first-of-type),
    .dtm--bt #paymentForm .c-brand--form__item:not(:first-of-type) [class*="c-brand"],
    .dtm--bt #dtm_paymentForm .fldCt,
    .dtm--bt #dtm_paymentForm .fldCt [class*="c-brand"] {
        line-height: 0.5;
    }


    /*	State | Braintree
		@Desc: model the layout of the form
	 * --------------------------------------------------------------------- */
    .braintree-hosted-fields-focused {
        border: 1px solid #0275d8;
        box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);
    }

        .braintree-hosted-fields-focused.focused-invalid {
            border: 1px solid #ebcccc;
            box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(100,100,0,.6);
        }

    /*	Theme | Braintree
		@Desc: model the layout of the form
	 * --------------------------------------------------------------------- */
    .dtm--bt .btHostedField {
        border: 1px solid #ccc;
    }


    .dtm .checkout-option .grayed {
        opacity: 0.3;
    }

</style>
<script>
    // set brain tree object
    var _bt = {};

    var isRunning = false;
    // object to add styles for fields
    _bt.css = {};
    // method to restyle the form
    _bt.style = function () {
        var setOldTemplateStyles = function () {
            _bt.css = {
                'font-size': '11px',
                'font-family': 'Arial, Helvetica, sans-serif',
                'font-weight': 'normal',
                'line-height': '18px'
            };
        };

        var setNewTemplateStyles = function () {
            // add braintree class as a fallback
            $('html').addClass('dtm--bt');

            _bt.css = {
                'font-size': '.9em',
                'font-family': 'Helvetica, Arial, sans-serif',
                'font-weight': 'normal',
                'line-height': 'normal',
                'color': '#333',
            };

            // add support for brain tree field
            setTimeout(function () {
                // attempt to connect to framework css
                try {
                    if (typeof (_dtm.css) !== 'undefined') {
                        // get styling support from framework
                        $('.btHostedField').addClass(_dtm.css.config.input.css);
                    }
                    // if framework css is not included, manually add the supported classes and let the shared css file restyle
                } catch (e) {
                    $('.btHostedField').addClass('c-brand--form__input o-box o-shadow u-vw--100 fx--animate');
                }
            }, 100);
        };

        // check if the form hasn't been upgraded
        const setTemplateByBoxSizing = function () {
            // check the box model of the form (upgrade form will never use content-box)
            $('#form *').css('box-sizing') === 'content-box' ? setOldTemplateStyles() : setNewTemplateStyles();
        }

        switch (true) {
            // if the site supports custom UI
            case typeof setBraintreeHostedFieldsStyles === "function":
                // call a function "setBraintreeHostedFieldsStyles" that returns an object of style properties
                const css = setBraintreeHostedFieldsStyles();

                // css data must be an object
                if (typeof css === "object" && !Array.isArray(css)) {
                    _bt.css = css;
                } else {
                    setTemplateByBoxSizing();
                }

                break;
            // if the site supports the dtm class
            case $('html').hasClass('dtm'):
                setTemplateByBoxSizing();

                break;

            // if the page is process payment
            case 'Index' === 'ProcessPayment':
                // if this hasn't been upgraded to the new template
                if (!($('html').hasClass('dtm--processpayment'))) {
                    $('html').addClass('no-upgrade');
                }
                setNewTemplateStyles();
                break;

            // otherwise
            default:
                setOldTemplateStyles();
                break;
        }
    };

    
    // when Framework JS is ready
    $('html').on('dtm/fwjs', function () {
        // check if the document is rendering the process payment page
        if ($('html').hasClass('dtm--processpayment')) {
            // restyle the payment options
            try {
                _dtm.expressCheckout();

            } catch (e) {
                console.log(e.message);
            }
        }
    });
                   
    var additionalImgs = null;
    var disclaimer = '';
    
    _expressCheckoutEngine.Register('PayPal,braintree', -1, '/shared/images/payment/paypal.svg', '/images/submit_button_PP_off.gif', '/images/submit_button_PP_on.gif', '/images/submit_button_PP_off.gif', '', null, additionalImgs, disclaimer);

    

    $(document).ready(function () {
        var submitButton = $('#AcceptOfferButton').length == 0 ? $('[name=acceptOffer]') : $('#AcceptOfferButton');

        var form = submitButton.closest('form');
        if (typeof (form.attr('id')) != "string") {
            form.attr('id', 'btform');
        }

        var formPrepend = function (name, value) {
            if ($('#' + name).length > 0) {
                $('#' + name).val(value);
            } else {
                form.prepend('<input type="hidden" id="' + name + '" name="' + name + '" value="' + value + '" />');
            }
        };

        var setOrderType = function () {
            if ($('#otCARD').length > 0) {
                $('#otCARD').val('card,braintree');
            } else if ($('#OrderType').length > 0 && $('#OrderType').attr('type') == 'hidden') {
                $('#OrderType').val('card,braintree');
            } else {
                formPrepend('OrderType', 'card,braintree');
            }
        };


   

        _expressCheckoutEngine.initialize();

        
        $('#divPayPal-braintree').hide();
        

        var isDebug = "" == "1";

        submitButton.removeClass('AcceptOfferButton');
        var isVisible = submitButton.is(':visible');
        var brainTreeSubmitButton = submitButton.clone()
            .attr('id', 'braintreeSubmit')
            .attr('name', 'braintreeSubmit')
            .addClass('AcceptOfferButton');
        submitButton.after(brainTreeSubmitButton);
        if (isVisible) {
            submitButton.hide();
            brainTreeSubmitButton.show();
        }

        registerEvent("OrderFormShownOnMobile", function () {
            var submitButton = $('#AcceptOfferButton').length == 0 ? $('[name=acceptOffer]') : $('#AcceptOfferButton');
            var isVisible = submitButton.is(':visible');
            var brainTreeSubmitButton = $('#braintreeSubmit');
            if (isVisible && brainTreeSubmitButton.length > 0) {
                submitButton.hide();
                brainTreeSubmitButton.show();
            }
        });

        var formSet = function (name, value) {
            if ($('#' + name).length > 0) {
                $('#' + name).val(value);
            }
        };

        var debug = function (target) {
            if (isDebug) {
                console.log(target);
            }
        };

        var clientInstance, hostedFieldsInstance, paypalInstance, applePayInstance, dataCollectorInstance, paypalCheckoutInstance, venmoInstance, clientToken = null;
        var hostedFieldsInstanceError, payalInstanceError, applePayInstanceError, paypalCheckoutInstanceError, venmoInstanceError;

        var getTotal = function () {
            var total = parseFloat(($('.ordertotal').length > 0 ? $('.ordertotal').html().replace("$", "") : "0"));
            if (total <= 0) {

                var cart = $.ajax({
                    type: "GET",
                    url: '/Cart/GetCart/Index',
                    async: false
                }).responseJSON;

                

                total += cart.total;
            }
            return parseFloat(total.toFixed(2));
        };


        var initialize = function (data) {
            
            setOrderType();
            
            debug(data);
            clientToken = data.ClientToken;
            braintree.client.create({
                authorization: clientToken
            }, function (err, _clientInstance) {
                if (err) {
                    console.log(err);
                    return;
                }
                clientInstance = _clientInstance;

                
                    braintree.dataCollector.create({
                        client: clientInstance,
                        kount: "false" == "true",
                    paypal: "true" == "true"
                }, function (dataCollectorErr, _dataCollectorInstance) {
                    if (dataCollectorErr) {
                        console.log(dataCollectorErr);
                        return;
                    }
                    dataCollectorInstance = _dataCollectorInstance;

                    if (dataCollectorInstance.deviceData) {
                        var value = encodeURIComponent(JSON.stringify(dataCollectorInstance.deviceData));
                        formPrepend('DeviceData', value);
                    }
                });
                

                    /* directly target the card number field and replace with the braintree version */
                    $('#CardNumber').replaceWith('<div id="CardNumberHostedField" class="btHostedField"></div>');
                    /* directly target the cvv2 field and replace with the braintree version */
                    $('#CardCvv2').replaceWith('<div id="CardCvv2HostedField" class="btHostedField"></div>');
                    /* directly target the card expiration field and replace with the braintree version */
                    $('#CardExpirationMonth').replaceWith('<div id="CardExpirationHostedField" class="btHostedField"></div>');
                    /* since braintree supports exp. date as input data instead of drop down, just remove this drop down */
                    $('#CardExpirationYear').remove();

                    // update accessible name pointers to match the new hosted field ids
                    $('label[for="CardNumber"]').attr("for", "CardNumberHostedField");
                    $('label[for="CardCvv2"]').attr("for", "CardCvv2HostedField");
                    $('label[for="CardExpirationMonth"]').attr("for", "CardExpirationHostedField");

                    _bt.style();

                    braintree.hostedFields.create({
                        client: clientInstance,
                        styles: {
                            'input': _bt.css,
                            ':focus': {
                                'color': 'black'
                            },
                            '.valid': {
                                'color': 'black'
                            },
                            '.invalid': {
                                'color': 'red'
                            }
                        },
                        fields: {
                            number: {
                                selector: '#CardNumberHostedField',
                                placeholder: '#### #### #### ####'
                            },
                            cvv: {
                                selector: '#CardCvv2HostedField',
                                placeholder: '123'
                            },
                            expirationDate: {
                                selector: '#CardExpirationHostedField',
                                placeholder: 'MM/YYYY'
                            }
                        }
                    }, function (hostedFieldsErr, _hostedFieldsInstance) {
                        if (hostedFieldsErr) {
                            console.log(hostedFieldsErr);
                            var friendlyMessage;
                            switch (hostedFieldsErr.code) {
                                case "HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME":
                                    friendlyMessage = "Element already contains a Braintree iframe.";
                                    break;
                            }
                            if (friendlyMessage) {
                                $.post('/shared/services/pixelservice.ashx?at=error', { 'message': friendlyMessage, 'json': JSON.stringify(hostedFieldsErr) });
                                hostedFieldsInstanceError = friendlyMessage;
                                var newValue = encodeURI(new Date().toLocaleString() + ':' + hostedFieldsErr.message);
                                if ($('#TokenErrors').length > 0) {
                                    newValue = $('#TokenErrors').val() + '|' + newValue;
                                }
                                formPrepend('TokenErrors', newValue);
                                try {
                                    _dtm.alert(friendlyMessage);
                                } catch (e) {
                                    alert(friendlyMessage);
                                }
                            }
                            hostedFieldsInstance = null;
                            return;
                        }
                        hostedFieldsInstanceError = null;
                        hostedFieldsInstance = _hostedFieldsInstance;
                    });

                
                    registerEvent('PaymentOptionSelected', function (data) {
                        $('#paypal-button').hide();
                        if (data && data.detail && data.detail.toLowerCase().indexOf('paypal') > -1) {
                            $('#braintreeSubmit').hide();
                            $('#paypal-button').fadeIn();
                        }
                    });
                    if ($('#paypal-button').length == 0) {
                        submitButton.after('<div id="paypal-button" style="display:none;"></div>');
                    }
                    braintree.paypalCheckout.create({
                        client: clientInstance
                    }, function (paypalCheckoutErr, _paypalCheckoutInstance) {
                        if (paypalCheckoutErr) {
                            console.log(paypalCheckoutErr);
                            var friendlyMessage;
                            switch (paypalCheckoutErr.code) {
                                case 'PAYPAL_BROWSER_NOT_SUPPORTED':
                                    friendlyMessage = "Your current browser does not support Payment methods with pop ups, please switch to another browser. Thank you!";
                                    break;
                            }
                            if (friendlyMessage) {
                                paypalCheckoutInstanceError = friendlyMessage;
                                $.post('/shared/services/pixelservice.ashx?at=error', { 'message': friendlyMessage, 'json': JSON.stringify(paypalCheckoutErr) });
                                var newValue = encodeURI(new Date().toLocaleString() + ':' + paypalCheckoutErr.message);
                                if ($('#TokenErrors').length > 0) {
                                    newValue = $('#TokenErrors').val() + '|' + newValue;
                                }
                                formPrepend('TokenErrors', newValue);
                                try {
                                    _dtm.alert(friendlyMessage);
                                } catch (e) {
                                    alert(friendlyMessage);
                                }
                            }
                            paypalCheckoutInstance = null;
                            return;
                        }
                        paypalCheckoutInstanceError = null;
                        paypalCheckoutInstance = _paypalCheckoutInstance;
                        paypal.Button.render({
                            env: 'production',
                        //commit: true,
                        
                        style: {
                            
                            label: 'checkout',  
                            size: 'responsive', 
                            shape: 'rect',   
                            color: 'gold'   
                        },
                            payment: function () {
                            return paypalCheckoutInstance.createPayment({
                                flow: 'vault',
                
                                displayName: 'Toppik',
                                currency: 'USD',
                                amount: getTotal(),
                                enableShippingAddress: true,
                                shippingAddressEditable: true,
                            });
                        },
                         
                        validate: function (actions) {
                            setupValidation(actions);
                        },
                        onClick: function () {
                            toggleValidationMessage();
                        },
                        
                        onAuthorize: function (data, actions) {
                            return paypalCheckoutInstance.tokenizePayment(data)
                                .then(function (payload) {
                                    handlePaymentMethodReceived(null, payload);
                                    if (payload && payload.code != 'PAYPAL_POPUP_CLOSED') {

                                            

                                            _expressCheckoutEngine.drawAddress();

                                            
                                        }
                                    });
                        },
                        onCancel: function (data) {
                            console.log('checkout.js payment cancelled', JSON.stringify(data, 0, 2));
                        },
                        onError: function (err) {
                            console.error('checkout.js error', err);
                            handlePaymentMethodReceived(err, {});
                        }
                    }, '#paypal-button');
                    $('#divPayPal-braintree').fadeIn(1000);
                });
                
            });
        };
        
        var btWorking = false;
        var getClientToken = function () {
            if (!btWorking) {
                btWorking = true;

                $.ajax({
                    url: '/shared/services/braintree.ashx?a=gettoken&covid=fb638b29-2a62-ee11-8b98-a0369f1303c7',
                    type: 'GET',
                    contentType: "application/json",
                }).done(function (data) {
                    initialize(data);
                
                    btWorking = false;
                }).fail(function () {
                    btWorking = false;
                }).always(function () {
                    btWorking = false;
                });
            }
        };
        getClientToken();

        var phoneValidationState = null;
        var togglePhoneValidation = function (disable) {
            if (phoneValidationState == null) {
                phoneValidationState = typeof (verifyPhone) == "undefined" ? true : verifyPhone;
            }
            verifyPhone = disable ? false : phoneValidationState;
        };

        var handlePaymentMethodReceived = function (err, payload) {
            const target = document.getElementById("vse-payment") || document.querySelector(".vse");
            const $target = $(target);

            console.log(err, payload);

            debug(err);
            debug(payload);
            
            if (err) {
                var friendlyMessage;
                switch (err.code) {
                    case 'HOSTED_FIELDS_FIELDS_EMPTY':
                        friendlyMessage = 'Payment fields are empty! Please fill out the form.';
                        break;
                    case 'HOSTED_FIELDS_FIELDS_INVALID':
                        friendlyMessage = 'Some payment fields are invalid:' + err.details.invalidFieldKeys;
                        break;
                    case 'HOSTED_FIELDS_FAILED_TOKENIZATION':
                        friendlyMessage = 'Payment validation failed. Is the card valid?';
                        break;
                    case 'HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR':
                        friendlyMessage = 'Network error occurred when validating payment.';
                        break;
                    case 'PAYPAL_POPUP_CLOSED':
                        break;
                    default:
                        friendlyMessage = 'Please provide valid payment details.';
                }
                if (friendlyMessage) {
                    $.post('/shared/services/pixelservice.ashx?at=error', { 'message': friendlyMessage, 'json': JSON.stringify(err) });
                    var newValue = encodeURI(new Date().toLocaleString() + ':' + err.message);
                    if ($('#TokenErrors').length > 0) {
                        newValue = $('#TokenErrors').val() + '|' + newValue;
                    }
                    formPrepend('TokenErrors', newValue);
                    try {
                        _dtm.alert(friendlyMessage, $target);
                        if (_dtmShoppingCart && target) {
                            _dtmShoppingCart.ScrollToErrors($target);
                        }
                    } catch (e) {
                        alert(friendlyMessage);
                    }
                }
            } else {
                $target.html("");

                if (payload) {
                    var cardType = '', paymentType = '';
                    if (payload.type == 'CreditCard') {
                        switch (payload.details.cardType.toLowerCase()) {
                            case "visa":
                                cardType = 'V';
                                break;
                            case "mastercard":
                                cardType = 'M';
                                break;
                            case "american express":
                                cardType = 'AX';
                                break;
                            case "discover":
                                cardType = 'D';
                                break;
                            default:
                                cardType = payload.details.cardType;
                                formPrepend('BTCardType', cardType);
                                break;
                        }
                        paymentType = cardType;
                    } else if (payload.type.toLowerCase().indexOf('paypal') > -1) {
                        cardType = '';
                        paymentType = 'PayPal';

                        if (payload.details) {
                            formSet('Email', payload.details.email);
                            formSet('Phone', payload.details.phone);
                            formSet('BillingFirstName', payload.details.firstName);
                            formSet('BillingLastName', payload.details.lastName);
                            formSet('BillingFullName', payload.details.firstName + ' ' + payload.details.lastName);
                            formSet('BillingName', payload.details.firstName + ' ' + payload.details.lastName);
                            formPrepend('PayerId', payload.details.payerId);
                            var billingAddr = null, shippingAddr = null;

                            if (payload.details.billingAddress) {
                                var billingCountryCode = payload.details.billingAddress.countryCode == 'US' ? 'USA' : payload.details.billingAddress.countryCode;
                                formSet('BillingCountry', billingCountryCode);
                                formSet('BillingState', payload.details.billingAddress.state);
                                formSet('BillingCity', payload.details.billingAddress.city);
                                formSet('BillingStreet', payload.details.billingAddress.line1);
                                formSet('BillingStreet2', payload.details.billingAddress.line2);
                                formSet('BillingZip', payload.details.billingAddress.postalCode);
                                billingAddr = (payload.details.billingAddress.line1 + payload.details.billingAddress.line2
                                    + payload.details.billingAddress.state + payload.details.billingAddress.city
                                    + payload.details.billingAddress.postalCode + billingCountryCode).toUpperCase();

                                $.post('/shared/services/pixelservice.ashx?at=track', payload.details.billingAddress);
                            }

                            if (payload.details.shippingAddress) {
                                var firstName = payload.details.firstName;
                                var lastName = payload.details.lastName;
                                var fullName = payload.details.firstName + ' ' + payload.details.lastName;

                                if (payload.details.shippingAddress.recipientName && payload.details.shippingAddress.recipientName.split(' ').length > 1) {
                                    var namePieces = payload.details.shippingAddress.recipientName.split(' ');
                                    firstName = namePieces.length > 0 ? namePieces[0] : payload.details.shippingAddress.recipientName;
                                    lastName = namePieces.length > 1
                                        ? payload.details.shippingAddress.recipientName.substring(firstName.length, payload.details.shippingAddress.recipientName.length).trim()
                                        : '';
                                    fullName = payload.details.shippingAddress.recipientName;
                                }

                                formSet('ShippingFirstName', firstName);
                                formSet('ShippingLastName', lastName);
                                formSet('ShippingFullName', fullName);
                                formSet('ShippingName', fullName);

                                var address = payload.details.shippingAddress.countryCode == undefined
                                    ? payload.details.billingAddress
                                    : payload.details.shippingAddress;
                                var shippingCountryCode = address.countryCode == 'US' ? 'USA' : address.countryCode;
                                formSet('ShippingCountry', shippingCountryCode);
                                formSet('ShippingState', address.state);
                                formSet('ShippingCity', address.city);
                                formSet('ShippingStreet', address.line1);
                                formSet('ShippingStreet2', address.line2);
                                formSet('ShippingZip', address.postalCode);

                                shippingAddr = (address.line1 + address.line2
                                    + address.state + address.city
                                    + address.postalCode + shippingCountryCode).toUpperCase();

                                if (typeof (payload.details.billingAddress) == "undefined") {
                                    formSet('BillingCountry', shippingCountryCode);
                                    formSet('BillingState', payload.details.shippingAddress.state);
                                    formSet('BillingCity', payload.details.shippingAddress.city);
                                    formSet('BillingStreet', payload.details.shippingAddress.line1);
                                    formSet('BillingStreet2', payload.details.shippingAddress.line2);
                                    formSet('BillingZip', payload.details.shippingAddress.postalCode);
                                    billingAddr = shippingAddr;
                                }

                                if (billingAddr == shippingAddr) {
                                    $('#ShippingIsDifferentThanBilling').prop('checked', false);
                                } else {
                                    $('#ShippingIsDifferentThanBilling').prop('checked', true);
                                }
                                $.post('/shared/services/pixelservice.ashx?at=track', payload.details.shippingAddress);
                            } else {
                                $('#ShippingIsDifferentThanBilling').prop('checked', false);
                            }
                            toggleShipping();

                            $('#billingInformation strong, #shippingInformation strong').filter(function () {
                                var updateMe = /Step (\d+)[:]/gi.test($(this).text());
                                if (updateMe) {
                                    var matches = /Step (\d+)[:]/gi.exec($(this).text());
                                    if (matches != null && matches.length >= 2) {
                                        var stepNumber = parseInt(matches[1]);
                                        $(this).text($(this).text().replace(/(.*Step )(\d+)([:].*)/gi, '$1' + (stepNumber - 1) + '$3'));
                                    }
                                }
                                return updateMe;
                            });

                            var hideSingleElement = function ($item, level) {
                                var parent = $item.parent();
                                if (parent != null && parent.children().length == 1) {
                                    if (!hideSingleElement(parent, level + 1)) {
                                        parent.hide();
                                        return true;
                                    }
                                    return false;
                                } else if (level == 1) {
                                    $item.hide();
                                }
                                return false;
                            };

                            if (typeof disableBraintreeHidePaymentForm === "undefined") {
                                hideSingleElement($('#paymentForm'), 1);
                            }

                            validateState();
                        }
                    }
                    else if (payload.type.toLowerCase().indexOf('applepay') > -1 || payload.type.toLowerCase().indexOf('venmo') > -1) {
                        cardType = '';
                        paymentType = payload.type.toLowerCase().indexOf('applepay') > -1 ? 'applepay' : 'Venmo';
                    }

                    if ($('#CardType').length > 0) {
                        $('#CardType').val(cardType);
                    }
                    formPrepend('PaymentType', paymentType);
                    formPrepend('Token', payload.nonce);

                    if (typeof (payload.details.username) == 'string') {
                        formPrepend('Username', payload.details.username);
                    }

                    var paymentTypeLower = paymentType.toLowerCase();
                    var enablePayPalSubmitOnLogin = true;
                    var pageCode = "index";

                    togglePhoneValidation(paymentTypeLower.indexOf('paypal') > -1 && "True" == "True");

                    if (paymentTypeLower.indexOf('applepay') < 0
                        && paymentTypeLower.indexOf('venmo') < 0
                        && (paymentTypeLower.indexOf('paypal') < 0 || (enablePayPalSubmitOnLogin || pageCode == "processpayment"))) {
                        isRunning = false;


                        if ($('button.swipe') != null && $('button.swipe').length == 1) {
                            $('form').submit();
                        } else {
                            submitButton.trigger('click');
                        }

                    }
                    if (paymentTypeLower.indexOf('paypal') > -1 && (!enablePayPalSubmitOnLogin && pageCode != "processpayment")) {

                        if ($('.vse').children().length < 1) {
                            $("#AcceptOfferButton").show();
                            $("#processOrderText").show();
                            $("#paypal-button").hide();
                        }

                        $("#billingInformation").hide();
                        $("#ShippingIsSame").hide();
                        $("#shippingInformation").hide();

                    }
                }
            }
            isRunning = false;
        };

        var btForm = $(brainTreeSubmitButton).closest('form');

        if ($(btForm) != null && $(btForm).length > 0) {
            var id = $(btForm).attr('id');
            $('#' + id).keypress(function (e) {
                let orderType = ($('input[name=OrderType]:checked').val() || '').toLowerCase();
                if (e.keyCode == 13 && (orderType == 'card,braintree' || orderType == '')) {
                    e.preventDefault();
                    $(brainTreeSubmitButton).click();
                    return false;
                }
            });
        }

        brainTreeSubmitButton.bind('click', function () {
            if (isRunning) {
                console.log("braintree running...");
                return false;
            }


            isRunning = true;

            if (clientToken == null
                || (typeof (paypalInstance) == "undefined" && "false" == "true")
                || (typeof (paypalCheckoutInstance) == "undefined" && "true" == "true")
                || (typeof (venmoInstance) == "undefined" && "false" == "true")
                || (typeof (applePayInstance) == "undefined" && "false" == "true"
                    && window.ApplePaySession && ApplePaySession.canMakePayments())) {
                getClientToken();
                isRunning = false;
                return false;
            }
            var orderType = ($('input[name=OrderType]:checked').val() || '').toLowerCase();
            var isBrainTreeMode = orderType.indexOf('braintree') > -1;
            var shoppingCart = typeof (_dtmShoppingCart) != "object" ? null : _dtmShoppingCart;

            if (shoppingCart != null) {
                if (shoppingCart.Count() > 0) {
                    shoppingCart.RemoveErrors(["Please select a product!"]);
                } else {
                    shoppingCart.AddErrors(["Please select a product!"]);
                    isRunning = false;
                    return false;
                }
            }

            if (!isBrainTreeMode) {
                isRunning = false;
                submitButton.trigger('click');
            } else {
                togglePhoneValidation(orderType.indexOf('paypal') > -1 && "True" == "True");

                
                if (orderType.indexOf('applepay') < 0
                    && orderType.indexOf('paypal') < 0
                    && orderType.indexOf('venmo') < 0) {
                    if (hostedFieldsInstance == null) {
                        if (shoppingCart == null) {
                            alert(hostedFieldsInstanceError);
                        } else {
                            shoppingCart.AddErrors([hostedFieldsInstanceError]);
                        }
                    } else {
                        hostedFieldsInstance.tokenize(function (tokenizeErr, payload) {
                            handlePaymentMethodReceived(tokenizeErr, payload);
                        });
                    }
                }
            }
            isRunning = false;
            return false;
        });
        
    });

    function hasProducts() {
        if (typeof (customPaypalValidation) == 'function') {
            return customPaypalValidation();
        }

        var shoppingCart = typeof (_dtmShoppingCart) != "object" ? null : _dtmShoppingCart;

        if (shoppingCart != null && shoppingCart.Count() > 0) {
            var total = 0;
            $.each(shoppingCart.Items(), function (i, v) { total += v.qty; });
            return total > 0;
        } else if (shoppingCart != null) {
            return false;
        }
    }

    function toggleButton(actions) {

        if (typeof (customBraintreeToggleButton) == "function") {
            return customBraintreeToggleButton(hasProducts(),actions);
        }

        return hasProducts() ? actions.enable() : actions.disable();
    }

    function setupValidation(actions) {
        toggleButton(actions);
        registerEvent("CartChange", function () { toggleButton(actions) });
    }

    function toggleValidationMessage() {
        if (!hasProducts()) { _dtm.alert("Please select a product!"); }
        if (typeof (customBraintreeValidation) == "function") {
             customBraintreeValidation();
        }
        triggerEvent("CancelSurveyFire");

    }

    function validateState() {
        var item = ["Billing", "Shipping"];
        var error = 0;
        var errorMessage = ["Please see errors below:"];

        for (var i = 0; i < item.length; i++) {
            if ($('#' + item[i] + "State").val() == null) {
                errorMessage.push(item[i] + " country is invalid. Please return to PayPal to update.");
                error++;
            }
        }

        if (error > 0) {
            var erroMessageString = errorMessage.join('\n');
            _dtm.alert(erroMessageString, $('.vse'), function (a, b) {
                b.fadeIn();
            });
            $("#billingInformation").show();
            $("#ShippingIsSame").show();
            $("#shippingInformation").show();
            $("#AcceptOfferButton").hide();
            $('#paymentForm').show();
        } else {
            $('.vse').empty();
        }

    }
    
</script>


<!-- 
    Load `web-vitals` using a classic script that sets the global `webVitals` object.
    https://github.com/GoogleChrome/web-vitals
 -->
<script defer src="https://cddt.dtmstage.com/shared/js/web-vitals/dist/first-input-delay.min.js"></script>
<script defer src="https://cddt.dtmstage.com/shared/js/web-vitals/dist/web-vitals.es5.umd.min.js"></script>
<script>
    addEventListener('DOMContentLoaded', function() {
        // webVitals.getCLS(console.log, true);
        // webVitals.getFID(console.log);
        // webVitals.getFCP(console.log);
        // webVitals.getLCP(console.log);
        // webVitals.getTTFB(console.log);

		const hud = document.querySelector(".hud");
		if (!hud) return;

		document.body.append(hud);
    });
</script>
<link rel="stylesheet" href="https://cddt.dtmstage.com/shared/hud/css/hud.css?v=6.0.1722.1545" />
<script src="https://cddt.dtmstage.com/shared/js/moment.min.js?v=6.0.1722.1545"></script>

<!-- // BEGIN Hud Template -->
<div class="hud">
    <div class="dtmhud-radial-menu">
        <div class="dtmhud-mask">
            
<svg class="hud__svg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="362.215px" height="108.66px" viewBox="0 0 362.215 108.66" enable-background="new 0 0 362.215 108.66"
	 xml:space="preserve">
<g class="animate hud__svg__dtm">
	<path class="letter__d" fill="#EDC936" d="M100.38,97.328h7.452c8.383,0,12.263-4.191,12.263-12.574V23.903c0-8.381-3.88-12.572-12.263-12.572h-7.452
		V97.328z M87.963,0h20.49c16.299,0,24.06,7.76,24.06,24.061v60.538c0,16.299-7.761,24.061-24.06,24.061h-20.49V0z"/>
	<polygon class="letter__t" fill="#EDC936" points="164.562,108.66 164.562,11.486 148.263,11.486 148.263,0 193.28,0 193.28,11.486 176.981,11.486
		176.981,108.66 	"/>
	<polygon class="letter__m" fill="#EDC936" points="275.877,0 275.877,108.66 263.769,108.66 263.769,18.783 248.868,108.66 236.139,108.66
		221.238,18.783 221.238,108.66 209.44,108.66 209.44,0 228.998,0 242.815,85.686 256.627,0 	"/>
</g>
<g class="animate hud__svg__brackets">
	<g class="animate hud__svg__bracket-left">
		<polygon fill="#EDC936" points="11.676,54.589 53.803,12.37 53.803,0.72 0,54.643 53.803,108.088 53.803,96.437 	"/>
		<polygon fill="#333333" class="bracket__in" points="33.688,54.633 53.962,34.324 53.962,23.243 22.595,54.691 53.962,85.849 53.962,74.771 	"/>
		<polyline fill="#333333" class="bracket__in" points="53.976,64.243 44.257,54.59 53.976,44.847 	"/>
	</g>
	<g class="animate hud__svg__bracket-right">
		<polygon fill="#EDC936" points="308.413,0.72 308.413,12.37 350.538,54.22 308.413,96.441 308.413,108.089 362.215,54.166 	"/>
		<polygon fill="#333333" class="bracket__in" points="308.255,22.958 308.255,34.041 328.527,54.176 308.255,74.484 308.255,85.567 339.621,54.118 	"/>
		<polyline fill="#333333"  class="bracket__in" points="308.24,44.567 317.958,54.22 308.24,63.962 	"/>
	</g>
</g>
</svg>

        </div>
    </div>
    <div class="hud__overlay">
        <!--
        <div class="hud__header">
            <div class="dtmhud-mask-anchor"></div>
            <div class="hud__title">HUD</div>
        </div>
        <div class="hud__body"></div>g
        -->
    </div>
</div>

<!-- // END Hud Template -->
<script id="track_script_hud">
    (function ($) {

        // Detect touch support
        $.support.touch = 'ontouchend' in document;

        // Ignore browsers without touch support
        if (!$.support.touch) {
            return;
        }

        var mouseProto = $.ui.mouse.prototype,
            _mouseInit = mouseProto._mouseInit,
            _mouseDestroy = mouseProto._mouseDestroy,
            touchHandled;

        /**
         * Simulate a mouse event based on a corresponding touch event
         * @param {Object} event A touch event
         * @param {String} simulatedType The corresponding mouse event
         */
        function simulateMouseEvent(event, simulatedType) {

            // Ignore multi-touch events
            if (event.originalEvent.touches.length > 1) {
                return;
            }

            event.preventDefault();

            var touch = event.originalEvent.changedTouches[0],
                simulatedEvent = document.createEvent('MouseEvents');

            // Initialize the simulated mouse event using the touch event's coordinates
            simulatedEvent.initMouseEvent(
                simulatedType,    // type
                true,             // bubbles
                true,             // cancelable
                window,           // view
                1,                // detail
                touch.screenX,    // screenX
                touch.screenY,    // screenY
                touch.clientX,    // clientX
                touch.clientY,    // clientY
                false,            // ctrlKey
                false,            // altKey
                false,            // shiftKey
                false,            // metaKey
                0,                // button
                null              // relatedTarget
            );

            // Dispatch the simulated event to the target element
            event.target.dispatchEvent(simulatedEvent);
        }

        /**
         * Handle the jQuery UI widget's touchstart events
         * @param {Object} event The widget element's touchstart event
         */
        mouseProto._touchStart = function (event) {

            var self = this;

            // Ignore the event if another widget is already being handled
            if (touchHandled || !self._mouseCapture(event.originalEvent.changedTouches[0])) {
                return;
            }

            // Set the flag to prevent other widgets from inheriting the touch event
            touchHandled = true;

            // Track movement to determine if interaction was a click
            self._touchMoved = false;

            // Simulate the mouseover event
            simulateMouseEvent(event, 'mouseover');

            // Simulate the mousemove event
            simulateMouseEvent(event, 'mousemove');

            // Simulate the mousedown event
            simulateMouseEvent(event, 'mousedown');
        };

        /**
         * Handle the jQuery UI widget's touchmove events
         * @param {Object} event The document's touchmove event
         */
        mouseProto._touchMove = function (event) {

            // Ignore event if not handled
            if (!touchHandled) {
                return;
            }

            // Interaction was not a click
            this._touchMoved = true;

            // Simulate the mousemove event
            simulateMouseEvent(event, 'mousemove');
        };

        /**
         * Handle the jQuery UI widget's touchend events
         * @param {Object} event The document's touchend event
         */
        mouseProto._touchEnd = function (event) {

            // Ignore event if not handled
            if (!touchHandled) {
                return;
            }

            // Simulate the mouseup event
            simulateMouseEvent(event, 'mouseup');

            // Simulate the mouseout event
            simulateMouseEvent(event, 'mouseout');

            // If the touch interaction did not move, it should trigger a click
            if (!this._touchMoved) {

                // Simulate the click event
                simulateMouseEvent(event, 'click');
            }

            // Unset the flag to allow other widgets to inherit the touch event
            touchHandled = false;
        };

        /**
         * A duck punch of the $.ui.mouse _mouseInit method to support touch events.
         * This method extends the widget with bound touch event handlers that
         * translate touch events to mouse events and pass them to the widget's
         * original mouse event handling methods.
         */
        mouseProto._mouseInit = function () {

            var self = this;

            // Delegate the touch handlers to the widget's element
            self.element.bind({
                touchstart: $.proxy(self, '_touchStart'),
                touchmove: $.proxy(self, '_touchMove'),
                touchend: $.proxy(self, '_touchEnd')
            });

            // Call the original $.ui.mouse init method
            _mouseInit.call(self);
        };

        /**
         * Remove the touch event handlers
         */
        mouseProto._mouseDestroy = function () {

            var self = this;

            // Delegate the touch handlers to the widget's element
            self.element.unbind({
                touchstart: $.proxy(self, '_touchStart'),
                touchmove: $.proxy(self, '_touchMove'),
                touchend: $.proxy(self, '_touchEnd')
            });

            // Call the original $.ui.mouse destroy method
            _mouseDestroy.call(self);
        };

    })(jQuery);

    (function (dtmHud, $) {
        //Private Property
        var active1 = false;
        var cardTypes = null;

        var currentPage;
        var firstView = true;
        var defer = new $.Deferred();

        var $body = $('body');

        //Public Property
        dtmHud.setLinks = {};
        dtmHud.lastCardType = 'visa';

        //Public Address Collection
        dtmHud.addresses = [];
        dtmHud.addresses["Florida"] = { street: "224 Datura St", street2: "Ste 1300", city: "West Palm Beach", state: "FL", zip: "33401", country: "USA" };
        dtmHud.addresses["Georgia"] = { street: "3149 Welmingham Dr SW", street2: "", city: "Atlanta", state: "GA", zip: "30331", country: "USA" };
        dtmHud.addresses["Indiana"] = { street: "8001 Broadway", street2: "Ste 201", city: "Merrillville", state: "IN", zip: "46410", country: "USA" };
        dtmHud.addresses["California"] = { street: "4140 Redding St", street2: "", city: "Oakland", state: "CA", zip: "94619", country: "USA" };
        dtmHud.addresses["Connecticut"] = { street: "132 Terry Rd", street2: "", city: "HARTFORD", state: "CT", zip: "06105", country: "USA" };
        dtmHud.addresses["New Jersey"] = { street: "10 Charles Drive", street2: "", city: "Fairfield", state: "NJ", zip: "07004", country: "USA" };
        dtmHud.addresses["Nevada"] = { street: "1001 Shadow Ln", street2: "", city: "Las Vegas", state: "NV", zip: "89106", country: "USA" };
        dtmHud.addresses["New York"] = { street: "250 Joralemon St", street2: "", city: "Brooklyn", state: "NY", zip: "11201", country: "USA" };
        dtmHud.addresses["Ohio"] = { street: "2726 W Market St", street2: "", city: "Akron", state: "OH", zip: "44333", country: "USA" };
        dtmHud.addresses["Vermont"] = { street: "1 College St", street2: "", city: "Burlington", state: "VT", zip: "05401", country: "USA" };
        dtmHud.addresses["Pennsylvania"] = { street: "1 Pennsylvania Ave", street2: "", city: "Hanover", state: "PA", zip: "17331", country: "USA" };
        dtmHud.addresses["Utah"] = { street: "8857 S 500 E", street2: "", city: "Sandy", state: "UT", zip: "84070", country: "USA" };
        dtmHud.addresses["Washington"] = { street: "1620 N Monroe St", street2: "", city: "Spokane", state: "WA", zip: "99205", country: "USA" };
        dtmHud.addresses["Hawaii"] = { street: "1164 Bishop St", street2: "Ste 124", city: "Honolulu", state: "HI", zip: "96813", country: "USA" };
        dtmHud.addresses["Alaska"] = { street: "930 Quiet Creek Dr", street2: "", city: "Homer", state: "AK", zip: "99603", country: "USA" };
        dtmHud.addresses["Puerto Rico"] = { street: "200 Convention Boulevard", street2: "", city: "San Juan", state: "PR", zip: "00907", country: "USA" };
        dtmHud.addresses["Guam"] = { street: "1475 Pale San Vitores Rd", street2: "", city: "Tamuning", state: "GU", zip: "96913", country: "USA" };
        dtmHud.addresses["Virgin Islands"] = { street: "6900 Great Bay", street2: "", city: "St. Thomas", state: "VI", zip: "00802", country: "USA" };
        dtmHud.addresses["Canada"] = { street: "2 Carlton St", street2: "Ste 1400", city: "Toronto", state: "ON", zip: "M5B 1J3", country: "CAN" };


        dtmHud.addresses.sort(function (a, b) {
            if (a.key < b.key) return -1;
            if (a.key > b.key) return 1;
            return 0;
        });

        // Public Logo Methods
        dtmHud.gfx = {
            logo: {
                group: $('.hud__svg'),
                br: {},
                abbr: {}
            }
        }
        dtmHud.gfx.logo.br.group = dtmHud.gfx.logo.group.find('.hud__svg__brackets');
        dtmHud.gfx.logo.br.left = dtmHud.gfx.logo.br.group.find('.hud__svg__bracket-left');
        dtmHud.gfx.logo.br.right = dtmHud.gfx.logo.br.group.find('.hud__svg__bracket-right');
        dtmHud.gfx.logo.br.child = dtmHud.gfx.logo.br.group.find('.bracket__in');
        dtmHud.gfx.logo.abbr.group = dtmHud.gfx.logo.group.find('.hud__svg__dtm');
        dtmHud.gfx.logo.abbr.d = dtmHud.gfx.logo.abbr.group.find('.letter__d');
        dtmHud.gfx.logo.abbr.t = dtmHud.gfx.logo.abbr.group.find('.letter__t');
        dtmHud.gfx.logo.abbr.m = dtmHud.gfx.logo.abbr.group.find('.letter__m');

        // Public Template Builder
        dtmHud.getTemplate = function () {
            var $stylesheet = $('<link/>', {
                rel: 'stylesheet',
                type: 'text/css',
                href: '/shared/hud/css/template.css'
            }).appendTo('body');

            $stylesheet.load(function () {
                $.get('/shared/hud/view/template.html', function (response) {
                    $(response).appendTo($('.hud__overlay'));
                    $('.hud').addClass('is-ready');
                    firstView = false;
                    defer.resolve();
                });
            });

            return defer.promise();
        };

        dtmHud.removeRecaptcha = function () {
            if (typeof $('.g-recaptcha') != "undefined") {
                $('.g-recaptcha').remove();
            } 
        };

        // Public Page Finder
        dtmHud.getPage = function (page, callback) {
            if (page !== currentPage) {
                var makeRequest = function () {
                    callback = callback || function () { };
                    $.get('/shared/hud/view/' + page + '.html', function (response) {
                        $('.hud__header').removeClass('is-showing-' + currentPage);
                        currentPage = page;
                        active1 = false;
                        $('.hud__body').html(response);
                        $('.hud__header').addClass('is-showing-' + page);
                        $('.hud__header [data-hud-page-title]').text(page);
                        dtmHud.onMenuAction(true);
                        $('.hud').show();
                        $('.hud__overlay').addClass('is-overlayed');
                        $('.dtmhud-mask').appendTo($('.dtmhud-mask-anchor'));
                        callback();
                    });
                };

                if (firstView) {
                    dtmHud.getTemplate().done(makeRequest);
                } else {
                    makeRequest();
                }
            } else {
                $('.hud').show();
                $('.hud__overlay').addClass('is-overlayed');
                $('.dtmhud-mask').appendTo($('.dtmhud-mask-anchor'));
            }
        };

        // Public Module Builder
        dtmHud.build = {};
        dtmHud.build.getGridTile = function (options) {
            options = options || {};

            var $tile = $('<div/>', { class: 'hud__tile' });

            if (options.img) {
                var $imgdiv = $('<div/>', { class: 'hud__tile--img' });
                var $img = $('<img/>', { src: options.img });

                $img.appendTo($imgdiv);
                $imgdiv.appendTo($tile);
            }

            if (options.html) {
                var $html = $('<div/>', { class: 'hud__tile--img', html: options.html });
                $html.appendTo($tile);
            }

            if (options.info) {
                var $info = $('<div/>', { class: 'hud__tile--info' });
                $info.appendTo($tile);

                if (options.title) {
                    var $title = $('<div/>', {
                        class: 'hud__info--title',
                        text: options.title
                    });
                    $title.appendTo($info);
                }

                if (options.metadata) {
                    var $metadata = $('<div/>', {
                        class: 'hud__info--metadata',
                        html: options.metadata
                    });
                    $metadata.appendTo($info);
                }
            }

            if (options.callback && typeof options.callback === 'function') {
                options.callback($tile);
            }

            return $tile;
        };

        //Public Method
        dtmHud.cart = function () {
            $.post('/shared/services/dtmhud.ashx?cmd=cart&covid=fb638b29-2a62-ee11-8b98-a0369f1303c7', function (response) {
                console.log(response);
                var htmlContent = '<div style="padding: 10px">';
                htmlContent += 'Whats in my Cart <br>Cookie Date: '
                    + moment(response.CookieDate).format('M/D/YYYY h:mm:ss A') + '<br/>Visitor Exp. '
                    + moment(response.VisitorExpirationDate).format('M/D/YYYY h:mm:ss A') + '<br/>Order Exp. '
                    + moment(response.OrderExpirationDate).format('M/D/YYYY h:mm:ss A');


                if (response.cart) {
                    htmlContent += '<h4>Cart Items (DtmContext.ShoppingCart)&nbsp;<i class="fa fa-info-circle dtmhud-help-toggle"></i>' +
                        '<div class="dtmhud-help-toggleme dtmhud-help">' +
                        '<p>Cart items are persisted to the visitor session but do not belong to an order.</p>' +
                        '<p>These items are stored in this manner to keep state between refreshes or page navigations since an order does not exist yet.</p>' +
                        '</div></h4>';
                    htmlContent += renderItemsToTable(response.cart);
                }

                if (response.order && response.OrderId > 0) {
                    htmlContent += '<h4>Order Items (DtmContext.Order.OrderItems)&nbsp;<i class="fa fa-info-circle dtmhud-help-toggle"></i>' +
                        '&nbsp;<a target="_blank" href="https://international.digitaltargetmarketing.com/OrderManager.mvc/OrderDetails?orderId=' +
                        response.OrderId + '">View in CM</a>' +
                        '<div class="dtmhud-help-toggleme dtmhud-help">' +
                        '<p>Orders items are persisted to the order, these are the final items that will be exported and reportable.</p>' +
                        '</div></h4>';
                    htmlContent += renderItemsToTable(response.order);
                }

                if (response.rollbackEnabled) {
                    htmlContent += '<h4>Rollback Order Items (DtmContext.Order.ContextOrderItems)&nbsp;<i class="fa fa-info-circle dtmhud-help-toggle"></i>' +
                        '<div class="dtmhud-help-toggleme dtmhud-help">' +
                        '<p>Rollback Orders actions/items are not persisted to the order immediately.</p>' +
                        '<p>Actions after the index page are stored in a &quot;rollback&quot; bucket and are not persisted to the order until the user reaches the confirmation page.</p>' +
                        '</div></h4>';
                    htmlContent += renderItemsToTable(response.rollbackOrder);
                }
                htmlContent += '</div>';
                $.fancybox.open({
                    autoSize: false,
                    type: 'html',
                    content: htmlContent,
                    width: '80%',
                    height: '80%'
                });
            });
        };

        dtmHud.getSettings = function () {
            var $spotlight = $('<div class="hud--spotlight"><input class="spotlight__input" type="text" /></div>');
            $.fancybox({
                wrapCSS: 'fancybox--spotlight',
                content: $spotlight,
                beforeShow: function () {
                    $('.spotlight__input').keyup(function (event) {
                        if (event.keyCode == 13) {
                            var getSetting = $(this).val();
                            // get data from Setting service
                            $.post('/Shared/Services/GetSetting.ashx?getSetting=' + getSetting, function (data) {
                                if (data.length > 0) {
                                    console.log(data);
                                }
                            });
                        }
                    });
                },
            });
        };

        dtmHud.card = function () {
            if (cardTypes == null) {
                var cardNumbers = "4556162510588781,5432406724858499,5178052467438137,378282246310005,6011111111111117,5555555555554444,4444333322221111,4408041021101088,6011000990139424,4929343978169740,4012888888881881,371449635398431,5119282427392932,5431111111111111,341111111111111,6011601160116611,379601494832007,4111111111111111,3530111333300000,2223000048400011,4012000077777777,4217651111111119,2223000048400011,4012000077777777,4217651111111119,6011000990139424"
                    .split(',');
                // group by card type, take 1 per group, ax, m, d, v
                var types = [];
                for (var i = 0; i < cardNumbers.length; i++) {
                    var cn = cardNumbers[i];
                    var type = getCardType(cn);
                    var code = type.code;

                    if (types[type.name] == null) {
                        types[type.name] = { code: code, cn: cn };
                    }
                }
                cardTypes = types;
            }
        };

        jQuery.fn.outer = function () {
            return $($('<div></div>').html(this.clone())).html();
        }

        //Private Methods

        function onHelpToggle(event) {
            $(this).parent().find('.dtmhud-help').slideToggle();
        }

        function getCardType(number) {
            // visa
            var re = new RegExp("^4");
            if (number.match(re) != null)
                return { name: "visa", code: "v" };

            // Mastercard
            re = new RegExp("^5[1-5]");
            if (number.match(re) != null)
                return { name: "mastercard", code: "m" };

            // AMEX
            re = new RegExp("^3[47]");
            if (number.match(re) != null)
                return { name: "amex", code: "a" };

            // Discover
            re = new RegExp("^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)");
            if (number.match(re) != null)
                return { name: "discover", code: "d" };

            // Diners
            re = new RegExp("^36");
            if (number.match(re) != null)
                return "Diners";

            // Diners - Carte Blanche
            re = new RegExp("^30[0-5]");
            if (number.match(re) != null)
                return "Diners - Carte Blanche";

            // JCB
            re = new RegExp("^(?:2131|1800|35[0-9]{3})[0-9]{11}$");
            if (number.match(re) != null)
                return { name: "jcb", code: "j" };

            // Visa Electron
            re = new RegExp("^(4026|417500|4508|4844|491(3|7))");
            if (number.match(re) != null)
                return "Visa Electron";

            return "";
        }

        function getTestAddress(isFloridaUser, location) {
            var value = isFloridaUser ? dtmHud.addresses["Florida"] : dtmHud.addresses["Indiana"];
            if (location != null && location.length > 0 && dtmHud.addresses.hasOwnProperty(location)) {
                value = dtmHud.addresses[location];
            }

            return value;
        }

        dtmHud.onSelectCardType = function (type, showLocationDialog, location) {
            var cardNumber = cardTypes[type].cn;
            var expMonth = "05";
            var expYear = "2025";
            var firstName = "Tester";// make request to CM to get username, if user is currently authenticated to CM, it should return you the name, if not leave default Tester
            var lastName = "Unknown";
            var fullName = firstName + " " + lastName;
            var isFloridaUser = "False".toLowerCase() == "true";
            dtmHud.lastCardType = type;
            var closeHud = false;

            var email = firstName + "@digitaltargetmarketing.com";
            var phone = "555-555-5555";
            var cvv = type == "amex" ? "1234" : "123"

            var address = {};
            if (showLocationDialog != null && showLocationDialog && location == null) {
                dtmHud.getPage('locations', function () { currentPage = ''; });
            }
            else if (location != null) {
                address = getTestAddress(isFloridaUser, location);
                closeHud = true;
            }
            else {
                address = getTestAddress(isFloridaUser);
            }

            var formValues =
                {
                    firstName: firstName,
                    lastName: lastName,
                    fullName: fullName,
                    street: address.street,
                    street2: address.street2,
                    city: address.city,
                    state: address.state,
                    zip: address.zip,
                    country: address.country,
                    cardNumber: cardNumber,
                    expMonth: expMonth,
                    expYear: expYear,
                    cvv2: cvv,
                    email: email,
                    phone: phone
                };

            if ($('.checkout-option').length > 0) {
                // select card type
                $('#otCARD').trigger('click');
            }

            if (closeHud) {
                dtmHud.onMenuAction();
            }

            $.scrollTo('#paymentForm');
            setFormValue('#BillingFirstName', formValues.firstName);
            setFormValue('#BillingLastName', formValues.lastName);
            setFormValue('#BillingFullName', formValues.fullName);
            setFormValue('#BillingName', formValues.fullName);
            setFormValue('#BillingStreet', formValues.street);
            setFormValue('#BillingStreet2', formValues.street2);
            setFormValue('#BillingCity', formValues.city);
            setFormValue('#BillingState', formValues.state);
            setFormValue('#BillingZip', formValues.zip);
            setFormValue('#BillingCountry', formValues.country);
            setFormValue('#CardNumber', formValues.cardNumber, true);
            setFormValue('#CardExpirationMonth', formValues.expMonth);
            setFormValue('#CardExpirationYear', formValues.expYear);
            setFormValue('#CardCvv2', formValues.cvv2);
            setFormValue('#Email', formValues.email);
            setFormValue('#Phone', formValues.phone);

            history.pushState(null, null, '?cc=' + cardTypes[type].code);
        }

        function setFormValue(target, value , triggerChange) {
            if ($(target).length > 0) {
                var setValue = false;
                if ($(target).is("select")) {
                    if ($(target + ' option[value="' + value + '"]').length > 0
                        || $(target + ' option:contains("' + value + '")').length > 0) {
                        setValue = true;
                    }
                } else {
                    setValue = true;
                }

                if (setValue) {
                    $(target).val(value);
                }

                if (triggerChange != null && triggerChange){
                     $(target).change();
                }
                
            }
        }

        function showPopup() {
            $('.dtmhud-overlay')
                .css('visibility', 'visible')
                .css('opacity', 1);
        }

        function onClose() {
            $('.dtmhud-overlay')
                .css('visibility', 'hidden')
                .css('opacity', 0);
        }

        function renderItemsToTable(items) {
            /*
            {
                ProductName,
                ProductSku,
                ProductCode,
                ProductType,
                Price,
                Shipping,
                Quantity
            }
            */
            var htmlContent = '';
            htmlContent += '<table class="orderItemsTable reviewTable">';
            htmlContent += '<thead class="reviewTableHead"><tr><th>Product Code</th><th>Product</th><th>Price</th><th>Shipping</th><th>Qty</th></tr></thead>';
            htmlContent += '<tbody>';
            for (var i = 0; i < items.length; i++) {
                var item = items[i];
                htmlContent += '<tr>' +
                    '<td>' + item.ProductCode + '</td>' +
                    '<td>' + item.ProductName + '</td>' +
                    '<td>' + item.Price + '</td>' +
                    '<td>' + item.Shipping + '</td>' +
                    '<td>' + item.Quantity + '</td>' +
                    '</tr>';
            }
            htmlContent += '</tbody>';
            htmlContent += '</table>';
            return htmlContent;
        }

        dtmHud.onMenuAction = function (preventDefaultPage) {
            active1 === false ? dtmHud.openAnimation(dtmHud.gfx.logo, preventDefaultPage) : dtmHud.closeAnimation(dtmHud.gfx.logo);
            active1 = !active1;
        }

        dtmHud.openAnimation = function (_, preventDefaultPage) {

            _.group.attr('data-animate', 'scale-down');
            _.br.group.css('transform', 'rotate(0)');
            _.br.child.attr('data-animate', 'fade-out');

            $.each([_.br.left, _.br.right], function (k, v) {
                v.attr('data-animate', 'horizontal-out');
            });

            $.each([_.abbr.d, _.abbr.t, _.abbr.m], function (k, v) {
                v.attr('data-animate', 'vertical-in');
            });

            _.abbr.group.attr('data-animate', 'fade-in');

            if (!preventDefaultPage || typeof preventDefaultPage !== 'boolean') {
                dtmHud.getPage(currentPage || 'hud');
            }

        };

        dtmHud.closeAnimation = function (_, status) {
            switch (status) {

                // switch toggles to close animation position
                case 1:
                default:

                    _.br.child.attr('data-animate', 'fade-in');
                    $.each(['left', 'right'], function (k, v) {
                        _.br[v].attr('data-animate', 'horizontal-in-' + v);
                    });

                    $.each([_.abbr.d, _.abbr.m], function (k, v) {
                        v.attr('data-animate', 'vertical-out-down');
                    });

                    _.abbr.t.attr('data-animate', 'vertical-out-top');
                    _.abbr.group.attr('data-animate', 'fade-out');

                    $('.dtmhud-mask').appendTo($('.dtmhud-radial-menu'));

                    break;

                // update transiton states after CSS animation is complete
                case 2:

                    _.group.attr('data-animate', 'scale-up');
                    _.br.group.attr('data-animate', 'spin-out')
                        .removeAttr('style');

                    _.br.group.removeAttr('data-animate');

                    break;

            }

            $('.hud__overlay').removeClass('is-overlayed');

        };

        // define a handler
        function filterKeystroke(e) {
            // key command G translates to key code 71
            if (e.altKey && e.keyCode === 71) {
                if (currentPage !== 'graphics') {
                    dtmHud.getPage('graphics', function () {
                        dtmHud.getGraphics('shop');
                    });
                } else {
                    dtmHud.onMenuAction();
                }
                return false;
            }

            // key command L translates to key code 76
            if (e.altKey && e.keyCode === 76) {
                if (currentPage !== 'links') {
                    dtmHud.getPage('links');
                } else {
                    dtmHud.onMenuAction();
                }
                return false;
            }

            // key command V translates to key code 86
            if (e.altKey && e.keyCode === 86) {
                dtmHud.onSelectCardType('visa', e.ctrlKey);
                dtmHud.closeAnimation(dtmHud.gfx.logo);
            }

            // key command M translates to key code 77
            if (e.altKey && e.keyCode === 77) {
                dtmHud.onSelectCardType('mastercard', e.ctrlKey);
                //if (!e.ctrlKey) {
                //    dtmHud.closeAnimation(dtmHud.gfx.logo);
                //}
            }

            // key command A translate to key code 65
            if (e.altKey && e.keyCode === 65) {
                dtmHud.onSelectCardType('amex', e.ctrlKey);
                dtmHud.closeAnimation(dtmHud.gfx.logo);
            }

            // key command D translate to key code 68
            if (e.altKey && e.keyCode === 68) {
                dtmHud.onSelectCardType('discover', e.ctrlKey);
                dtmHud.closeAnimation(dtmHud.gfx.logo);
            }

            // key command J translate to key code 74
            if (e.altKey && e.keyCode === 74) {
                dtmHud.onSelectCardType('jcb', e.ctrlKey);
                dtmHud.closeAnimation(dtmHud.gfx.logo);
            }


            // key command S to translate to key code 83
            if (e.altKey && e.keyCode === 83) {
                console.log(dtmHud.getSettings());
            }

            //// key command C to translate to key code 67
            //if (e.altKey && e.keyCode === 67) {
            //    console.log(dtmHud.snippet());
            //}

            // key command T to translate to key code 84
            if (e.altKey && e.keyCode === 84) {
                console.log(dtmHud.cart());
            }

            // key command R to translate to key code 84
            if (e.altKey && e.keyCode === 82) {
                dtmHud.removeRecaptcha();
            }
        }

        // Events
        $(document).ready(function () {
            // cache body element
            var $body = $('body');

            $('.dtmhud-mask').on('click', dtmHud.onMenuAction);
            $('.dtmhud-close').on('click', onClose);
            $('body').on('click', '.dtmhud-help-toggle', onHelpToggle);

            try {
                $('.dtmhud-radial-menu').draggable();
            } catch (e) {
                console.warn(e.message);
            }

            $('body').on('click', '[data-hud-page]', function () {
                var page = $(this).data('hud-page');
                dtmHud.getPage(page);
            });

            $('body').on('click', '[data-recaptcha]', function () {
                dtmHud.removeRecaptcha();
                dtmHud.onMenuAction();
            });

            // register the handler
            document.addEventListener('keyup', filterKeystroke, false);

            // force SVG to anchor at the center origin
            dtmHud.gfx.logo.br.group.css('transform', 'rotate(90deg)');

            dtmHud.gfx.logo.abbr.group.on('oanimationend msAnimationEnd animationend', function () {
                // we only want to run during the closing animation phase

                if ($(this).attr('data-animate') === 'fade-out') {
                    dtmHud.closeAnimation(dtmHud.gfx.logo, 2);
                }
            });

            dtmHud.card();

            // check if query contains special getgraphics with parameter
            if (window.location.search.match(/getgraphics=/g)) {
                // fetch value of getgraphics (should match a folder name)
                
                dtmHud.getPage('graphics', function () {
                    //dtmHud.onMenuAction(true);
                    dtmHud.getGraphics('');
                });
            }

            // check if query contains special autofill with parameter
            if (window.location.search.match(/cc=/g)) {
                // check if query contains visa
                if (window.location.search.match(/cc=v/g)) {
                    dtmHud.onSelectCardType('visa');
                    // check if query contains master card
                } else if (window.location.search.match(/cc=m/g)) {
                    dtmHud.onSelectCardType('mastercard');
                    // check if query contains amex
                } else if (window.location.search.match(/cc=a/g)) {
                    dtmHud.onSelectCardType('amex');
                    // check if query contains discover
                } else if (window.location.search.match(/cc=d/g)) {
                    dtmHud.onSelectCardType('discover');
                }
                else if (window.location.search.match(/cc=j/g)) {
                    dtmHud.onSelectCardType('jcb');
                }
            }

            if (window.location.search.match(/linkcheck/g)) {
                dtmHud.getPage('links');
            }

            if (window.location.search.match(/perfcheck/g)) {
                dtmHud.getPage('performance');
            }
            //if (window.location.search.match(/snippet[=]/g)) {
            //    dtmHud.snippet();
            //    $.scrollTo('[data-sn-id="' + QueryString.snippet + '"].dtm-sn-footer');
            //}
        });
    }(window.dtmHud = window.dtmHud || {}, jQuery));
</script>

<link rel="stylesheet" href="https://cddt.dtmstage.com/shared/hud/css/popover.css">

<script src="https://cddt.dtmstage.com/shared/js/dtm-form-listener.js" defer></script>
<script>
    (function () {
        if (window.dtmFormListener) {
            window.dtmFormListener.Init();
        } else {
            addEventListener("DTMFormListenerReady", function () {
                window.dtmFormListener.Init();
            });
        }
    })();
</script>

</div>

		<svg class="svg-symbols">
			<symbol id="icon-chevron" x="0px" y="0px" viewBox="0 0 5.3 8.2" style="enable-background:new 0 0 5.3 8.2;">
            	<path d="M0.8,4.2 M0.8,4.2L4,1 M4,7.4L0.8,4.2"/>
			</symbol>
			<symbol id="icon-instagram" viewBox="0 0 32 32">
				<path d="M16 2.881c4.275 0 4.781 0.019 6.462 0.094 1.563 0.069 2.406 0.331 2.969 0.55 0.744 0.288 1.281 0.638 1.837 1.194 0.563 0.563 0.906 1.094 1.2 1.838 0.219 0.563 0.481 1.412 0.55 2.969 0.075 1.688 0.094 2.194 0.094 6.463s-0.019 4.781-0.094 6.463c-0.069 1.563-0.331 2.406-0.55 2.969-0.288 0.744-0.637 1.281-1.194 1.837-0.563 0.563-1.094 0.906-1.837 1.2-0.563 0.219-1.413 0.481-2.969 0.55-1.688 0.075-2.194 0.094-6.463 0.094s-4.781-0.019-6.463-0.094c-1.563-0.069-2.406-0.331-2.969-0.55-0.744-0.288-1.281-0.637-1.838-1.194-0.563-0.563-0.906-1.094-1.2-1.837-0.219-0.563-0.481-1.413-0.55-2.969-0.075-1.688-0.094-2.194-0.094-6.463s0.019-4.781 0.094-6.463c0.069-1.563 0.331-2.406 0.55-2.969 0.288-0.744 0.638-1.281 1.194-1.838 0.563-0.563 1.094-0.906 1.838-1.2 0.563-0.219 1.412-0.481 2.969-0.55 1.681-0.075 2.188-0.094 6.463-0.094zM16 0c-4.344 0-4.887 0.019-6.594 0.094-1.7 0.075-2.869 0.35-3.881 0.744-1.056 0.412-1.95 0.956-2.837 1.85-0.894 0.888-1.438 1.781-1.85 2.831-0.394 1.019-0.669 2.181-0.744 3.881-0.075 1.713-0.094 2.256-0.094 6.6s0.019 4.887 0.094 6.594c0.075 1.7 0.35 2.869 0.744 3.881 0.413 1.056 0.956 1.95 1.85 2.837 0.887 0.887 1.781 1.438 2.831 1.844 1.019 0.394 2.181 0.669 3.881 0.744 1.706 0.075 2.25 0.094 6.594 0.094s4.888-0.019 6.594-0.094c1.7-0.075 2.869-0.35 3.881-0.744 1.050-0.406 1.944-0.956 2.831-1.844s1.438-1.781 1.844-2.831c0.394-1.019 0.669-2.181 0.744-3.881 0.075-1.706 0.094-2.25 0.094-6.594s-0.019-4.887-0.094-6.594c-0.075-1.7-0.35-2.869-0.744-3.881-0.394-1.063-0.938-1.956-1.831-2.844-0.887-0.887-1.781-1.438-2.831-1.844-1.019-0.394-2.181-0.669-3.881-0.744-1.712-0.081-2.256-0.1-6.6-0.1v0z"></path>
				<path d="M16 7.781c-4.537 0-8.219 3.681-8.219 8.219s3.681 8.219 8.219 8.219 8.219-3.681 8.219-8.219c0-4.537-3.681-8.219-8.219-8.219zM16 21.331c-2.944 0-5.331-2.387-5.331-5.331s2.387-5.331 5.331-5.331c2.944 0 5.331 2.387 5.331 5.331s-2.387 5.331-5.331 5.331z"></path>
				<path d="M26.462 7.456c0 1.060-0.859 1.919-1.919 1.919s-1.919-0.859-1.919-1.919c0-1.060 0.859-1.919 1.919-1.919s1.919 0.859 1.919 1.919z"></path>
			</symbol>
			<symbol id="icon-facebook" viewBox="0 0 32 32">
				<path d="M19 6h5v-6h-5c-3.86 0-7 3.14-7 7v3h-4v6h4v16h6v-16h5l1-6h-6v-3c0-0.542 0.458-1 1-1z"></path>
			</symbol>
			<symbol id="icon-twitter" viewBox="0 0 32 32">
				<path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
			</symbol>
			<symbol id="icon-youtube" viewBox="0 0 24 28">
				<path d="M15.172 19.437v3.297c0 0.703-0.203 1.047-0.609 1.047-0.234 0-0.469-0.109-0.703-0.344v-4.703c0.234-0.234 0.469-0.344 0.703-0.344 0.406 0 0.609 0.359 0.609 1.047zM20.453 19.453v0.719h-1.406v-0.719c0-0.703 0.234-1.062 0.703-1.062s0.703 0.359 0.703 1.062zM5.359 16.047h1.672v-1.469h-4.875v1.469h1.641v8.891h1.563v-8.891zM9.859 24.938h1.391v-7.719h-1.391v5.906c-0.313 0.438-0.609 0.656-0.891 0.656-0.187 0-0.297-0.109-0.328-0.328-0.016-0.047-0.016-0.219-0.016-0.547v-5.688h-1.391v6.109c0 0.547 0.047 0.906 0.125 1.141 0.125 0.391 0.453 0.578 0.906 0.578 0.5 0 1.031-0.313 1.594-0.953v0.844zM16.562 22.625v-3.078c0-0.719-0.031-1.234-0.141-1.547-0.172-0.578-0.562-0.875-1.109-0.875-0.516 0-1 0.281-1.453 0.844v-3.391h-1.391v10.359h1.391v-0.75c0.469 0.578 0.953 0.859 1.453 0.859 0.547 0 0.938-0.297 1.109-0.859 0.109-0.328 0.141-0.844 0.141-1.563zM21.844 22.469v-0.203h-1.422c0 0.562-0.016 0.875-0.031 0.953-0.078 0.375-0.281 0.562-0.625 0.562-0.484 0-0.719-0.359-0.719-1.078v-1.359h2.797v-1.609c0-0.828-0.141-1.422-0.422-1.813-0.406-0.531-0.953-0.797-1.656-0.797-0.719 0-1.266 0.266-1.672 0.797-0.297 0.391-0.438 0.984-0.438 1.813v2.703c0 0.828 0.156 1.437 0.453 1.813 0.406 0.531 0.953 0.797 1.687 0.797s1.313-0.281 1.687-0.828c0.172-0.25 0.297-0.531 0.328-0.844 0.031-0.141 0.031-0.453 0.031-0.906zM12.344 8.203v-3.281c0-0.719-0.203-1.078-0.672-1.078-0.453 0-0.672 0.359-0.672 1.078v3.281c0 0.719 0.219 1.094 0.672 1.094 0.469 0 0.672-0.375 0.672-1.094zM23.578 19.938c0 1.797-0.016 3.719-0.406 5.469-0.297 1.234-1.297 2.141-2.5 2.266-2.875 0.328-5.781 0.328-8.672 0.328s-5.797 0-8.672-0.328c-1.203-0.125-2.219-1.031-2.5-2.266-0.406-1.75-0.406-3.672-0.406-5.469v0c0-1.813 0.016-3.719 0.406-5.469 0.297-1.234 1.297-2.141 2.516-2.281 2.859-0.313 5.766-0.313 8.656-0.313s5.797 0 8.672 0.313c1.203 0.141 2.219 1.047 2.5 2.281 0.406 1.75 0.406 3.656 0.406 5.469zM7.984 0h1.594l-1.891 6.234v4.234h-1.563v-4.234c-0.141-0.766-0.453-1.859-0.953-3.313-0.344-0.969-0.688-1.953-1.016-2.922h1.656l1.109 4.109zM13.766 5.203v2.734c0 0.828-0.141 1.453-0.438 1.844-0.391 0.531-0.938 0.797-1.656 0.797-0.703 0-1.25-0.266-1.641-0.797-0.297-0.406-0.438-1.016-0.438-1.844v-2.734c0-0.828 0.141-1.437 0.438-1.828 0.391-0.531 0.938-0.797 1.641-0.797 0.719 0 1.266 0.266 1.656 0.797 0.297 0.391 0.438 1 0.438 1.828zM19 2.672v7.797h-1.422v-0.859c-0.562 0.656-1.094 0.969-1.609 0.969-0.453 0-0.781-0.187-0.922-0.578-0.078-0.234-0.125-0.609-0.125-1.172v-6.156h1.422v5.734c0 0.328 0 0.516 0.016 0.547 0.031 0.219 0.141 0.344 0.328 0.344 0.281 0 0.578-0.219 0.891-0.672v-5.953h1.422z"></path>
			</symbol>
			<symbol id="icon-tiktok" viewBox="0 0 32 32">
				<path d="M16.707 0.027c1.747-0.027 3.48-0.013 5.213-0.027 0.107 2.040 0.84 4.12 2.333 5.56 1.493 1.48 3.6 2.16 5.653 2.387v5.373c-1.92-0.067-3.853-0.467-5.6-1.293-0.76-0.347-1.467-0.787-2.16-1.24-0.013 3.893 0.013 7.787-0.027 11.667-0.107 1.867-0.72 3.72-1.8 5.253-1.747 2.56-4.773 4.227-7.88 4.28-1.907 0.107-3.813-0.413-5.44-1.373-2.693-1.587-4.587-4.493-4.867-7.613-0.027-0.667-0.040-1.333-0.013-1.987 0.24-2.533 1.493-4.96 3.44-6.613 2.213-1.92 5.307-2.84 8.2-2.293 0.027 1.973-0.053 3.947-0.053 5.92-1.32-0.427-2.867-0.307-4.027 0.493-0.84 0.547-1.48 1.387-1.813 2.333-0.28 0.68-0.2 1.427-0.187 2.147 0.32 2.187 2.427 4.027 4.667 3.827 1.493-0.013 2.92-0.88 3.693-2.147 0.253-0.44 0.533-0.893 0.547-1.413 0.133-2.387 0.080-4.76 0.093-7.147 0.013-5.373-0.013-10.733 0.027-16.093z"></path>
			</symbol>
			<symbol id="icon-pinterest" viewBox="0 0 20 20">
				<path d="M8.617 13.227c-0.526 2.754-1.167 5.394-3.068 6.773-0.586-4.162 0.861-7.287 1.534-10.605-1.147-1.93 0.138-5.812 2.555-4.855 2.975 1.176-2.576 7.172 1.15 7.922 3.891 0.781 5.479-6.75 3.066-9.199-3.485-3.538-10.146-0.083-9.326 4.982 0.199 1.238 1.478 1.613 0.511 3.322-2.231-0.494-2.897-2.254-2.811-4.6 0.138-3.84 3.449-6.527 6.771-6.9 4.201-0.471 8.144 1.543 8.689 5.494 0.613 4.461-1.896 9.293-6.389 8.945-1.218-0.095-1.728-0.699-2.682-1.279z"></path>
			</symbol>
		</svg>

	</body>

</html>

<!-- 31.2002, [0d0cc9a6-1599-44b2-9f58-4768f5fec622], 75|69|82|82|73|71|65|78 -->